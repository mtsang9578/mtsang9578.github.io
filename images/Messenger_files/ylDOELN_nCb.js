if (self.CavalryLogger) { CavalryLogger.start_js(["FIUz7"]); }

__d("InsightsCurrencyNamesStatic",["fbt"],(function(a,b,c,d,e,f,g){e.exports={AED:g._("United Arab Emirates Dirham"),AFN:g._("Afghan Afghani"),ALL:g._("Albanian Lek"),AMD:g._("Armenian Dram"),ANG:g._("Netherlands Antillean Guilder"),AOA:g._("Angolan Kwanza"),ARS:g._("Argentine Peso"),AUD:g._("Australian Dollar"),AWG:g._("Aruban Florin"),AZN:g._("Azerbaijani New Manat"),BAM:g._("Bosnia-Herzegovina Convertible Mark"),BBD:g._("Barbadian Dollar"),BDT:g._("Bangladeshi Taka"),BGN:g._("Bulgarian Lev"),BHD:g._("Bahraini Dinar"),BIF:g._("Burundian Franc"),BMD:g._("Bermudan Dollar"),BND:g._("Brunei Dollar"),BOB:g._("Bolivian Boliviano"),BRL:g._("Brazilian Real"),BSD:g._("Bahamian Dollar"),BTN:g._("Bhutanese Ngultrum"),BWP:g._("Botswanan Pula"),BYR:g._("Belarusian Ruble"),BZD:g._("Belize Dollar"),CAD:g._("Canadian Dollar"),CDF:g._("Congolese Franc"),CHF:g._("Swiss Franc"),CLP:g._("Chilean Peso"),CNY:g._("Chinese Yuan"),COP:g._("Colombian Peso"),CRC:g._("Costa Rican Col\u00f3n"),CUC:g._("Cuban Convertible Peso"),CUP:g._("Cuban Peso"),CVE:g._("Cape Verdean Escudo"),CZK:g._("Czech Koruna"),DJF:g._("Djiboutian Franc"),DKK:g._("Danish Krone"),DOP:g._("Dominican Peso"),DZD:g._("Algerian Dinar"),EGP:g._("Egyptian Pound"),ERN:g._("Eritrean Nakfa"),ETB:g._("Ethiopian Birr"),EUR:g._("Euro"),FJD:g._("Fijian Dollar"),FKP:g._("Falkland Islands Pound"),GBP:g._("British Pound"),GEL:g._("Georgian Lari"),GGP:g._("Guernsey Pound"),GHS:g._("Ghanaian Cedi"),GIP:g._("Gibraltar Pound"),GMD:g._("Gambian Dalasi"),GNF:g._("Guinean Franc"),GTQ:g._("Guatemalan Quetzal"),GYD:g._("Guyanaese Dollar"),HKD:g._("Hong Kong Dollar"),HNL:g._("Honduran Lempira"),HRK:g._("Croatian Kuna"),HTG:g._("Haitian Gourde"),HUF:g._("Hungarian Forint"),IDR:g._("Indonesian Rupiah"),ILS:g._("Israeli New Shekel"),IMP:g._("Manx Pound"),INR:g._("Indian Rupee"),IQD:g._("Iraqi Dinar"),IRR:g._("Iranian Rial"),ISK:g._("Icelandic Kr\u00f3na"),JEP:g._("Jersey Pound"),JMD:g._("Jamaican Dollar"),JOD:g._("Jordanian Dinar"),JPY:g._("Japanese Yen"),KES:g._("Kenyan Shilling"),KGS:g._("Kyrgystani Som"),KHR:g._("Cambodian Riel"),KMF:g._("Comorian Franc"),KPW:g._("North Korean Won"),KRW:g._("South Korean Won"),KWD:g._("Kuwaiti Dinar"),KYD:g._("Cayman Islands Dollar"),KZT:g._("Kazakhstani Tenge"),LAK:g._("Laotian Kip"),LBP:g._("Lebanese Pound"),LKR:g._("Sri Lankan Rupee"),LRD:g._("Liberian Dollar"),LSL:g._("Lesotho Loti"),LTL:g._("Lithuanian Litas"),LVL:g._("Latvian Lats"),LYD:g._("Libyan Dinar"),MAD:g._("Moroccan Dirham"),MDL:g._("Moldovan Leu"),MGA:g._("Malagasy Ariary"),MKD:g._("Macedonian Denar"),MMK:g._("Burmese Kyat"),MNT:g._("Mongolian Tugrik"),MOP:g._("Macanese Pataca"),MRO:g._("Mauritanian Ouguiya"),MUR:g._("Mauritian Rupee"),MVR:g._("Maldivian Rufiyaa"),MWK:g._("Malawian Kwacha"),MXN:g._("Mexican Peso"),MYR:g._("Malaysian Ringgit"),MZN:g._("Mozambican Metical"),NAD:g._("Namibian Dollar"),NGN:g._("Nigerian Naira"),NIO:g._("Nicaraguan C\u00f3rdoba"),NOK:g._("Norwegian Krone"),NPR:g._("Nepalese Rupee"),NZD:g._("New Zealand Dollar"),OMR:g._("Omani Rial"),PAB:g._("Panamanian Balboa"),PEN:g._("Peruvian Nuevo Sol"),PGK:g._("Papua New Guinean Kina"),PHP:g._("Philippine Peso"),PKR:g._("Pakistani Rupee"),PLN:g._("Polish Z\u0142oy"),PYG:g._("Paraguayan Guaran\u00ed"),QAR:g._("Qatari Rial"),RON:g._("Romanian Leu"),RSD:g._("Serbian Dinar"),RUB:g._("Russian Ruble"),RWF:g._("Rwandan Franc"),SAR:g._("Saudi Riyal"),SBD:g._("Solomon Islands Dollar"),SCR:g._("Seychellois Rupee"),SDG:g._("Sudanese Pound"),SEK:g._("Swedish Krona"),SGD:g._("Singapore Dollar"),SHP:g._("St. Helena Pound"),SLL:g._("Sierra Leonean Leone"),SOS:g._("Somali Shilling"),SRD:g._("Surinamese Dollar"),STD:g._("S\u00e3o Tom\u00e9 and Pr\u00ecncipe Dobra"),SVC:g._("Salvadoran Col\u00f3n"),SYP:g._("Syrian Pound"),SZL:g._("Swazi Lilangeni"),THB:g._("Thai Baht"),TJS:g._("Tajikistani Somoni"),TMT:g._("Turkmenistani Manat"),TND:g._("Tunisian Dinar"),TOP:g._("Tongan Pa\u02bbnga"),TRY:g._("Turkish Lira"),TTD:g._("Trinidad and Tobago Dollar"),TVD:g._("Tuvaluan Dollar"),TWD:g._("New Taiwan Dollar"),TZS:g._("Tanzanian Shilling"),UAH:g._("Ukrainian Hryvnia"),UGX:g._("Ugandan Shilling"),USD:g._("US Dollar"),UYU:g._("Uruguayan Peso"),UZS:g._("Uzbekistan Som"),VEF:g._("Venezuelan Bol\u00edvar"),VND:g._("Vietnamese Dong"),VUV:g._("Vanuatu Vatu"),WST:g._("Samoan T\u0101l\u0101"),XAF:g._("Central African CFA Franc"),XCD:g._("East Caribbean Dollar"),XOF:g._("West African CFA Franc"),XPF:g._("CFP Franc"),YER:g._("Yemeni Rial"),ZAR:g._("South African Rand"),ZMW:g._("Zambian Kwacha"),ZWD:g._("Zimbabwean Dollar")}}),null);
__d("InsightsLocaleNamesStatic",["fbt"],(function(a,b,c,d,e,f,g){e.exports={af_ZA:g._("Afrikaans"),ar_AE:g._("Arabic (United Arab Emirates)"),ar_AR:g._("Arabic"),ar_BH:g._("Arabic (Bahrain)"),ar_DJ:g._("Arabic (Djibouti)"),ar_DZ:g._("Arabic (Algeria)"),ar_EG:g._("Arabic (Egypt)"),ar_EH:g._("Arabic (Western Sahara)"),ar_ER:g._("Arabic (Eritrea)"),ar_IL:g._("Arabic (Israel)"),ar_IQ:g._("Arabic (Iraq)"),ar_JO:g._("Arabic (Jordan)"),ar_KM:g._("Arabic (Comoros)"),ar_KW:g._("Arabic (Kuwait)"),ar_LB:g._("Arabic (Lebanon)"),ar_LY:g._("Arabic (Libya)"),ar_MA:g._("Arabic (Morocco)"),ar_MR:g._("Arabic (Mauritania)"),ar_OM:g._("Arabic (Oman)"),ar_PS:g._("Arabic (Palestinian Territories)"),ar_QA:g._("Arabic (Qatar)"),ar_SA:g._("Arabic (Saudi Arabia)"),ar_SD:g._("Arabic (Sudan)"),ar_SO:g._("Arabic (Somalia)"),ar_SS:g._("Arabic (South Sudan)"),ar_SY:g._("Arabic (Syria)"),ar_TD:g._("Arabic (Chad)"),ar_TN:g._("Arabic (Tunisia)"),ar_US:g._("Arabic (US)"),ar_YE:g._("Arabic (Yemen)"),ay_BO:g._("Aymara"),az_AZ:g._("Azerbaijani"),be_BY:g._("Belarusian"),bg_BG:g._("Bulgarian"),bn_IN:g._("Bengali"),bs_BA:g._("Bosnian"),ca_ES:g._("Catalan"),ck_US:g._("Cherokee"),cs_CZ:g._("Czech"),cx_PH:g._("Cebuano"),cy_GB:g._("Welsh"),da_DK:g._("Danish"),de_AT:g._("German (Austria)"),de_CH:g._("German (Switzerland)"),de_DE:g._("German"),el_GR:g._("Greek"),en_AD:g._("English (Andorra)"),en_AE:g._("English (United Arab Emirates)"),en_AG:g._("English (Antigua & Barbuda)"),en_AI:g._("English (Anguilla)"),en_AL:g._("English (Albania)"),en_AS:g._("English (American Samoa)"),en_AT:g._("English (Austria)"),en_AU:g._("English (Australia)"),en_BA:g._("English (Bosnia & Herzegovina)"),en_BB:g._("English (Barbados)"),en_BE:g._("English (Belgium)"),en_BM:g._("English (Bermuda)"),en_BR:g._("English (Brazil)"),en_BS:g._("English (Bahamas)"),en_BW:g._("English (Botswana)"),en_BZ:g._("English (Belize)"),en_CA:g._("English (Canada)"),en_CC:g._("English (Cocos [Keeling] Islands)"),en_CH:g._("English (Switzerland)"),en_CK:g._("English (Cook Islands)"),en_CM:g._("English (Cameroon)"),en_CX:g._("English (Christmas Island)"),en_CY:g._("English (Cyprus)"),en_CZ:g._("English (Czech Republic)"),en_DE:g._("English (Germany)"),en_DG:g._("English (Diego Garcia)"),en_DK:g._("English (Denmark)"),en_DM:g._("English (Dominica)"),en_EE:g._("English (Estonia)"),en_EG:g._("English (Egypt)"),en_ER:g._("English (Eritrea)"),en_ES:g._("English (Spain)"),en_FI:g._("English (Finland)"),en_FJ:g._("English (Fiji)"),en_FK:g._("English (Falkland Islands)"),en_FM:g._("English (Micronesia)"),en_FR:g._("English (France)"),en_GB:g._("English (UK)"),en_GD:g._("English (Grenada)"),en_GG:g._("English (Guernsey)"),en_GH:g._("English (Ghana)"),en_GI:g._("English (Gibraltar)"),en_GM:g._("English (Gambia)"),en_GR:g._("English (Greece)"),en_GU:g._("English (Guam)"),en_GY:g._("English (Guyana)"),en_HK:g._("English (Hong Kong SAR China)"),en_HR:g._("English (Croatia)"),en_HU:g._("English (Hungary)"),en_ID:g._("English (Indonesia)"),en_IE:g._("English (Ireland)"),en_IL:g._("English (Israel)"),en_IM:g._("English (Isle of Man)"),en_IN:g._("English (India)"),en_IO:g._("English (British Indian Ocean Territory)"),en_IS:g._("English (Iceland)"),en_IT:g._("English (Italy)"),en_JE:g._("English (Jersey)"),en_JM:g._("English (Jamaica)"),en_JP:g._("English (Japan)"),en_KE:g._("English (Kenya)"),en_KI:g._("English (Kiribati)"),en_KN:g._("English (St. Kitts & Nevis)"),en_KR:g._("English (Korea)"),en_KW:g._("English (Kuwait)"),en_KY:g._("English (Cayman Islands)"),en_LB:g._("English (Lebanon)"),en_LC:g._("English (St. Lucia)"),en_LR:g._("English (Liberia)"),en_LS:g._("English (Lesotho)"),en_LT:g._("English (Lithuania)"),en_LU:g._("English (Luxembourg)"),en_LV:g._("English (Latvia)"),en_ME:g._("English (Montenegro)"),en_MG:g._("English (Madagascar)"),en_MH:g._("English (Marshall Islands)"),en_MO:g._("English (Macau SAR China)"),en_MP:g._("English (Northern Mariana Islands)"),en_MS:g._("English (Montserrat)"),en_MT:g._("English (Malta)"),en_MU:g._("English (Mauritius)"),en_MW:g._("English (Malawi)"),en_MX:g._("English (Mexico)"),en_MY:g._("English (Malaysia)"),en_NA:g._("English (Namibia)"),en_NF:g._("English (Norfolk Island)"),en_NG:g._("English (Nigeria)"),en_NL:g._("English (Netherlands)"),en_NO:g._("English (Norway)"),en_NR:g._("English (Nauru)"),en_NU:g._("English (Niue)"),en_NZ:g._("English (New Zealand)"),en_PG:g._("English (Papua New Guinea)"),en_PH:g._("English (Philippines)"),en_PI:g._("English (Pirate)"),en_PK:g._("English (Pakistan)"),en_PL:g._("English (Poland)"),en_PN:g._("English (Pitcairn Islands)"),en_PR:g._("English (Puerto Rico)"),en_PT:g._("English (Portugal)"),en_PW:g._("English (Palau)"),en_RO:g._("English (Romania)"),en_RU:g._("English (Russia)"),en_RW:g._("English (Rwanda)"),en_SA:g._("English (South Africa)"),en_SB:g._("English (Solomon Islands)"),en_SC:g._("English (Seychelles)"),en_SD:g._("English (Sudan)"),en_SE:g._("English (Sweden)"),en_SG:g._("English (Singapore)"),en_SH:g._("English (St. Helena)"),en_SI:g._("English (Slovenia)"),en_SK:g._("English (Slovakia)"),en_SL:g._("English (Sierra Leone)"),en_SS:g._("English (South Sudan)"),en_SX:g._("English (Sint Maarten)"),en_SZ:g._("English (Swaziland)"),en_TC:g._("English (Turks & Caicos Islands)"),en_TH:g._("English (Thailand)"),en_TK:g._("English (Tokelau)"),en_TO:g._("English (Tonga)"),en_TR:g._("English (Turkey)"),en_TT:g._("English (Trinidad & Tobago)"),en_TV:g._("English (Tuvalu)"),en_TZ:g._("English (Tanzania)"),en_UD:g._("English (Upside Down)"),en_UG:g._("English (Uganda)"),en_UM:g._("English (U.S. Outlying Islands)"),en_US:g._("English (US)"),en_VC:g._("English (St. Vincent & Grenadines)"),en_VG:g._("English (British Virgin Islands)"),en_VI:g._("English (U.S. Virgin Islands)"),en_VU:g._("English (Vanuatu)"),en_WS:g._("English (Samoa)"),en_ZA:g._("English (South Africa)"),en_ZM:g._("English (Zambia)"),en_ZW:g._("English (Zimbabwe)"),eo_EO:g._("Esperanto"),es_AR:g._("Spanish (Argentina)"),es_BO:g._("Spanish (Bolivia)"),es_CL:g._("Spanish (Chile)"),es_CO:g._("Spanish (Colombia)"),es_CR:g._("Spanish (Costa Rica)"),es_CU:g._("Spanish (Cuba)"),es_DO:g._("Spanish (Dominican Republic)"),es_EA:g._("Spanish (Ceuta & Melilla)"),es_EC:g._("Spanish (Ecuador)"),es_ES:g._("Spanish (Spain)"),es_GQ:g._("Spanish (Equatorial Guinea)"),es_GT:g._("Spanish (Guatemala)"),es_HN:g._("Spanish (Honduras)"),es_IC:g._("Spanish (Canary Islands)"),es_LA:g._("Spanish"),es_MX:g._("Spanish (Mexico)"),es_NI:g._("Spanish (Nicaragua)"),es_PA:g._("Spanish (Panama)"),es_PE:g._("Spanish (Peru)"),es_PH:g._("Spanish (Philippines)"),es_PR:g._("Spanish (Puerto Rico)"),es_PY:g._("Spanish (Paraguay)"),es_SV:g._("Spanish (El Salvador)"),es_US:g._("Spanish (United States)"),es_UY:g._("Spanish (Uruguay)"),es_VE:g._("Spanish (Venezuela)"),et_EE:g._("Estonian"),eu_ES:g._("Basque"),fa_IR:g._("Persian"),fb_LT:g._("Leet Speak"),fi_FI:g._("Finnish"),fo_FO:g._("Faroese"),fr_BE:g._("French (Belgium)"),fr_BF:g._("French (Burkina Faso)"),fr_BI:g._("French (Burundi)"),fr_BJ:g._("French (Benin)"),fr_BL:g._("French (St. Barthlemy)"),fr_CA:g._("French (Canada)"),fr_CD:g._("French (Congo - Kinshasa)"),fr_CF:g._("French (Central African Republic)"),fr_CG:g._("French (Congo - Brazzaville)"),fr_CH:g._("French (Switzerland)"),fr_CI:g._("French (Cote d'Ivoire)"),fr_CM:g._("French (Cameroon)"),fr_DJ:g._("French (Djibouti)"),fr_DZ:g._("French (Algeria)"),fr_FR:g._("French (France)"),fr_GA:g._("French (Gabon)"),fr_GF:g._("French (French Guiana)"),fr_GN:g._("French (Guinea)"),fr_GP:g._("French (Guadeloupe)"),fr_GQ:g._("French (Equatorial Guinea)"),fr_HT:g._("French (Haiti)"),fr_KM:g._("French (Comoros)"),fr_LU:g._("French (Luxembourg)"),fr_MA:g._("French (Morocco)"),fr_MC:g._("French (Monaco)"),fr_MF:g._("French (St. Martin)"),fr_MG:g._("French (Madagascar)"),fr_ML:g._("French (Mali)"),fr_MQ:g._("French (Martinique)"),fr_MR:g._("French (Mauritania)"),fr_MU:g._("French (Mauritius)"),fr_NC:g._("French (New Caledonia)"),fr_NE:g._("French (Niger)"),fr_PF:g._("French (French Polynesia)"),fr_PM:g._("French (St. Pierre & Miquelon)"),fr_RE:g._("French (La Reunion)"),fr_RW:g._("French (Rwanda)"),fr_SC:g._("French (Seychelles)"),fr_SN:g._("French (Senegal)"),fr_SY:g._("French (Syria)"),fr_TD:g._("French (Chad)"),fr_TG:g._("French (Togo)"),fr_TN:g._("French (Tunisia)"),fr_VU:g._("French (Vanuatu)"),fr_WF:g._("French (Wallis & Futuna)"),fr_YT:g._("French (Mayotte)"),fy_NL:g._("Frisian"),ga_IE:g._("Irish"),gl_ES:g._("Galician"),gn_PY:g._("Guarani"),gu_IN:g._("Gujarati"),gx_GR:g._("Classical Greek"),he_IL:g._("Hebrew"),hi_IN:g._("Hindi"),hr_HR:g._("Croatian"),hu_HU:g._("Hungarian"),hy_AM:g._("Armenian"),id_ID:g._("Indonesian"),is_IS:g._("Icelandic"),it_IT:g._("Italian"),iw_IL:g._("Hebrew (Israel)"),ja_JP:g._("Japanese"),ja_KS:g._("Japanese (Japan Kansai)"),jv_ID:g._("Javanese"),ka_GE:g._("Georgian"),kk_KZ:g._("Kazakh"),km_KH:g._("Khmer"),kn_IN:g._("Kannada"),ko_KR:g._("Korean"),ku_TR:g._("Kurdish"),la_VA:g._("Latin"),li_NL:g._("Limburgish"),lt_LT:g._("Lithuanian"),lv_LV:g._("Latvian"),mg_MG:g._("Malagasy"),mk_MK:g._("Macedonian"),ml_IN:g._("Malayalam"),mn_MN:g._("Mongolian"),mr_IN:g._("Marathi"),ms_MY:g._("Malay"),mt_MT:g._("Maltese"),nb_NO:g._("Norwegian (Bokmal)"),ne_NP:g._("Nepali"),nl_BE:g._("Dutch (Belgium)"),nl_NL:g._("Dutch"),nn_NO:g._("Norwegian (Nynorsk)"),pa_IN:g._("Punjabi"),pl_PL:g._("Polish"),ps_AF:g._("Pashto"),pt_BR:g._("Portuguese (Brazil)"),pt_PT:g._("Portuguese (Portugal)"),qu_PE:g._("Quechua"),rm_CH:g._("Romansh"),ro_RO:g._("Romanian"),ru_BY:g._("Russian (Belarus)"),ru_KZ:g._("Russian (Kazakhstan)"),ru_RU:g._("Russian"),ru_UA:g._("Russian (Ukraine)"),sa_IN:g._("Sanskrit"),se_NO:g._("Northern Sami"),sk_SK:g._("Slovak"),sl_SI:g._("Slovenian"),so_SO:g._("Somali"),sq_AL:g._("Albanian"),sr_RS:g._("Serbian"),sv_SE:g._("Swedish"),sw_KE:g._("Swahili"),sy_SY:g._("Syriac"),ta_IN:g._("Tamil"),te_IN:g._("Telugu"),tg_TJ:g._("Tajik"),th_TH:g._("Thai"),tl_PH:g._("Filipino"),tl_ST:g._("Klingon"),tr_TR:g._("Turkish"),tt_RU:g._("Tatar"),uk_UA:g._("Ukrainian"),ur_PK:g._("Urdu"),uz_UZ:g._("Uzbek"),vi_VN:g._("Vietnamese"),xh_ZA:g._("Xhosa"),yi_DE:g._("Yiddish"),zh_CN:g._("Simplified Chinese (China)"),zh_HK:g._("Traditional Chinese (Hong Kong)"),zh_TW:g._("Traditional Chinese (Taiwan)"),zu_ZA:g._("Zulu")}}),null);
__d("BlueBarFocusListener",["CSS","Deferred","Event","TimeSlice","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g="f_key",h="f_click",i=null,j=function(){i=null};function k(a){b("CSS").removeClass(a,g),b("CSS").removeClass(a,h)}var l=b("TimeSlice").guard(function(a){i&&i.reject(),i=new(b("Deferred"))(),b("promiseDone")(i.getPromise().then(function(c){k(a),b("CSS").addClass(a,c)}),j,j)},"BlueBarFocusListener focusIn",{propagationType:b("TimeSlice").PropagationType.ORPHAN});function m(){i&&i.resolve(g)}function n(a){i&&i.reject(),b("CSS").removeClass(a,g),b("CSS").addClass(a,h)}function o(a){return function(event){a(event.getTarget())}}a={listen:function(a){if(!a)return;b("Event").listen(a,"focusout",o(k));b("Event").listen(a,"focusin",o(l));b("Event").listen(a,"click",o(n));b("Event").listen(a,"keyup",m)}};e.exports=a}),null);
__d("RoyalBluebarTransitions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INDETERMINATE:"Indeterminate",PULSE:"Pulse",SHIMMER:"Shimmer",NONE:"none",OFF:"off",PULSE_GIF_2S:"pulse_gif1",PULSE_GIF_2S_DARKER:"pulse_gif2",PULSE_GIF_3S:"pulse_gif3"})}),null);
__d("RoyalBluebar",["cx","Arbiter","BigPipe","CSS","Event","QuicklingFetchStreamConfig","RoyalBluebarTransitions","Run","SubscriptionsHandler","clearTimeout","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null,i=!1,j=b("QuicklingFetchStreamConfig"),k=j.experimentName,l=k!==b("RoyalBluebarTransitions").OFF&&k!==b("RoyalBluebarTransitions").NONE;function m(){h&&h()}var n={_subscriptionHandler:null,_getSubscriptionHandler:function(){this._subscriptionHandler||(this._subscriptionHandler=new(b("SubscriptionsHandler"))(),b("Run").onUnload(function(){this._subscriptionHandler.release(),this._subscriptionHandler=null}.bind(this)));return this._subscriptionHandler},fixOnScroll:function(a){this._getSubscriptionHandler().addSubscriptions(b("Arbiter").subscribe("bluebarFixedBehaviorController/isfixed",function(c,d){c="_50ti";var e="_33rf";a.firstChild instanceof Element&&b("CSS").conditionClass(a.firstChild,c,d);a.firstChild instanceof Element&&b("CSS").conditionClass(a.firstChild,e,!d);b("Arbiter").inform("reflow")}))},informOnClick:function(a){this._getSubscriptionHandler().addSubscriptions(b("Event").listen(a,"click",function(event){b("Arbiter").inform("BlueBar/homeClick",event)===!1&&event.preventDefault()}))},stopAnimatingAfterDD:function(){var a=b("Arbiter").subscribeOnce(b("BigPipe").Events.init,function(a,c){c.arbiter.subscribeOnce(b("BigPipe").Events.displayed,m)}),c=b("Run").onAfterLoad(m);h=function(){h=null,b("Arbiter").unsubscribe(a),c.remove(),n.stopTransitionAnimation()}},startTransitionAnimation:function(){if(l){h&&h();var a=b("ge")(j.bluebarTransitionElement);a&&b("CSS").addClass(a,j.bluebarTransitionClass)}},stopTransitionAnimation:function(){__p&&__p();if(l){var a=j,c=b("ge")(a.bluebarTransitionElement);if(!c)return;if(k===b("RoyalBluebarTransitions").INDETERMINATE){if(!i){i=!0;b("CSS").addClass(c,"finishing");var d;h=function(){h=null,i=!1,b("clearTimeout")(d),b("CSS").removeClass(c,"finishing"),b("CSS").removeClass(c,a.bluebarTransitionClass)};d=b("setTimeoutAcrossTransitions")(h,200)}}else b("CSS").removeClass(c,a.bluebarTransitionClass)}}};e.exports=n}),null);
__d("BusinessURI.brands",["BizSiteIdentifier.brands","BusinessConf","URI","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g;a=babelHelpers.inherits(h,b("URI"));g=a&&a.prototype;function h(a,c){"use strict";__p&&__p();g.constructor.call(this,a);if(b("BizSiteIdentifier.brands").isBizSite()){a=c||b("BizSiteIdentifier.brands").getBusinessID();a&&this.addQueryData(b("BusinessConf").BIZ_ID_PARAM_NAME,a);this.$BusinessURI1(this.getSubdomain())||this.setSubdomain(b("BusinessConf").DOMAIN)}if(!b("isFacebookURI")(this))throw new Error("Business URI must be FB URI");return this}h.prototype.$BusinessURI1=function(a){"use strict";return a==="developers"};c=function(a,b){return new h(a,b)};c.BusinessURI=h;e.exports=c}),null);
__d("NubController",["csx","ArbiterMixin","Dock"],(function(a,b,c,d,e,f,g){__p&&__p();function a(){}Object.assign(a.prototype,b("ArbiterMixin"),{init:function(a){this.el=a;this.nubButton=a.querySelector(".fbNubButton");this.closeButton=a.querySelector("._2dv8");b("Dock").registerNubController(a,this);this.closeButton&&this.closeButton.addEventListener("click",this.hide.bind(this));return this},buttonContentChanged:function(){this.inform("nub/button/content-changed")},flyoutContentChanged:function(){this.inform("nub/flyout/content-changed")},hide:function(){b("Dock").hide(this.el)},show:function(){b("Dock").show(this.el)}});e.exports=a}),null);
__d("BuddyListNub",["csx","cx","fbt","Arbiter","AsyncRequest","AvailableList","BootloadedComponent.react","ChannelConnection","ChatConfig","ChatOptions","ChatSidebarActions","ChatSidebarStore","ChatSidebarVisibility","ChatVisibility","CSS","Dock","DOM","Event","JSLogger","JSResource","KeyboardShortcuts","Keys","NubController","OrderedFriendsList","Parent","PresencePrivacy","PresenceStatus","PresenceUtil","React","ReactDOM","Run","SidebarType","Style","Toggler","emptyFunction","intlNumUtils","translateKey"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("ChatConfig").get("chat_tab_m4_header"),l=40,m=253,n=k?"277px":"285px",o=b("JSLogger").create("buddylist_nub");c=babelHelpers.inherits(a,b("NubController"));j=c&&c.prototype;function a(a,c,d,e){"use strict";__p&&__p();j.constructor.call(this);j.init.call(this,a);this.root=a;this.orderedList=c;this.button=b("DOM").find(a,"a.fbNubButton");this.unreadCount=b("DOM").find(a,"span._5ayx");this.label=b("DOM").find(a,"span.label");this.buddyListTitle=b("DOM").find(a,".titlebarTextWrapper");this.body=b("DOM").scry(a,"div.fbNubFlyoutBody")[0];this.container=b("Parent").bySelector(a,"._56ox");var f=b("DOM").find(a,"div.fbNubFlyoutTitlebar");b("Toggler").createInstance(f).setSticky(!1);b("Toggler").createInstance(a).setSticky(!0);e&&b("Run").onAfterLoad(function(){this.dropdown=b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarDropdown.react").__setRef("BuddyListNub"),onToggleSidebar:function(){},sidebarType:b("SidebarType").BUDDYLIST}),e)}.bind(this));c.subscribeOnce("render",this.flyoutContentChanged.bind(this));b("Run").onAfterLoad(function(){__p&&__p();var a=b("DOM").find(f,"div._4k48");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarComposeLink.react").__setRef("BuddyListNub"),className:"_3a-4"}),a);a=b("DOM").find(this.button,"div._1us9");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarComposeLink.react").__setRef("BuddyListNub"),className:"_3a-4"}),a);a=b("DOM").find(this.button,"div._1usa");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarDropdown.react").__setRef("BuddyListNub"),onToggleSidebar:function(){},sidebarType:b("SidebarType").BUDDYLIST_NUB}),a);a=b("DOM").find(f,"div._3gl7");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarGroupCreateButtonReactComponent").__setRef("BuddyListNub")}),a);a=b("DOM").find(this.button,"div._3gll");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarGroupCreateButtonReactComponent").__setRef("BuddyListNub"),className:"newGCF"}),a)}.bind(this));c.setScrollContainer(this.body);b("AvailableList").subscribe("buddylist/availability-changed",this._updateCount.bind(this));b("Arbiter").subscribe("chat/connect",function(){return this._handleConnect(!0)}.bind(this));b("Arbiter").subscribe("chat/option-changed",function(a,b){b.name=="hide_groups"?this.onResize():b.name==="hide_buddylist"&&(b.value?this.hide():this.show())}.bind(this));b("ChannelConnection").subscribe(b("ChannelConnection").CONNECTED,function(){return this._updateView()}.bind(this));b("ChannelConnection").subscribe(b("ChannelConnection").SHUTDOWN,function(){return this._updateView()}.bind(this));b("ChannelConnection").subscribe(b("ChannelConnection").RECONNECTING,function(){return this._updateView()}.bind(this));b("ChannelConnection").subscribe([b("ChannelConnection").MUTE_WARNING,b("ChannelConnection").UNMUTE_WARNING],function(){return this._updateView()}.bind(this));this.subscribe("show",this.onShow.bind(this));this.subscribe("hide",this.onHide.bind(this));this.subscribe("resize",this.onResize.bind(this));b("Event").listen(a,"keydown",this._onKeyDown.bind(this));b("Event").listen(this.button,"click",this.onButtonClick.bind(this));b("KeyboardShortcuts").register("q",function(event){this._isOpen||(this.onButtonClick(),this.show()),event.prevent()}.bind(this),{persistOnTransition:!0,shortcutInfo:{displayKeys:[b("translateKey")("q")],description:i._("Search Messenger contacts")}});b("Arbiter").subscribe("minisidebar/show",this.hide.bind(this));b("Arbiter").subscribe("sidebar/visibility",function(a,b){b?this.hide():this._onSidebarHide()}.bind(this));b("Style").set(this.body,"min-height",n);b("Arbiter").subscribe("sidebar/typeahead/active",function(a,c){c?(this._typeaheadActive=!0,b("CSS").hide(this.body.parentNode),this.orderedList.hide(),this.onResize()):(this._typeaheadActive=!1,this.onResize(),b("CSS").show(this.body.parentNode),this.orderedList.show())}.bind(this));b("OrderedFriendsList").getList(function(a){b("ChatSidebarStore").isEnabled()&&b("ChatSidebarStore").getVisibleType()===b("SidebarType").BUDDYLIST&&!b("ChatOptions").getSetting("hide_buddylist")&&!b("ChannelConnection").disconnected()&&!b("PresencePrivacy").isUserOffline()&&a.length>0&&this.show(),b("Event").listen(f,"click",function(a){b("CSS").matchesSelector(a.target,".titlebarTextWrapper")&&this._syncHideBuddylist(!0)}.bind(this)),this._updateView(),o.log("buddylist_initialized")}.bind(this))}a.prototype._handleVisibilityChange=function(){"use strict";this._updateView(),b("ChatVisibility").isOnline()||this.hide()};a.prototype._updateView=function(a){"use strict";__p&&__p();var c;if(!b("ChatVisibility").isOnline())a=i._("{Chat} (Off)",[i._param("Chat",i._("Chat"))]);else if(b("ChannelConnection").disconnected())a=i._("{Chat} (Disconnected)",[i._param("Chat",i._("Chat"))]);else{var d=b("PresenceStatus").getOnlineCount();if(d){var e=b("DOM").create("span",{className:"count"},"("+b("intlNumUtils").formatNumberWithThousandDelimiters(d)+")");a=i._({"*":"{Chat} {number-available}"},[i._param("Chat",i._("Chat")),i._param("number-available",e,[0,d])])}else a=i._("Chat"),c=!0}this._setPresenceIcon();this._setUnread();this._setLabel(a,c);this._updateBuddyListTitle();this.buttonContentChanged()};a.prototype._updateBuddyListTitle=function(){"use strict";__p&&__p();if(!k)return;var a,c=i._("Chat"),d="_6d4h";if(!b("ChatVisibility").isOnline()||b("ChannelConnection").disconnected())a=b("DOM").create("div",{"class":d},c);else{var e=b("PresenceStatus").getOnlineCount(),f;e&&(d="_6d4h _6d4i",f=b("DOM").create("div",{"class":"_6d4j"},i._("{subTitle} online",[i._param("subTitle",b("intlNumUtils").formatNumberWithThousandDelimiters(e))])));e=b("DOM").create("div",{"class":d},c);f&&b("DOM").appendContent(e,f);a=e}d=this.buddyListTitle.textContent||this.buddyListTitle.innerText;if(a&&d!==a){c=this.buddyListTitle.cloneNode(!0);b("DOM").setContent(c,a);b("DOM").replace(this.buddyListTitle,c);this.buddyListTitle=c}};a.prototype._setPresenceIcon=function(){"use strict";b("CSS").conditionClass(this.root,"offline",!b("ChatVisibility").isOnline()||b("ChannelConnection").disconnected())};a.prototype.onButtonClick=function(){"use strict";if(!b("ChatSidebarStore").isInitialized())return!0;b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,c){c=b("ChatSidebarStore").isEnabled();!c&&a?b("ChatSidebarActions").enable(b("SidebarType").SIDEBAR):b("ChatSidebarActions").show(c&&a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)})};a.prototype.onHide=function(){"use strict";this._isOpen=!1,this._buddyListRenderSubscription&&(this.orderedList.unsubscribe(this._buddyListRenderSubscription),this._buddyListRenderSubscription=null),this._hideBuddyList(),b("Arbiter").inform("buddylist/hide")};a.prototype._onKeyDown=function(event){"use strict";var a=b("Event").getKeyCode(event);if(a===b("Keys").ESC&&!b("CSS").hasClass(this.root,"menuOpened")){this.hide();return!1}else a==b("Keys").RETURN&&b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,c){b("ChatSidebarActions").enable(a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)})};a.prototype._onSidebarHide=function(event){"use strict";b("OrderedFriendsList").getList(function(a){b("ChatSidebarStore").isEnabled()&&!b("ChatOptions").getSetting("hide_buddylist")&&!b("ChannelConnection").disconnected()&&!b("PresencePrivacy").isUserOffline()&&a.lenth>0?this.show():this.hide()}.bind(this))};a.prototype.onResize=function(){"use strict";var a=this._typeaheadActive?b("Dock").getMaxFlyoutHeight(this.root)-60:m;b("Arbiter").inform("buddyList/resized",a,"persistent");this._typeaheadActive?b("Style").set(this.body,"max-height","none"):b("Style").set(this.body,"max-height",n);a=Math.max(250,a);a=Math.floor(a/l);this.orderedList.setNumTopFriends(a,!1,b("SidebarType").BUDDYLIST)};a.prototype._showBuddyList=function(){"use strict";this._buddyListRenderSubscription=this.orderedList.subscribe("render",function(){b("Style").get(this.body,"height")!=n&&b("Style").set(this.body,"height",n)}.bind(this)),this.orderedList.show(),o.bump("buddylist_show")};a.prototype._hideBuddyList=function(){"use strict";this.orderedList.hide(),o.bump("buddylist_hide")};a.prototype.onShow=function(){"use strict";this._isOpen=!0,b("ChannelConnection").disconnected()?(b("ChannelConnection").reconnect(),this._showBuddyList()):b("ChatVisibility").goOnline(this._showBuddyList.bind(this)),this._syncHideBuddylist(!1)};a.prototype._setLabel=function(a,c){"use strict";var d=this.label.textContent||this.label.innerText;if(d!==a){d=this.label.cloneNode(!0);b("DOM").setContent(d,a);b("DOM").replace(this.label,d);this.label=d}this.throbber&&b("CSS").conditionShow(this.throbber,!!c)};a.prototype._setUnread=function(a){"use strict";b("CSS").conditionShow(this.unreadCount,!!a)};a.prototype._updateCount=function(){"use strict";this._updateView()};a.prototype._syncHideBuddylist=function(a){"use strict";b("ChatOptions").setSetting("hide_buddylist",a,"buddylist"),new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(b("emptyFunction")).setErrorHandler(b("emptyFunction")).setData({hide_buddylist:a,window_id:b("PresenceUtil").getSessionID()}).setAllowCrossPageTransition(!0).send()};b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,c){c.buddylist_visible=b("ChatSidebarStore").getVisibleType()===b("SidebarType").BUDDYLIST});e.exports=a}),null);
__d("FacebookWebNotificationsSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2382846945064526",queryID:"1138169679678964"})}),null);
__d("FacebookWebNotificationsSubscription",["invariant","BaseGraphQLSubscription","CurrentUser","FacebookWebNotificationsSubscriptionWebGraphQLSubscription","SubscriptionsHandler","WebPixelRatio","uuid"],(function(a,b,c,d,e,f,g){__p&&__p();var h="WEB_DESKTOP",i=[],j=null,k=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/"+this._getSubscriptionCallName()+"/actor_id_"+a.actorID+"_environment_"+h},_getQueryID:function(){return b("FacebookWebNotificationsSubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),environment:h}),is_work_user:b("CurrentUser").isWorkUser(),scale:b("WebPixelRatio").get()}},_getSubscriptionCallName:function(){return"web_notification_receive_subscribe"}});function l(a){__p&&__p();a=a.web_notification_receive_subscribe;var b=a.aggregated_notification,c=a.notification,d=a.pinned_conversation,e=a.should_play_sound,f=a.should_show_beeper;i.forEach(function(a){switch(a.event){case"NEW_BEEPER":c!=null&&f===!0&&a.callback({notification:c,should_play_sound:!!e});break;case"NEW_NOTIFICATION":b!=null&&a.callback(b);break;case"NEW_PINNED_CONVERSATION":d!=null&&a.callback(d);break}})}e.exports={subscribe:function(a){__p&&__p();i.push(a);j===null&&(j=new(b("SubscriptionsHandler"))(),j.addSubscriptions(k.subscribe({actorID:b("CurrentUser").getID()},l)));var c=!1;return{remove:function(){if(c===!0)return;j!=null||g(0,3589);c=!0;i.splice(i.indexOf(a),1);i.length===0&&(j.release(),j=null)}}}}}),null);
__d("NotificationBeeperConst",["keyMirror"],(function(a,b,c,d,e,f){a={IDLE_DELAY:1e4,ACTIVE_DELAY_LONG:4e3,FADE_OUT_LENGTH:1500,BeepStates:b("keyMirror")({PENDING:!0,RENDERED:!0,READY_TO_HIDE:!0,FADING_OUT:!0})};e.exports=a}),null);
__d("FBProfilePhotoShadow.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props,c=a.className,d=a.children;a=babelHelpers.objectWithoutProperties(a,["className","children"]);d=b("React").Children.only(d);return b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(c,"_38vo")}),b("React").cloneElement(d,{className:b("joinClasses")(d.props.className,"_44ma")}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("NotificationBeeperItemCloseButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=h._("Close");return b("React").createElement(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{className:"_3soc",title:a,label:a,labelIsHidden:!0}))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("FeedQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CACHE_FETCH:655545,COMMENT_TTL_WWW:655585,CONSUMPTION_RESTORATION_WWW:655575,IMAGE_LOAD_WWW:655576,LOAD:655546,LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW:655596,LOAD_STORY_PERMALINK_FROM_ANYWHERE_WWW:655597,MAIN_THREAD_PERFORMANCE:655595,NETWORK_FETCH:655544,NOTIFICATION_INTERACTION_WWW:655584,POST_STARTUP:655535,SCROLL_PERF:655590})}),null);
__d("VideoPermalinkURI",[],(function(a,b,c,d,e,f){__p&&__p();var g={isValid:function(a){return g.parse(a)!==null},parse:function(a){__p&&__p();if(this.isValidLegacy(a)){var b=a.getQueryData();return b.v?{video_id:b.v,set_token:b.set}:null}b=a.getPath();b[b.length-1]==="/"&&(b=b.substring(0,b.length-1));a=b.split("/");if(a.length>=3&&a[2]==="videos")if(a.length===4&&this.isNumeric(a[3]))return{video_id:a[3],set_token:null};else if(a.length===5){if(this.isNumeric(a[4]))return{video_id:a[4],set_token:a[3]};else if(this.isNumeric(a[3]))return{video_id:a[3],story_id:a[4]}}else if(a.length===6&&this.isNumeric(a[4]))return{video_id:a[4],set_token:a[3],story_id:a[5]};return null},isNumeric:function(a){return/^\d+$/.exec(a)!==null},isValidLegacy:function(a){a=a.getPath();a[a.length-1]==="/"&&(a=a.substring(0,a.length-1));return a==="/photo.php"||a==="/force_photo/photo.php"||a==="/photo"||a==="/force_photo/photo/index.php"||a==="/photo/index.php"||a==="/force_photo/photo"||a==="/video.php"||a==="/video/video.php"?!0:!1},getCustomStoryURI:function(a,b){return a+b+"/"}};e.exports=g}),null);
__d("NotificationURI",["BusinessURI.brands","URI","VideoPermalinkURI","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();a={localize:function(a){try{a=b("BusinessURI.brands")(a)}catch(b){return a.toString()}var c=a.getSubdomain();return a.getUnqualifiedURI().getQualifiedURI().setSubdomain(c).toString()},snowliftable:function(a){if(!a)return!1;a=new(b("URI"))(a);var c=a.getQueryData();return b("isFacebookURI")(a)&&(b("VideoPermalinkURI").isValid(a)||"fbid"in c)},isVaultSetURI:function(a){return this._areEquals(a,"/ajax/vault/sharer_preview.php")},isAlbumDraftRecoveryDialogURI:function(a){return this._areEquals(a,"/ajax/photos/upload/overlay/")},isQuicksilverURI:function(a){return this._areEquals(a,"/games/quicksilver/spotlight/")},isDirectURI:function(a){return this._startsWith(a,"/direct/")},isIGAccountCreationURI:function(a){return this._areEquals(a,"/ads/growth/aymt/instagram/account-creation-dialog/")},_areEquals:function(a,c){if(!a)return!1;a=new(b("URI"))(a);return b("isFacebookURI")(a)&&a.getPath()===c},_startsWith:function(a,c){if(!a)return!1;a=new(b("URI"))(a);return b("isFacebookURI")(a)&&a.getPath().startsWith(c)}};e.exports=a}),null);
__d("QPLTimeToLoadHelper",["QuickPerformanceLogger","Run","crc32","performance"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a&&b("crc32")(a)||0}function h(a){return b("performance")&&b("performance").timing&&b("performance").timing.navigationStart&&a<b("performance").timing.navigationStart?a+b("performance").timing.navigationStart:a}function i(a){a.time!=null&&(a.time=h(a.time));var c=g(a.instanceKey);b("QuickPerformanceLogger").markerStart(a.qplMarker,c,a.time);b("QuickPerformanceLogger").annotateMarkerString(a.qplMarker,"SOURCE",a.source,c);b("Run").onUnload(function(){return b("QuickPerformanceLogger").markerEnd(a.qplMarker,"CANCEL",c)})}a={startWithClickEvent:function(a){i(babelHelpers["extends"]({},a,{time:a.event.timeStamp}))},start:function(a){i(a)},annotateString:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerString(a.qplMarker,a.annotationKey,a.annotationValue,c)},annotateInt:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerInt(a.qplMarker,a.annotationKey,a.annotationValue,c)},addPoint:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").markerPoint(a.qplMarker,a.pointName,a.data,c,a.time!=null?h(a.time):a.time)},end:function(a){var c=a.time!=null?h(a.time):a.time,d=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerInt(a.qplMarker,"END_TIME",c==null?-1:c,d);b("QuickPerformanceLogger").markerEnd(a.qplMarker,a.action?a.action:"SUCCESS",d,c)}};e.exports=a}),null);
__d("VideoChainingCaller",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INTERNAL:"internal",WWW_FEED_PIVOTS:"www_feed_pivots",WWW_FEED_SNOWLIFT:"www_feed_snowlift",MISC_PHOTO_SET:"misc_photo_set",MOBILE:"mobile",SEARCH:"search",WWW_FEED_RHC:"www_feed_rhc",WWW_NOTIFICATION:"www_notification",WWW_PERMALINK:"www_permalink",WWW_PERMALINK_RHC:"www_permalink_rhc",WWW_PERMALINK_RHC_FROM_NOTIFICATION:"www_permalink_rhc_from_notification",MY_VIDEO_CHANNELS_ENT_QUERY:"my_video_channels_ent_query",TOP_FOLLOWED_VIDEO_CHANNELS_ENT_QUERY:"top_followed_video_channels_ent_query",BADGE:"badge",PAGINATION:"pagination",SUBTITLE:"subtitle",CHANNEL_VIEW_FROM_UNKNOWN:"channel_view_from_unknown",CHANNEL_VIEW_FROM_NEWSFEED:"channel_view_from_newsfeed",CHANNEL_VIEW_FROM_EXPLOREFEED:"channel_view_from_explorefeed",LIVE_INDEXER_FROM_EXPLOREFEED:"live_indexer_from_explorefeed",LIVE_INDEXER_FROM_NEWSFEED:"live_indexer_from_newsfeed",NN_INDEXER_FROM_NEWSFEED:"nn_indexer_from_newsfeed",CHANNEL_VIEW_FROM_SEARCH:"channel_view_from_search",CHANNEL_VIEW_FROM_NEWSFEED_PIVOT:"channel_view_from_newsfeed_pivot",NEWSFEED_PIVOT_INLINE:"newsfeed_pivot_inline",MOBILE_NEWSFEED_PIVOT_INLINE:"mobile_newsfeed_pivot_inline",CHANNEL_VIEW_FROM_PAGE_CALL_TO_ACTION:"channel_view_from_page_call_to_action",CHANNEL_VIEW_FROM_PAGE_TIMELINE:"channel_view_from_page_timeline",CHANNEL_VIEW_FROM_PAGE_TIMELINE_FEATURED:"channel_view_from_page_timeline_featured",CHANNEL_VIEW_FROM_PAGE_VIDEO_TAB:"channel_view_from_page_video_tab",CHANNEL_VIEW_FROM_PAGE_HOME_HERO:"channel_view_from_page_home_hero",CHANNEL_VIEW_FROM_USER_TIMELINE:"channel_view_from_user_timeline",CHANNEL_VIEW_FROM_USER_VIDEO_TAB:"channel_view_from_user_video_tab",CHANNEL_VIEW_FROM_GROUP_TIMELINE:"channel_view_from_group_timeline",CHANNEL_VIEW_FROM_GROUP_VIDEO_TAB:"channel_view_from_group_video_tab",CHANNEL_VIEW_FROM_VIDEO_PAGE_SPOTLIGHT:"channel_view_from_video_page_spotlight",CHANNEL_VIEW_FROM_VIDEO_PAGE_VIDEO_LIST:"channel_view_from_video_page_video_list",CHANNEL_VIEW_FROM_VIDEO_PAGE_VIDEO_TAB:"channel_view_from_video_page_video_tab",CHANNEL_VIEW_FROM_SAVED_STORY:"channel_view_from_saved_story",SAVED_STORY_INLINE:"saved_story_inline",CHANNEL_VIEW_FROM_SHARED_WITH_YOU_STORY:"channel_view_from_shared_with_you_story",SHARED_WITH_YOU_STORY_INLINE:"shared_with_you_story_inline",CHANNEL_VIEW_FROM_LATEST_FROM_YOUR_CHANNELS_STORY:"channel_view_from_latest_from_your_channels_story",LATEST_FROM_YOUR_CHANNELS_STORY_INLINE:"latest_from_your_channels_story_inline",CHANNEL_VIEW_FROM_CHANNEL_PIVOT:"channel_view_from_channel_pivot",CHANNEL_PIVOT_INLINE:"channel_pivot_inine",CHANNEL_VIEW_FROM_CHANNEL_RECOMMENDED_CHANNEL_STORY:"channel_view_from_recommended_channel_story",RECOMMENDED_CHANNEL_STORY_INLINE:"recommended_channel_story_inline",CHANNEL_VIEW_FROM_VIDEO_HOME:"channel_view_from_video_home",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CHANNEL_SEE_ALL:"video_home_channel_see_all",SOCIAL_PLAYER_UP_NEXT:"social_player_up_next",CHANNEL_VIEW_FROM_CASTING:"channel_view_from_casting",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME_HERO:"video_home_hero",FEED_SURVEY_SWIPE:"feed_survey_swipe",FEED_PIVOTS_INLINE:"feed_pivots_inline",CHANNEL_VIEW_FROM_FEED_PIVOTS:"channel_view_from_feed_pivots",VIDEO_SETS_CACHE_REFRESH:"video_sets_cache_refresh",VIDEO_SETS_CACHE_CHECK:"video_sets_cache_check",DUMMY_STORY_RECOMMENDED_VIDEOS:"dummy_story_recommended_videos",DUMMY_STORY_FRIENDS_ENJOYING:"dummy_story_friends_enjoying",LIVE_EVENT_VIDEO_SET:"live_event_video_set",LIVE_VIDEOS_SET:"live_videos_set",SINGLE_CREATOR_VIDEO_SET:"single_creator_video_set",FRT_TOOL:"frt_tool",DUMMY_STORY_FRIENDS_ENJOYING_NOW:"dummy_story_friends_enjoying_now",DUMMY_STORY_DUMMY_ACTION:"dummy_story_dummy_action",OCULUS_VIDEO:"oculus_video",TRENDING_DEMOGRAPHICS_LIVE:"trending_demographics_live",LIVE_MAP:"live_map",UNCONNECTED_LIVE_VIDEO:"unconnected_live_video",PROFILE_VIDEO_GALLERY:"profile_video_gallery",CHANNEL_VIEW_FROM_PLAYLIST:"channel_view_from_playlist",OCULUS_SOCIAL_HUB:"oculus_social_hub",AKIRA:"akira",IS_LIVE_VIDEO_CHAINING:"is_live_video_chaining",IS_LIVE_VIDEO_CHAINING_OTHERS:"is_live_video_chaining_others",VIDEO_CREATOR_CHAINING:"video_creator_chaining",TAHOE:"tahoe",LIVING_ROOM:"living_room",SHOWS_COVER_TRAILER:"shows_cover_trailer",SHOWS_EPISODES_TAB:"shows_episodes_tab",SHOWS_PLAYLISTS_TAB:"shows_playlists_tab",SHOWS_HOME_TAB:"shows_home_tab",SHOWS_MORE_VIDEOS_TAB:"shows_more_videos_tab",SHOW_EPISODE_FEED_RECOMMENDATIONS:"show_episode_feed_recommendations",PARENT_PAGE_TIMELINE:"parent_page_timeline",WATCH_WATCHLIST_TAB:"watch_watchlist_tab",WATCH_FEED_TAB:"watch_feed_tab",WATCH_INJECTION:"watch_injection",WATCH_TOPIC_FEED:"watch_topic_feed",WATCH_SECTION_SEE_ALL:"watch_section_see_all",SOCIAL_PLAYER_FROM_VIDEO_HOME:"social_player_from_video_home",WNS:"wns",EXPLORE_FEED_DEEP_DIVE:"explore_feed_deep_dive",VOYAGER:"voyager",LOL_VIDEO_FEED:"lol_video_feed",TEST:"test",UNKNOWN:"unknown"})}),null);
__d("XLiveVideoLoadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/video/load/",{video_id:{type:"FBID",required:!0}})}),null);
__d("NotificationListRendererUtils",["AsyncRequest","Bootloader","FBLogger","FeedQuickLogModule","NavigationMetrics","NotificationURI","PageTransitions","QPLTimeToLoadHelper","URI","VideoChainingCaller","XLiveVideoLoadController","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(event,a){b("Bootloader").loadModules(["FBStoriesLiveNotificationHandler"],function(b){b.renderLiveStory(a)},"NotificationListRendererUtils")}function h(event,a,c){b("Bootloader").loadModules(["TahoeController"],function(d){var e=b("NotificationURI").localize(new(b("URI"))(c.url)),f=a.video_channel_caller;d.openFromVideoLink(new(b("URI"))(e),{channelID:a.video_channel_id,caller:f?(d=b("VideoChainingCaller"))!=null?d[f]:d:null})},"NotificationListRendererUtils")}function i(a,c){b("QPLTimeToLoadHelper").start({source:"notifications",qplMarker:b("FeedQuickLogModule").COMMENT_TTL_WWW,time:a.timeStamp}),c.notif_type?b("QPLTimeToLoadHelper").annotateString({source:"notifications",qplMarker:b("FeedQuickLogModule").COMMENT_TTL_WWW,annotationKey:"NOTIF_TYPE",annotationValue:c.notif_type}):b("FBLogger")("comet_notifications").addMetadata("COMET_NOTIFICATION","ALERT_ID",c.alert_id||"UNKONWN").mustfix("Missing notification type",c.alert_id)}function j(a,c){b("QPLTimeToLoadHelper").start({source:"notifications",qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,time:a.timeStamp}),c.notif_type?b("QPLTimeToLoadHelper").annotateString({source:"notifications",qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,annotationKey:"NOTIF_TYPE",annotationValue:c.notif_type}):b("FBLogger")("comet_notifications").addMetadata("COMET_NOTIFICATION","ALERT_ID",c.alert_id||"UNKONWN").mustfix("Missing notification type"),b("NavigationMetrics").once(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,c){a=c.tti;c.tti||(a=c.e2e,b("QPLTimeToLoadHelper").annotateString({qplMarker:b("FeedQuickLogModule").LOAD_STORY_PERMALINK_FROM_ANYWHERE_WWW,annotationKey:"TIMESTAMP_ERROR",annotationValue:"NO_TTI"}));b("QPLTimeToLoadHelper").end({qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,time:a})})}var k={openNotification:function(event,a){__p&&__p();var c=a.renderer_data;if(c==null)return;if(!k.isStoryOnlyLiveVideoNotification(a)&&(event.metaKey||event.ctrlKey||event.button===1))return;if(c.__typename==="LiveVideoNotificationRendererData"){event.preventDefault();c=b("XLiveVideoLoadController").getURIBuilder().setFBID("video_id",c.video_id).getURI();c=new(b("AsyncRequest"))(c).setHandler(function(c){c.payload?k.openNotificationInSurface(event,a):b("PageTransitions").go(a.url)});c.send()}},openNotificationInSurface:function(event,a){var b=a.renderer_data;if(b==null)return;b.bucket_data?g(event,b):b.can_render_in_tahoe&&h(event,b,a)},isStoryOnlyLiveVideoNotification:function(a){a=a.renderer_data;return a==null?!1:a.__typename==="LiveVideoNotificationRendererData"&&!!a.bucket_data},startTTLMarkers:function(a,c){b("gkx")("678283")&&i(a,c),b("gkx")("678284")&&j(a,c)}};e.exports=k}),null);
__d("RelationshipDelightTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAlertID=function(a){this.$1.alert_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setMetadata=function(a){this.$1.metadata=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={alert_id:!0,event:!0,metadata:!0,vc:!0};e.exports=a}),null);
__d("RelationshipDelightUtils",["NotificationRelationshipDelightsConfig","QE2Logger","RelationshipDelightTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function h(a){a=a.eligible_buckets;return!!a&&a.indexOf("SO_NOTIFICATIONS")!==-1}function i(){b("QE2Logger").logExposureForUser(b("NotificationRelationshipDelightsConfig").universeName)}function a(a){var c=b("NotificationRelationshipDelightsConfig").shouldDecorateNotificationWithHearts,d=b("NotificationRelationshipDelightsConfig").shouldLogExposureForNotification;if(h(a)===!1)return!1;d&&i();return c===!0}function j(a,event,c){var d=event+"-"+a;if(g[d])return;g[d]=!0;d=new(b("RelationshipDelightTypedLogger"))().setEvent(event).setAlertID(a);c&&d.setMetadata(JSON.stringify(c));d.log()}c={shouldHeartBadge:function(a){var c=b("NotificationRelationshipDelightsConfig").shouldDecorateBadgeWithHearts,d=b("NotificationRelationshipDelightsConfig").shouldLogExposureForBadge;if(h(a)===!1)return!1;d&&i();return c===!0},shouldHeartBeeper:a,shouldHeartNotification:a,logNotificationAnimation:function(a,b,c){j(a,"notification_animated",{animation:b,rowIndex:c})},logBeeperAnimation:function(a){j(a,"beeper_animated")},logBadgeAnimation:function(a){j(a,"badge_animated")}};e.exports=c}),null);
__d("NotificationBeeperItemContents.react",["cx","Animation","AsyncRequest","BootloadedComponent.react","Bootloader","FBProfilePhotoShadow.react","Image.react","ImageBlock.react","JSResource","NotificationBeeperItemCloseButton.react","NotificationInterpolator","NotificationListRendererUtils","NotificationURI","NotificationUserActions","React","ReactDOM","RelationshipDelightUtils","TextWithEntities.react","Timestamp.react","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.isLiveVideo=null,this.$2=function(a){__p&&__p();this.$1();this.props.onHide();if(a.button===1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)return;var c=this.props.notification;b("NotificationListRendererUtils").openNotification(a,c);if(a.isDefaultPrevented()===!0)return;var d=c.primerAttributes;if(d&&(d.rel==="async"||d.rel==="async-post")){var e=new(b("AsyncRequest"))(d.ajaxify||c.url);d.rel==="async-post"&&e.setMethod("POST");e.send();a.preventDefault()}else d&&d.rel==="theater"?(a.persist(),b("Bootloader").loadModules(["PhotoSnowlift"],function(b){b.bootstrap(d.ajaxify||c.url,a.currentTarget)},"NotificationBeeperItemContents.react"),a.preventDefault()):d&&(d.rel==="dialog"||d.rel==="dialog-post")&&(b("Bootloader").loadModules(["AsyncDialog"],function(b){b.bootstrap(d.ajaxify||c.url,a.currentTarget,"dialog")},"NotificationBeeperItemContents.react"),a.preventDefault())}.bind(this),this.$3=function(){this.$1(),this.props.onHide()}.bind(this),c}a.prototype.$1=function(){"use strict";b("NotificationUserActions").markNotificationsAsRead([this.props.notification.alert_id])};a.prototype.$4=function(){"use strict";new(b("Animation"))(b("ReactDOM").findDOMNode(this.refs.inner)).from("opacity","0").to("opacity","1").duration(200).go()};a.prototype.$5=function(){"use strict";var a=this.$6();a=JSON.parse(a);return a.content_id};a.prototype.$7=function(){"use strict";if(this.isLiveVideo===null){var a=this.$6();this.isLiveVideo=a.indexOf("live_video")!==-1}return!!this.isLiveVideo};a.prototype.$6=function(){"use strict";return this.props.notification.tracking||"{}"};a.prototype.$8=function(){"use strict";var a=this.props.notification,c=b("RelationshipDelightUtils").shouldHeartBeeper(a);if(!c)return null;b("RelationshipDelightUtils").logBeeperAnimation(a.alert_id);return b("React").createElement("div",{className:"_5_xp"},b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("RelationshipDelightsActorAnimation.react").__setRef("NotificationBeeperItemContents.react")}))};a.prototype.componentDidMount=function(){"use strict";this.props.onReadyToHide(this.props.notification.alert_id),this.$7()&&b("Bootloader").loadModules(["VideoPlayerMetaData","PhotoSnowliftVideoNode"],function(a,b){b=this.$5();b&&a.genVideoData(b)}.bind(this),"NotificationBeeperItemContents.react")};a.prototype.componentDidUpdate=function(a){"use strict";(a.notification.alert_id!==this.props.notification.alert_id||a.notification.creation_time!==this.props.notification.creation_time)&&(this.$4(),this.props.onReadyToHide(this.props.notification.alert_id))};a.prototype.render=function(){"use strict";var a=this.props.notification,c=a.thumbnail?a.thumbnail.uri:null,d=a.icon?a.icon.uri:null,e=b("NotificationURI").localize(new(b("URI"))(a.url));return b("React").createElement("div",{ref:"inner",className:this.props.className},b("React").createElement(b("NotificationBeeperItemCloseButton.react"),{onClick:this.$3}),b("React").createElement("a",{href:e,onClick:this.$2,className:"_3soi"},b("React").createElement(b("ImageBlock.react"),{className:"_3soj",spacing:"medium"},b("React").createElement(b("FBProfilePhotoShadow.react"),{className:"_2yt7"},b("React").createElement(b("Image.react"),{src:c,className:"_3sok"+(c?"":" hidden_elem")})),b("React").createElement("div",{className:"_3sol"},b("React").createElement(b("TextWithEntities.react"),{renderEmoticons:!0,renderEmoji:!0,interpolator:b("NotificationInterpolator"),ranges:a.title.ranges,aggregatedranges:a.title.aggregated_ranges,text:a.title.text}),b("React").createElement(b("ImageBlock.react"),{className:"_3som"},b("React").createElement(b("Image.react"),{className:"_1x8t"+(d?"":" hidden_elem"),src:d}),b("React").createElement(b("Timestamp.react"),{time:a.timestamp.time,text:a.timestamp.text,verbose:a.timestamp.verbose})))),this.$8()))};e.exports=a}),null);
__d("NotificationBeeperItem.react",["cx","CSSFade","NotificationBeeperConst","NotificationBeeperItemContents.react","NotificationBeeperItemRenderersList","React","ReactDOM","Style","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("NotificationBeeperConst").FADE_OUT_LENGTH;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={encounteredException:!1,fadedIn:!1,hidden:!1},this.$3=function(){this.setState({hidden:!0})}.bind(this),b}a.prototype.componentDidCatch=function(){"use strict";this.props.onReadyToHide(this.props.notification.alert_id),this.setState(function(a){return babelHelpers["extends"]({},a,{encounteredException:!0})})};a.prototype.componentDidMount=function(){"use strict";b("setTimeoutAcrossTransitions")(function(){this.setState({fadedIn:!0})}.bind(this),50),this.props.onInserted(this.props.notification.alert_id)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.cancel()};a.prototype.render=function(){"use strict";if(this.state.encounteredException)return null;var a=this.props.notification,c=a.renderer_data;a=a.tracking;c=this.$4(c);return b("React").createElement("li",{className:this.state.hidden?"hidden_elem":"",ref:function(a){return this.$2=a}.bind(this),"data-gt":a},b("React").createElement(c,{className:"_3sod"+(this.state.fadedIn?" _3soe":""),notification:this.props.notification,onHide:this.$3,onReadyToHide:this.props.onReadyToHide,onPreventHide:this.props.onPreventHide}))};a.prototype.componentDidUpdate=function(a,c,d){"use strict";if(!this.$2)return;a=b("ReactDOM").findDOMNode(this.$2);if(!a)return;this.props.fadingOut?(this.$1=b("CSSFade").hide(a,{callback:this.$3,duration:i}),a.style.transitionDuration="0ms"):(this.$1&&(this.$1.cancel(),this.$1=undefined),b("Style").set(a,"opacity","1"))};a.prototype.$4=function(a){"use strict";return a&&a.__typename==="LiveVideoNotificationRendererData"&&a.video_id==null?b("NotificationBeeperItemContents.react"):b("NotificationBeeperItemRenderersList")[a&&a.__typename]||b("NotificationBeeperItemContents.react")};e.exports=a}),null);
__d("NotificationImpressions",["AsyncSignal","NotificationTokens","URI"],(function(a,b,c,d,e,f){var g="/ajax/notifications/impression.php";function a(a,c){var d={ref:c};b("NotificationTokens").untokenizeIDs(a).forEach(function(a,b){d["alert_ids["+b+"]"]=a});new(b("AsyncSignal"))(new(b("URI"))(g).getQualifiedURI().toString(),d).send()}e.exports={log:a}}),null);
__d("NotificationSound",["Sound"],(function(a,b,c,d,e,f){__p&&__p();var g=5e3;b("Sound").init(["audio/mpeg"]);function a(a){this._soundPath=a,this._lastPlayed=0}Object.assign(a.prototype,{play:function(a){if(!this._soundPath)return;var c=Date.now();if(c-this._lastPlayed<g)return;this._lastPlayed=c;b("Sound").playOnlyIfImmediate(this._soundPath,a,!1)}});e.exports=a}),null);
__d("NotificationBeeper.react",["cx","Arbiter","ChannelConstants","FacebookWebNotificationsSubscription","NotificationBeeperConst","NotificationBeeperItem.react","NotificationConstants","NotificationImpressions","NotificationSound","NotificationUpdates","NotificationUserActions","NotifTestIDs","React","SubscriptionsHandler","clearTimeout","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("NotificationBeeperConst").ACTIVE_DELAY_LONG,j=b("NotificationBeeperConst").BeepStates,k=b("NotificationBeeperConst").FADE_OUT_LENGTH,l=b("NotificationBeeperConst").IDLE_DELAY,m="beeper";c=b("NotificationConstants").PayloadSourceType;var n=c.CLIENT,o=c.OTHER_APPLICATION;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={beeps:{},fading:!1,hovering:!1,soundEnabled:this.props.soundEnabled},this.onMouseEnter=function(){this.$2&&b("clearTimeout")(this.$2);var a=[],c=this.state.beeps;Object.keys(c).forEach(function(b){c[b].state!=j.PENDING?a.push(b):c[b].state=j.RENDERED});b("NotificationUserActions").markNotificationsAsSeen(a);this.setState({hovering:!0,fading:!1,beeps:c})}.bind(this),this.onMouseLeave=function(){this.$5(i),this.setState({hovering:!1})}.bind(this),this.$6=function(a){this.state.hovering||this.$5(),this.state.soundEnabled&&this.state.beeps[a].shouldPlaySound&&(this.$3||(this.$3=new(b("NotificationSound"))(this.props.soundPath)),this.$3.play(a)),this.props.shouldLogImpressions&&b("NotificationImpressions").log([a],m)}.bind(this),this.onReadyToHide=function(a,b){this.setState(function(b){var c=babelHelpers["extends"]({},b.beeps);c[a]=babelHelpers["extends"]({},c[a],{state:j.READY_TO_HIDE});return babelHelpers["extends"]({},b,{beeps:c})}),this.$2||this.$5(b)}.bind(this),this.$8=function(a){this.setState(function(b){var c=babelHelpers["extends"]({},b.beeps);c[a]=babelHelpers["extends"]({},c[a],{state:j.RENDERED});return babelHelpers["extends"]({},b,{beeps:c})})}.bind(this),this.$7=function(){this.$2=null,this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.READY_TO_HIDE&&(b[a]=babelHelpers["extends"]({},b[a],{state:j.FADING_OUT}))});return babelHelpers["extends"]({},a,{beeps:b,fading:!0})}),b("setTimeoutAcrossTransitions")(b("shield")(this.$9,this),k)}.bind(this),this.$9=function(){__p&&__p();if(!this.state.fading)return;this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.FADING_OUT&&delete b[a]});return babelHelpers["extends"]({},a,{beeps:b,fading:!1})});b("setTimeoutAcrossTransitions")(function(){this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.PENDING&&(b[a]=babelHelpers["extends"]({},b[a],{state:j.RENDERED}))});return babelHelpers["extends"]({},a,{beeps:b})})}.bind(this))}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";__p&&__p();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("NotificationUpdates").subscribe("update-notifications",function(a,b){if(b.payloadsource===o||b.payloadsource===n){a=b.nodes;a&&a.length&&this.handleBeepChanges(this.$4(a))}}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notif_sound_pref_changed"),function(a,b){this.setState({soundEnabled:b.obj.enabled})}.bind(this)));a.addSubscriptions(b("FacebookWebNotificationsSubscription").subscribe({event:"NEW_BEEPER",callback:function(a){var b=a.notification;a=a.should_play_sound;if(b!==null){var c;this.handleBeepChanges((c={},c[b.alert_id]={notification:b,shouldPlaySound:a},c))}}.bind(this)}));this.$1=a;b("Arbiter").inform("NotificationBeeper/mounted",null,"persistent")};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.release(),this.$1=null};a.prototype.$5=function(a){"use strict";this.$2&&b("clearTimeout")(this.$2),this.$2=b("setTimeoutAcrossTransitions")(b("shield")(this.$7,this),a==null?l:a)};a.prototype.handleBeepChanges=function(a){"use strict";var b=this.state.fading?j.PENDING:j.RENDERED,c=!1,d=babelHelpers["extends"]({},this.state.beeps);Object.keys(a).reverse().forEach(function(e){var f=a[e],g=d[e];(!g||g.notification.alert_id!==f.notification.alert_id||g.notification.creation_time!==f.notification.creation_time)&&(g&&(c=!0,delete d[e]),d[e]=babelHelpers["extends"]({},f,{state:b}))});c&&this.$5();this.setState({beeps:d})};a.prototype.render=function(){"use strict";__p&&__p();var a=this.state.beeps,c=[];Object.keys(a).reverse().forEach(function(d){var e=a[d];if(e.state==j.PENDING)return;c.push(b("React").createElement(b("NotificationBeeperItem.react"),{key:d,fadingOut:this.state.fading&&e.state==j.FADING_OUT,notification:e.notification,onInserted:this.$6,onReadyToHide:this.onReadyToHide,onPreventHide:this.$8}))}.bind(this),this);var d=c.length>0;d=(d?"":"hidden_elem")+" _50d1";return b("React").createElement("ul",{ref:"container",className:d,"data-gt":this.props.tracking,"data-testid":b("NotifTestIDs").BEEPER_LIST,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},c)};a.prototype.$4=function(a){"use strict";return a.reduce(function(a,b){a[b.alert_id]={notification:b,shouldPlaySound:!1};return a},{})};e.exports=a}),null);
__d("NotificationBeeperContainer",["NotificationBeeper.react","React","ReactDOM"],(function(a,b,c,d,e,f){a={renderBeeper:function(a,c){b("ReactDOM").render(b("React").createElement(b("NotificationBeeper.react"),a),c)}};e.exports=a}),null);
__d("NotificationComponentsBootloader",["Promise","JSResource"],(function(a,b,c,d,e,f){"use strict";var g=[b("JSResource")("NotificationJewelList.react").__setRef("NotificationComponentsBootloader"),b("JSResource")("NotificationAsyncWrapper").__setRef("NotificationComponentsBootloader"),b("JSResource")("NotificationSeenState").__setRef("NotificationComponentsBootloader"),b("JSResource")("NotificationStore").__setRef("NotificationComponentsBootloader"),b("JSResource")("NotificationUpdates").__setRef("NotificationComponentsBootloader"),b("JSResource")("NotificationJewelController").__setRef("NotificationComponentsBootloader")];function a(a){var c=a===!0?[b("JSResource")("BizNotificationJewelBodyContainer.react").__setRef("NotificationComponentsBootloader")]:[b("JSResource")("NotificationList.react").__setRef("NotificationComponentsBootloader")];return new(b("Promise"))(function(a){b("JSResource").loadAll(c.concat(g),function(b,c,d){a([b,c,d])})})}e.exports={load:a}}),null);
__d("BanzaiLooper",["Banzai"],(function(a,b,c,d,e,f){var g={retry:!0};function h(a,c){b("Banzai").post("banzai_looper:"+a,c,g)}a={labelBinaryClassificationExample:function(a){h("binary_classification_example",babelHelpers["extends"]({operation:"label"},a))}};e.exports=a}),null);
__d("NotificationJewelPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setBadgeCurrentCount=function(a){this.$1.badge_current_count=a;return this};a.prototype.setBadgeInitialCount=function(a){this.$1.badge_initial_count=a;return this};a.prototype.setClientSessionID=function(a){this.$1.client_session_id=a;return this};a.prototype.setClientTimestamp=function(a){this.$1.client_timestamp=a;return this};a.prototype.setEagerLoadTriggerAndDelay=function(a){this.$1.eager_load_trigger_and_delay=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setJewelName=function(a){this.$1.jewel_name=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={badge_current_count:!0,badge_initial_count:!0,client_session_id:!0,client_timestamp:!0,eager_load_trigger_and_delay:!0,event_name:!0,jewel_name:!0,vc:!0};e.exports=a}),null);
__d("JewelLogger",["BanzaiLooper","FeedQuickLogModule","NotificationJewelPerformanceTypedLogger","NotificationListConfig","QuickPerformanceLogger","gkx","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("BanzaiLooper").labelBinaryClassificationExample,i=b("NotificationListConfig").sessionID,j=b("gkx")("678513"),k=!1;a=babelHelpers.inherits(l,b("NotificationJewelPerformanceTypedLogger"));g=a&&a.prototype;function l(a){g.constructor.call(this),l.$JewelTypedLoggerWithSession1[a]||(l.$JewelTypedLoggerWithSession1[a]={}),this.$JewelTypedLoggerWithSession2=a}l.prototype.setEventName=function(a){this.$JewelTypedLoggerWithSession3=a;return g.setEventName.call(this,a)};l.prototype.log=function(){l.$JewelTypedLoggerWithSession1[this.$JewelTypedLoggerWithSession2][this.$JewelTypedLoggerWithSession3]||(l.$JewelTypedLoggerWithSession1[this.$JewelTypedLoggerWithSession2][this.$JewelTypedLoggerWithSession3]=!0,this.setClientSessionID(i),this.setJewelName(this.$JewelTypedLoggerWithSession2),g.log.call(this))};l.$JewelTypedLoggerWithSession1={};function m(a){a.jewelName==="notifications"&&a.eventName==="list_populated"&&q(a.timestamp),new l(a.jewelName).setEventName(a.eventName).setClientTimestamp(a.timestamp).log()}function n(a){var b=a.trigger,c=a.eagerLoadDelayInMs,d=babelHelpers.objectWithoutProperties(a,["trigger","eagerLoadDelayInMs"]);b=b+":"+c;new l(a.jewelName).setEventName(d.eventName).setClientTimestamp(d.timestamp).setEagerLoadTriggerAndDelay(b).log()}function o(a){j&&!k&&(b("QuickPerformanceLogger").markerStart(b("FeedQuickLogModule").NOTIFICATION_INTERACTION_WWW,0,a),k=!0)}function p(a){j&&k&&b("QuickPerformanceLogger").annotateMarkerIntArray(b("FeedQuickLogModule").NOTIFICATION_INTERACTION_WWW,"JEWEL_CLICK_COUNT",[a])}function q(a){j&&k&&(b("QuickPerformanceLogger").markerEnd(b("FeedQuickLogModule").NOTIFICATION_INTERACTION_WWW,"SUCCESS",0,a),k=!1)}function r(a){j&&k&&(b("QuickPerformanceLogger").markerEnd(b("FeedQuickLogModule").NOTIFICATION_INTERACTION_WWW,"CANCEL",0,a),k=!1)}function s(a){j&&k&&(b("QuickPerformanceLogger").markerEnd(b("FeedQuickLogModule").NOTIFICATION_INTERACTION_WWW,"FAIL",0,a),k=!1)}c={logDataEagerLoad:function(a){a.eventName==="data_eager_load_trigger"?n(a):m(a)},logJsBootload:function(a){a.eventName==="js_bootload_trigger"?n(a):m(a)},logJewelCancel:function(){r(b("performanceNow")())},logJewelFail:function(){s(b("performanceNow")())},logJewelClick:function(a){a.jewelName==="notifications"&&(b("gkx")("678282")||a.clickCount===1)&&(o(a.timestamp),p(a.clickCount)),a.clickCount===1&&(new l(a.jewelName).setEventName("first_jewel_click").setClientTimestamp(a.timestamp).setBadgeInitialCount(a.badgeInitialCount).setBadgeCurrentCount(a.badgeCurrentCount).log(),a.jewelName==="notifications"&&h({trace:i,loopName:"notifications_jewel_click",label:"positive"}))},logJewelInitialize:function(a){new l(a.jewelName).setEventName("jewel_initialize").setBadgeInitialCount(a.badgeInitialCount).log(),a.jewelName==="notifications"&&h({trace:i,loopName:"notifications_jewel_click",label:"tentatively_negative"})},logJewelListComponentEvent:m};e.exports=c}),null);
__d("NotificationEndpointState",["BusinessUserConf","KeyedCallbackManager","RangedCallbackManager","flatMapArray","objectValues","react-relay/classic/query/stableStringify"],(function(a,b,c,d,e,f){__p&&__p();var g={AdsUnifiedNavNotificationsPayloadPagelet:"AdsUnifiedNavNotificationsPayloadPagelet",BusinessManagerNotificationsPayloadPagelet:"BusinessManagerNotificationsPayloadPagelet",WebNotificationsPayloadPagelet:"WebNotificationsPayloadPagelet","/notifications/client/ads_unified_nav/":"AdsUnifiedNavNotificationsPayloadPagelet","/notifications/client/business_manager/":"BusinessManagerNotificationsPayloadPagelet","/ajax/notifications/client/get.php":b("BusinessUserConf").businessUserID?"BusinessManagerNotificationsPayloadPagelet":"WebNotificationsPayloadPagelet"};h.getInstance=function(a){"use strict";var b=a.classification!=null?a.classification:"_",c=a.readness!=null?a.readness:"_",d=a.environment!=null?a.environment:"_";b="(c)"+b+"(s)"+c+"(s)"+d;c=h.$1[a.endpointControllerName];c==null&&(h.$1[a.endpointControllerName]=c={});c[b]==null&&(c[b]=new h(a));return c[b]};h.getAllInstances=function(a){"use strict";a!=null?a=[a]:a=Object.keys(h.$1);return b("flatMapArray")(a,function(a){a=h.$1[a];if(a==null)return[];else return b("objectValues")(a)})};function h(a){__p&&__p();var c=a.businessUserID,d=a.classification,e=a.endpointControllerName,f=a.environment;a=a.readness;this.notifications=new(b("KeyedCallbackManager"))();this.businessUserID=c!=null?c:b("BusinessUserConf").businessUserID;this.classification=d;this.endpointControllerName=e;this.environment=f;this.readness=a;c=function(a){a=this.notifications.getResource(a);return a.creation_time};this.order=new(b("RangedCallbackManager"))(c.bind(this),function(a,b){return b-a});this.graphQLPageInfo=null}h.prototype.getConfig=function(){"use strict";return{businessUserID:this.businessUserID,classification:this.classification,endpointControllerName:this.endpointControllerName,environment:this.environment,readness:this.readness}};h.prototype.getHash=function(){"use strict";return b("react-relay/classic/query/stableStringify")(this.getConfig())};h.prototype.getRequestParams=function(a){"use strict";a=Math.max(0,a-this.order.getAllResources().length);return{businessUserID:this.businessUserID,classification:this.classification!=null?this.classification.toLowerCase():undefined,cursor:this.graphQLPageInfo&&this.graphQLPageInfo.end_cursor,environment:this.environment,filter:this.readness==null?undefined:this.readness==="SEEN_AND_READ"?"read":"unread",readness:this.readness,length:a}};h.prototype.getStreamingTransportPageletName=function(){"use strict";return g[this.endpointControllerName]||this.endpointControllerName};h.$1={};e.exports=h}),null);
__d("once",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=g(a);for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}function g(a){__p&&__p();var b=a,c;a=function(){if(b){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];c=b.apply(this,d);b=null}return c};return a}e.exports=a}),null);
__d("performanceNowNoFallback",["performance"],(function(a,b,c,d,e,f){e.exports=b("performance").now?function(){return b("performance").now()}:null}),null);
__d("NotificationEagerLoader",["invariant","Promise","Arbiter","AsyncRequest","BigPipe","JewelLogger","NotificationComponentsBootloader","NotificationDataFetchConfig","NotificationEndpointState","NotificationListConfig","once","performanceAbsoluteNow","performanceNowNoFallback"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("JewelLogger").logDataEagerLoad,i=b("JewelLogger").logJsBootload,j=b("NotificationDataFetchConfig").dataEagerFetchTrigger,k=b("NotificationListConfig").jsBootloadTrigger,l=b("NotificationListConfig").numNotificationsPerPage;l=j!=="none"?l:0;var m={hasData:l>0,targetNumToLoad:l,endpointState:a(),payloadPromise:null};function a(){var a={endpointControllerName:"WebNotificationsPayloadPagelet"};return b("NotificationEndpointState").getInstance(a)}function c(a){if(!b("performanceNowNoFallback"))return b("NotificationComponentsBootloader").load().then(function(){});else{i({jewelName:"notifications",eventName:"js_bootload_trigger",trigger:k,timestamp:b("performanceNowNoFallback")()-a,eagerLoadDelayInMs:0});i({jewelName:"notifications",eventName:"js_bootload_start",timestamp:b("performanceNowNoFallback")()});return b("NotificationComponentsBootloader").load().then(function(){i({jewelName:"notifications",eventName:"js_bootload_end",timestamp:b("performanceNowNoFallback")()})})}}function d(a){__p&&__p();b("performanceNowNoFallback")&&(h({jewelName:"notifications",eventName:"data_eager_load_trigger",trigger:j,timestamp:b("performanceNowNoFallback")()-a,eagerLoadDelayInMs:0}),h({jewelName:"notifications",eventName:"data_eager_load_start",timestamp:b("performanceNowNoFallback")()}));a=m.targetNumToLoad;var c=m.endpointState;a=c.getRequestParams(a);var d;switch(c.endpointControllerName){case"WebNotificationsPayloadPagelet":d="/ajax/notifications/client/get.php";break;case"AdsUnifiedNavNotificationsPayloadPagelet":d="/notifications/client/ads_unified_nav/";break;case"BusinessManagerNotificationsPayloadPagelet":d="/notifications/client/business_manager/";break}d!=null||g(0,5504,c.endpointControllerName);c=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).setData(a);a=c.exec().then(function(a){b("performanceNowNoFallback")&&h({jewelName:"notifications",eventName:"data_eager_load_end",timestamp:b("performanceNowNoFallback")()});return a.getPayload()});m.hasData||g(0,5505);return a}function f(a){__p&&__p();return new(b("Promise"))(function(c,d){__p&&__p();b("Arbiter").subscribeOnce(b("BigPipe").Events.init,b("once")(function(e,f){__p&&__p();e=f.arbiter;if(!e){d("No arbiter from BigPipe init event");return}e.subscribeOnce(b("BigPipe").Events.displayed,b("once")(function(e,f){e=f.ts;f=b("performanceAbsoluteNow")()-e;a(f).then(function(a){return c(a)})["catch"](function(a){return d(a)})}))}))})}k==="bigpipe_display_done"&&f(c);j==="bigpipe_display_done"&&(m.payloadPromise=f(d));e.exports={eagerlyLoadedData:m}}),null);
__d("AdsInterfacesNavTools",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCOUNT_SETTINGS:"ACCOUNT_SETTINGS",ACCOUNT_SETTINGS_OLD:"ACCOUNT_SETTINGS_OLD",AD_BREAKS:"AD_BREAKS",ANALYTICS:"ANALYTICS",APP_ADS_HELPER:"APP_ADS_HELPER",APP_DASHBOARD:"APP_DASHBOARD",APP_EVENTS:"APP_EVENTS",AUDIENCE_INSIGHTS:"AUDIENCE_INSIGHTS",AUDIENCES:"AUDIENCES",BILLING:"BILLING",BIZ_BILLING:"BIZ_BILLING",BLOCK_LIST:"BLOCK_LIST",BLOCK_LIST_V2:"BLOCK_LIST_V2",BRANDED_CONTENT:"BRANDED_CONTENT",BUSINESS_ASSET_LIBRARY:"BUSINESS_ASSET_LIBRARY",BUSINESS_HOME:"BUSINESS_HOME",BUSINESS_LOCATIONS:"BUSINESS_LOCATIONS",BUSINESS_PAYMENTS:"BUSINESS_PAYMENTS",BUSINESS_PRODUCT_CATALOGS:"BUSINESS_PRODUCT_CATALOGS",BUSINESS_SETTINGS:"BUSINESS_SETTINGS",BUSINESS_VIDEO:"BUSINESS_VIDEO",CONTRACTS:"CONTRACTS",CONVERSION_TRACKING:"CONVERSION_TRACKING",CANVAS_BUILDER:"CANVAS_BUILDER",CREATION:"CREATION",CREATIVE_STUDIO:"CREATIVE_STUDIO",CREATOR_STUDIO:"CREATOR_STUDIO",CROSS_PUBLISHER_BUYING:"CROSS_PUBLISHER_BUYING",CUSTOM_CONVERSIONS:"CUSTOM_CONVERSIONS",DATA_SETS:"DATA_SETS",DELIVERY_INSIGHTS:"DELIVERY_INSIGHTS",DEVELOPER_SUPPORT_HOME:"DEVELOPER_SUPPORT_HOME",EASY_DA:"EASY_DA",EVENTS_MANAGER:"EVENTS_MANAGER",IMAGES:"IMAGES",INVOICES:"INVOICES",LEAD_MANAGER:"LEAD_MANAGER",LIFT_STUDIES:"LIFT_STUDIES",PULL_MMM:"PULL_MMM",LOCAL_INSIGHTS:"LOCAL_INSIGHTS",MANAGE_ADS:"MANAGE_ADS",MANAGE_ADS_CM:"MANAGE_ADS_CM",MARKETING_SOLUTION_PROVIDER:"MARKETING_SOLUTION_PROVIDER",MEASUREMENT_HUB:"MEASUREMENT_HUB",NOTIFICATIONS:"NOTIFICATIONS",OFFLINE_EVENTS:"OFFLINE_EVENTS",PAGES:"PAGES",PARTNER_INTEGRATIONS:"PARTNER_INTEGRATIONS",PARTNER_PLATFORM:"PARTNER_PLATFORM",PERSONALIZED_RECOMMENDATIONS:"PERSONALIZED_RECOMMENDATIONS",PAYOUT_ACCOUNT_SETTINGS:"PAYOUT_ACCOUNT_SETTINGS",PIXELS:"PIXELS",PLANNER_TOOL:"PLANNER_TOOL",PUB_X:"PUB_X",REPORTING:"REPORTING",RULES:"RULES",SCRIPTS:"SCRIPTS",SELF_SERVE_CONVERSION_LIFT:"SELF_SERVE_CONVERSION_LIFT",SETTINGS:"SETTINGS",STORE_VISIT_INSIGHTS:"STORE_VISIT_INSIGHTS",TARGETING_INSIGHTS:"TARGETING_INSIGHTS",UNDEFINED:"UNDEFINED",WHATSAPP_MESSAGING:"WHATSAPP_MESSAGING"})}),null);
__d("FBAMetaMegaMenuLogger",["invariant","Bootloader"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){j("MegaMenu_HelpButton_Toggle",{action:a?"open":"close"})}function c(a,b){b?j("HelpTray_Article_Click",{article_id:a,search_term:b}):j("HelpTray_Article_Click",{article_id:a})}function d(a){j("HelpTray_SearchBar_Change",{search_term:a})}function f(a){j("MegaMenu_NotificationBell_Toggle",{action:a?"open":"close"})}function h(a){a!==null&&a.match(/(\d+)\:(\d+)/)||g(0,518);a=a.split(":");j("MegaMenu_Notification_Click",{recepient_id:a[0],notification_id:a[1]})}function i(a){j("MegaMenu_NotificationBell_Show",{unseen_notification_count:a.toString()})}function j(event,a){b("Bootloader").loadModules(["FBAMetaLoggerWWW"],function(b){b=b.META_LOGGER;b.logEvent(event,a)},"FBAMetaMegaMenuLogger")}e.exports={logHelpTrayToggle:a,logHelpTrayArticleClick:c,logHelpTrayPerformSearch:d,logMegaMenuNotificationBellToggle:f,logMegaMenuNotificationClick:h,logMegaMenuNotificationBellShown:i}}),null);
__d("NotificationJewelListController",["AdsInterfacesNavTools","FBAMetaMegaMenuLogger","NotificationComponentsBootloader","NotificationListConfig","React","ReactDOM","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=b("NotificationListConfig").numNotificationsPerPage,h=null,i=null,j=null;function a(a,b){"use strict";this.$1=!1,this.$2=!1,this.$3=!1,this.$4=a,this.$5=b}a.prototype.open=function(){"use strict";this.$1=!0,this.$6()};a.prototype.pause=function(){"use strict";this.$2=!0,this.$5.pageType===b("AdsInterfacesNavTools").ANALYTICS&&b("FBAMetaMegaMenuLogger").logMegaMenuNotificationBellToggle(this.$2),this.$6()};a.prototype.unpause=function(){"use strict";this.$2=!1,this.$5.pageType===b("AdsInterfacesNavTools").ANALYTICS&&b("FBAMetaMegaMenuLogger").logMegaMenuNotificationBellToggle(this.$2),this.$6()};a.prototype.setFlyoutOpenState=function(a){"use strict";this.$3=a,this.$6()};a.prototype.$6=function(){"use strict";!h||!i?b("promiseDone")(b("NotificationComponentsBootloader").load(this.$5.isBizsite),function(a){var b=a[0],c=a[1];a=a[2];h=b;i=c;j=a;this.$7()}.bind(this)):this.$7()};a.prototype.$7=function(){"use strict";if(!h||!i||!j)return;b("ReactDOM").render(b("React").createElement(j,null,b("React").createElement(h,{hasEverBeenOpened:this.$1,paused:this.$2,isFlyoutOpened:this.$3,tracking:this.$5.tracking,shortenTimestamp:this.$5.shortenTimestamp,businessID:this.$5.businessID,defaultTab:this.$5.defaultTab,maxHeight:this.$5.maxHeight,useChevron:this.$5.useChevron,chevronType:this.$5.chevronType,numPerPage:g,listRenderer:i,upsell:this.$5.upsell||null,unseenNotifsCountByTab:this.$5.unseenNotifsCount,endpoint:this.$5.endpoint,sourceView:this.$5.sourceView,onClick:function(a){this.$5.pageType===b("AdsInterfacesNavTools").ANALYTICS&&b("FBAMetaMegaMenuLogger").logMegaMenuNotificationClick(a)}.bind(this)})),this.$4)};e.exports=a}),null);
__d("createNotificationSubscriptions",["invariant","Bootloader","JSLogger","NotificationConstants","NotificationUpdates","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i=null,j=0;function k(){h==null&&(h=b("JSLogger").create("notification_updates"));return h}function l(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b("Bootloader").loadModules(["NotificationSeenState","NotificationStore"],function(){b("NotificationUpdates").handleUpdate.apply(b("NotificationUpdates"),c)},"createNotificationSubscriptions")}function a(a){__p&&__p();var c=a.subscribeToNotificationHides,d=a.subscribeToNotificationReadnessUpdates,e=a.subscribeToNotificationSeenStateUpdates,f=a.subscribeToRealtimeChannelNotifications;return{setup:function(){__p&&__p();j++;i==null&&(i=new(b("SubscriptionsHandler"))(),i.addSubscriptions(c(function(a){l(b("NotificationConstants").PayloadSourceType.LIVE_SEND,{hiddenState:a})}),d(function(a){l(b("NotificationConstants").PayloadSourceType.LIVE_SEND,{readState:a})}),e(function(a){l(b("NotificationConstants").PayloadSourceType.LIVE_SEND,{seenState:a})}),f(function(a){k().debug("notifications_received",a),a!==null&&l(b("NotificationConstants").PayloadSourceType.LIVE_SEND,{nodes:a,servertime:Date.now()/1e3})})));var a=!1;return{remove:function(){if(a===!0)return;i!=null||g(0,5521);a=!0;j--;j===0&&(i.release(),i=null)}}}}}e.exports=a}),null);
__d("NotificationSubscriptions",["Arbiter","ChannelConstants","FacebookWebNotificationsSubscription","NotificationTokens","createNotificationSubscriptions","createObjectFrom"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){(!a.eligible_buckets||!a.eligible_buckets.includes("PRIORITY_INBOX"))&&(a.eligible_buckets=["PRIORITY_INBOX"].concat(a.eligible_buckets||[]));if(!a.sort_keys){var b=a.creation_time||Date.now()/1e3;a.sort_keys=[""+b,b+"000000"]}return a}e.exports=b("createNotificationSubscriptions")({subscribeToNotificationHides:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notification_hidden"),function(c,d){c=b("NotificationTokens").tokenizeIDs([d.obj.notif_id+""]);d=d.obj.state===1;a(b("createObjectFrom")(c,d))})},subscribeToNotificationReadnessUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_read"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToNotificationSeenStateUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_seen"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToRealtimeChannelNotifications:function(a){return b("FacebookWebNotificationsSubscription").subscribe({event:"NEW_NOTIFICATION",callback:function(b){a(b?[g(b)]:null)}})}})}),null);
__d("GlobalNotificationSubscriptionsSubscription",["NotificationSubscriptions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("NotificationSubscriptions").setup()}),null);
__d("FacebookWebNotificationsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1729085603868613"};c.getQueryID=function(){"use strict";return"1827770947332664"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("NotificationSync",["invariant","Arbiter","ChannelConstants","CurrentUser","FacebookWebNotificationsQueryWebGraphQLQuery","NotificationConstants","NotificationUpdates","WebGraphQL","WebPixelRatio","ifRequired","objectValues","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();var h=0;function i(){var a={endpointControllerName:"WebNotificationsPayloadPagelet"},c;b("ifRequired")("NotificationStore",function(d){c=b("objectValues")(d.getAll(a))});if(c==null)return null;var d=c.map(function(a){return a.creation_time}).filter(Boolean);return d.length===0?null:Math.max.apply(Math,d)}function j(){__p&&__p();var a=i();if(a==null)return;b("promiseDone")(b("WebGraphQL").exec(new(b("FacebookWebNotificationsQueryWebGraphQLQuery"))({is_work_user:b("CurrentUser").isWorkUser(),newer_than:a,scale:b("WebPixelRatio").get(),should_fetch_buckets:!1,should_fetch_sort_keys:!1,should_include_server_time:!1})),function(a){__p&&__p();if(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.notifications)!=null?a.edges:a:a:a;a=a&&a.map(function(a){a=a.node;return a}).filter(Boolean);if(a==null)return;a={nodes:a};b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.SYNC,a)}})}var k=null,l=0;a={setup:function(a){__p&&__p();l++;(h===null||a>h)&&(h=a);k==null&&(k=b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,j));var c=!1;return{remove:function(){if(c===!0)return;k!=null||g(0,51);c=!0;l--;l===0&&(k.unsubscribe(),k=null)}}}};e.exports=a}),null);
__d("GlobalNotificationSyncSubscription",["InitialServerTime","NotificationSync"],(function(a,b,c,d,e,f){"use strict";e.exports=b("NotificationSync").setup(b("InitialServerTime").serverTime)}),null);
__d("LiveVideoBeeperItemContents.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("LiveVideoBeeperItemContentsImpl.react").__setRef("LiveVideoBeeperItemContents.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),babelHelpers["extends"]({},this.props,{ref:"itemContents"}))})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XWorkUserSettingsUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/user_settings/",{})}),null);
__d("DockNubs",["AsyncRequest","CSS","WorkUserSettings","XWorkUserSettingsUpdateController"],(function(a,b,c,d,e,f){__p&&__p();var g="hidden_elem",h=b("WorkUserSettings").hideDock,i=null,j=[];a={init:function(a){i=a,this.registerSubscriber(this._updateCssClasses)},isVisible:function(){return!h},registerSubscriber:function(a){j.push(a);a(h);return{unsubscribe:function(){this._unregisterSubscriber(a)}}},_unregisterSubscriber:function(a){j=j.filter(function(b){return b!==a})},_updateSubscribers:function(){j.forEach(function(a){return a(h)})},toggleVisibility:function(){if(!i)return;h=!h;this._saveVisibilityPreferences(h);this._updateSubscribers()},_saveVisibilityPreferences:function(a){var c=b("XWorkUserSettingsUpdateController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({hide_dock:a}).send()},_updateCssClasses:function(){if(!i)return;h?b("CSS").addClass(i,g):b("CSS").removeClass(i,g)}};e.exports=a}),null);
__d("DockTabsViewportFantaTabUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();f=9;var g=284,h=g+f;function a(){return h+1}function b(a){return Math.floor(a/h)}function c(a){if(!a)return null;a=a.fantaTabModelStateGetter;return a?a():null}function d(a){return a?a.size:0}e.exports={getTabCountToFitWidth:b,getMinRequiredWidthForFirstFantaTab:a,getFantaTabModelFromCallbacks:c,getNumFantaTabsFromModel:d}}),null);
__d("DockTabsViewportPinnedConversationTabUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=496+9+2,h=210+9+2,i=52;function j(){return g}function k(){return h}function a(){return i}function b(a){return a.getIsRaised()?j():k()}function c(){return j()+i}function d(a){a=a||{};a=a.pinnedConvoTabStateGetter;return a?a():null}function f(a){return a?a.getTotalTabCount():0}e.exports={getRaisedPinnedConvoTabWidth:j,getLoweredPinnedConvoTabWidth:k,getPinnedConvoSelectorWidth:a,getPinnedConvoTabWidth:b,getMinRequiredWidthForFirstConvoTab:c,getPinnedConvoTabsStateFromCallbacks:d,getNumPinnedConvoTabsFromModel:f}}),null);
__d("DockTabsViewportCalculator",["csx","Arbiter","DataStore","Dock","DockTabsViewportFantaTabUtils","DockTabsViewportPinnedConversationTabUtils","DOM","Event","FullScreen","SubscriptionsHandler","Vector","ViewportBounds","ge","getViewportDimensions","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=50;a=35;var i=a,j="dock-tab-viewport-inst",k=b("DockTabsViewportFantaTabUtils").getMinRequiredWidthForFirstFantaTab,l=b("DockTabsViewportFantaTabUtils").getFantaTabModelFromCallbacks,m=b("DockTabsViewportFantaTabUtils").getNumFantaTabsFromModel,n=b("DockTabsViewportPinnedConversationTabUtils").getMinRequiredWidthForFirstConvoTab,o=b("DockTabsViewportPinnedConversationTabUtils").getNumPinnedConvoTabsFromModel,p=b("DockTabsViewportPinnedConversationTabUtils").getPinnedConvoTabsStateFromCallbacks;function q(a){return a?b("Vector").getElementDimensions(a).x:0}function r(a){this.$1=a,this.$3=0,this.$4=0,this.$5=null,this.$6=null,this.$7=!1,this.$8=!1,this.$9=!1,this.$2=new(b("SubscriptionsHandler"))(),this.$10(),this.$11()}r.prototype.$10=function(){var a=this.$12.bind(this);this.$2.addSubscriptions(b("Event").listen(window,"resize",a),b("Dock").subscribe("resize",a),b("Arbiter").subscribeOnce("sidebar/initialized",a,"new"),b("FullScreen").subscribe("changed",function(){b("FullScreen").isFullScreen()?(this.$7=!0,this.$8=!1):(this.$7=!1,this.$8&&(b("setImmediate")(function(){a()}),this.$8=!1))}.bind(this)))};r.prototype.registerFantaTabCallbacks=function(a){this.$5=a};r.prototype.registerPinnedConvoTabCallbacks=function(a){this.$6=a};r.prototype.forceRecalculateFBDockWidth=function(){this.$11(),this.$13({forceRecalculateChatTabs:!1,pinnedConvoUpdateData:null})};r.prototype.forceRecalculateChatTabs=function(){this.$13({forceRecalculateChatTabs:!0,pinnedConvoUpdateData:null})};r.prototype.forceRecalculatePinnedConvoTabs=function(a){this.$13({forceRecalculateChatTabs:!0,pinnedConvoUpdateData:a})};r.prototype.$12=function(){if(b("FullScreen").isFullScreen()||this.$7){this.$8=!0;return}this.forceRecalculateFBDockWidth()};r.prototype.$13=function(a){var b=a.forceRecalculateChatTabs;a=a.pinnedConvoUpdateData;var c=this.$14(),d=c.chatTabAvailableWidth;c=c.pinnedConvoTabAvailableWidth;this.$15(d,!!b);this.$16(c,a)};r.prototype.$16=function(a,b){var c=this.$6||{};c=c.onAvailableWidthChanged;c&&c(a,b)};r.prototype.$15=function(a,b){b=this.$5||{};b=b.onAvailableWidthChanged;b&&b(a)};r.prototype.$17=function(){var a=l(this.$5);return m(a)};r.prototype.$18=function(){return k()};r.prototype.$14=function(){__p&&__p();var a=this.$3,b={chatTabAvailableWidth:a,pinnedConvoTabAvailableWidth:0},c={chatTabAvailableWidth:0,pinnedConvoTabAvailableWidth:a},d=this.$17(),e=p(this.$6),f=o(e);if(!e||f===0)return b;else if(d===0)return c;e=this.$18();if(a<=e)return b;f=n();d=a-e;if(d<f)return b;else c=f;d=c;b=Math.max(e,a-c);return{chatTabAvailableWidth:b,pinnedConvoTabAvailableWidth:d}};r.prototype.$11=function(){this.$3=this.$19(),this.$20("DockTabsViewportCalculator/recalcTotalDock_FOR_TEST_ONLY")};r.prototype.$21=function(){var a=this.$1;if(!a)return{buddyListNubWidth:0,employeeNubsWidth:0};var c=q(a),d=q(b("DOM").find(a,"._56ox")),e=q(b("DOM").scry(a,"._56oy")[0]);a=q(b("DOM").scry(a,"._ph1")[0]);c=Math.max(c-d-e-a,0);return{buddyListNubWidth:d,employeeNubsWidth:c}};r.prototype.$19=function(){__p&&__p();var a=b("getViewportDimensions").withoutScrollbars().width;a-=b("ViewportBounds").getLeft()+b("ViewportBounds").getRight();a-=h;var c=this.$21(),d=c.buddyListNubWidth;c=c.employeeNubsWidth;a-=d;this.$4=Math.max(this.$4,c);a-=this.$4;a-=i;return Math.max(a,0)};r.prototype.enableTestInforms_FOR_TEST_ONLY=function(){this.$9=!0};r.prototype.$20=function(a){this.$9&&b("Arbiter").inform(a)};r.prototype.getChatTabAvailableDockWidth_FOR_TEST_ONLY=function(){return this.$14().chatTabAvailableWidth};r.prototype.getPinnedConvoTabAvailableDockWidth_FOR_TEST_ONLY=function(){return this.$14().pinnedConvoTabAvailableWidth};r.prototype.getAvailableTotalWidth_FOR_TEST_ONLY=function(){return this.$3};e.exports={getInstance:function(a){__p&&__p();var c=b("ge")("pagelet_dock");if(!c||!b("DOM").contains(c,a))return null;a=b("DataStore").get(c,j);if(a instanceof r)return a;var d=b("DOM").scry(c,".fbDockWrapperRight .fbDock")[0];a=new r(d);b("DataStore").set(c,j,a);return a}}}),null);
__d("KeyboardShortcutFlyout.react",["cx","fbt","Bootloader","KeyboardShortcuts","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={shortcutInfos:b("KeyboardShortcuts").getShortcutInfos()},c}a.prototype.render=function(){return b("React").createElement("div",{className:"_yqu _2ph_ _2pim"},b("React").createElement("table",{className:"_67br"},b("React").createElement("tbody",null,this.$2())))};a.prototype.componentDidMount=function(){this.$1=b("KeyboardShortcuts").subscribe(["cleanup","token_added"],function(){this.setState({shortcutInfos:b("KeyboardShortcuts").getShortcutInfos()})}.bind(this)),b("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut_flyout_shown").log()},"KeyboardShortcutFlyout.react")};a.prototype.componentWillUnmount=function(){b("KeyboardShortcuts").unsubscribe(this.$1)};a.prototype.$2=function(){return this.state.shortcutInfos.length?this.state.shortcutInfos.map(this.$3):h._("No shortcuts on this page")};a.prototype.$3=function(a,c){return b("React").createElement("tr",{key:"shortcut_info_"+c,className:"_3-12"},b("React").createElement("th",{className:"_2pin _52ju"},a.displayKeys.map(function(c,a){return b("React").createElement("span",{className:"_3-28 _2e42 _653d _52jv",key:a},c)})),b("React").createElement("td",{className:"_2pin _2pii"},a.description))};e.exports=a}),null);
__d("ReactNub",["csx","DOM","Focus","NubController","Parent","React","ReactDOM","getActiveElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("NubController"));h=c&&c.prototype;function a(a,c){__p&&__p();h.constructor.call(this);this.$ReactNub4=function(){b("ReactDOM").unmountComponentAtNode(this.$ReactNub1),b("Focus").set(this.$ReactNub3),this.$ReactNub3!==b("getActiveElement")()&&b("Focus").set(this.nubButton)}.bind(this);this.$ReactNub5=function(){this.$ReactNub3=b("getActiveElement")();var a=this.$ReactNub2;b("ReactDOM").render(b("React").createElement(a,null),this.$ReactNub1);b("Focus").set(this.closeButton)}.bind(this);this.$ReactNub1=a;this.$ReactNub2=c;c=b("Parent").bySelector(a,"._50-v");h.init.call(this,c);b("DOM").empty(a);this.subscribe("hide",this.$ReactNub4);this.subscribe("show",this.$ReactNub5)}e.exports=a}),null);
__d("TypeaheadFacepile",["DOM"],(function(a,b,c,d,e,f){function a(){}a.render=function(a){var c=[b("DOM").create("span",{className:"splitpic leftpic"},[b("DOM").create("img",{alt:"",src:a[0]})]),b("DOM").create("span",{className:"splitpic"+(a[2]?" toppic":"")},[b("DOM").create("img",{alt:"",src:a[1]})])];a[2]&&c.push(b("DOM").create("span",{className:"splitpic bottompic"},[b("DOM").create("img",{alt:"",src:a[2]})]));return b("DOM").create("span",{className:"splitpics clearfix"},c)};e.exports=a}),null);
__d("FBPaymentsDialogContainerMount",["FBPaymentsDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").createElement(b("FBPaymentsDialogContainer.react"),null),a)}};e.exports=a}),null);
__d("FBRTCMessageHandler",["Bootloader","FBRTCExperiment","FBRTCMessageListener","MessengerRTCMessageHandler"],(function(a,b,c,d,e,f){__p&&__p();var g=!1,h=!1,i=!1,j=!1,k={init:function(){if(b("FBRTCExperiment").getIncomingCallExperiments().getBool("use_messenger_on_fb",!1)){b("MessengerRTCMessageHandler").init();return}k.initInternal()},initInternal:function(){h===!1&&(h=!0,b("FBRTCMessageListener").init(!1),b("FBRTCMessageListener").once("messageReceived",function(a){k.initIncomingCallController()}),b("FBRTCMessageListener").once("multiwayMessageReceived",function(a){l(a)}),b("FBRTCMessageListener").once("bonfireMessageReceived",function(a){m(a)}))},initIncomingCallController:function(){g||(g=!0,b("Bootloader").loadModules(["FBRTCIncomingCallController","FBRTCIncomingCallDialog","FBRTCMissedVideoCallHandler","FBRTCUnsupportedBrowserMessage"],function(a,c,d,e){b("FBRTCExperiment").getIncomingCallExperiments().logExposure();var f=new a(c,e,new d());b("FBRTCMessageListener").setMessageHandler(function(a){f.onMessageReceived(a)})},"FBRTCMessageHandler"))}};function l(a){i||(i=!0,b("Bootloader").loadModules(["FBRTCGroupCallIncomingController","FBRTCGroupCallIncomingDialog"],function(c,d){b("FBRTCExperiment").getIncomingCallExperiments().logExposure();var e=new c(d,!0);b("FBRTCMessageListener").setMultiwayMessageHandler(function(a){e.onMessageReceived(a)});e.onMessageReceived(a)},"FBRTCMessageHandler"))}function m(a){j||(j=!0,b("Bootloader").loadModules(["FBRTCGroupCallIncomingController","FBRTCGroupCallIncomingDialog"],function(c,d){b("FBRTCExperiment").getIncomingCallExperiments().logExposure();var e=new c(d,!1);b("FBRTCMessageListener").setBonfireMessageHandler(function(a){e.onBonfireMessageReceived(a)});e.onBonfireMessageReceived(a)},"FBRTCMessageHandler"))}e.exports=k}),null);
__d("XPymkFunnelLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pymk/funnel_logging/",{event_ts:{type:"Int",required:!0},query_id:{type:"Int"},candidate_id:{type:"Int"},signature:{type:"Int"},loc:{type:"String",required:!0},ref:{type:"String"},action:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PymkFunnelLogger",["AsyncRequest","DOMQuery","XPymkFunnelLoggingController"],(function(a,b,c,d,e,f){__p&&__p();a={setupListeners:function(a,b,c,d,e){this._setupForSingleElement(a,b,c,"add"),this._setupForSingleElement(a,b,d,"click"),this._setupForSingleElement(a,b,e,"click")},logImpression:function(a,b,c){this._logEvent(a,"impression",b,c)},logXOut:function(a,b,c){this._logEvent(a,"hide",b,c)},_logEvent:function(a,event,c,d){a=b("XPymkFunnelLoggingController").getURIBuilder().setInt("candidate_id",a).setInt("signature",c).setInt("event_ts",Math.floor(Date.now()/1e3)).setEnum("action",event).setString("loc",d).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send()},_setupForSingleElement:function(a,c,d,e){Event.listen(d,"click",function(event){var d=a.getAttribute("data-signature"),f=b("DOMQuery").find(a,"input.friendBrowserID");f=parseInt(f.value,10);this._logEvent(f,e,d,c)}.bind(this))}};e.exports=a}),null);
__d("XFriendRequestIHEventLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/requests/interaction_history_logging/",{target_id:{type:"FBID",required:!0},log_event:{type:"String",required:!0}})}),null);
__d("FriendRequestIHEventLogger",["AsyncRequest","Event","XFriendRequestIHEventLoggingController"],(function(a,b,c,d,e,f){__p&&__p();a={setupJewelListeners:function(a,b,c){this._setupForJewelSingleElement(a,b,"click"),c&&this._setupForJewelSingleElement(a,c,"click")},logImpression:function(a){this._logEvent(a,"impression")},_logEvent:function(a,event){if(isNaN(a))return;a=b("XFriendRequestIHEventLoggingController").getURIBuilder().setFBID("target_id",a).setString("log_event",event).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send()},_setupForJewelSingleElement:function(a,c,d){b("Event").listen(c,"click",function(event){var b=a.getAttribute("id");if(!b)return;b=b.substring(0,b.length-6);this._logEvent(b,d)}.bind(this))}};e.exports=a}),null);
__d("HelpLiteFlyoutBootloader",["regeneratorRuntime","Deferred","JSResource"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h=null,i=null,j={loadFlyout:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:j.loadFlyoutWithHelpType(null);case 1:case"end":return a.stop()}},null,this)},loadFlyoutWithHelpType:function(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(b("JSResource")("HelpLiteFlyout").__setRef("HelpLiteFlyoutBootloader").load());case 2:c=h.sent;if(!g){h.next=6;break}c.refreshHelp();return h.abrupt("return");case 6:g=!0;a&&j.setHelpType(a);h.next=10;return b("regeneratorRuntime").awrap(this._getDeferredFlyoutElements().getPromise());case 10:d=h.sent,e=d.flyout,f=d.flyoutRoot,c.registerFlyoutToggler(e,f),c.loadBody();case 15:case"end":return h.stop()}},null,this)},setHelpType:function(a){i=a},getHelpType:function(){return i},_getDeferredFlyoutElements:function(){h==null&&(h=new(b("Deferred"))());return h},registerFlyoutElements:function(a,b){this._getDeferredFlyoutElements().resolve({flyout:a,flyoutRoot:b})}};e.exports=j}),null);
__d("BootloadOnInteraction",["Event","JSResource","emptyFunction"],(function(a,b,c,d,e,f){a={mount:function(a,c,d,e){d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=b("emptyFunction"));var f=[b("Event").listen(a,"mouseover",g),b("Event").listen(a,"focus",g)];function g(){f.forEach(function(a){return a.remove()}),e(),b("JSResource").loadAll(c,d)}}};e.exports=a}),null);
__d("JewelBootloadModules",["BootloadOnInteraction","JSResource"],(function(a,b,c,d,e,f){__p&&__p();var g={},h={};function i(a){if(!a.bootload_conf||!a.bootload_module)return[];var b=[a.bootload_module];a.bootload_conf.bundleBootloader&&g[a.name]&&(b=b.concat(g[a.name]));return b}function j(a,b){h[b.name]=h[b.name]||new a(b,b.bootload_args)}a={mount:function(a){var c=a.getButton();b("BootloadOnInteraction").mount(c,i(a),function(b){j(b,a),a.inform("opened")})},load:function(a){b("JSResource").loadAll(i(a),function(b){j(b,a),a.inform("opened")})},loadModules:function(a){b("JSResource").loadAll(i(a),function(b){j(b,a)})}};e.exports=a}),null);
__d("QPEventHandling",[],(function(a,b,c,d,e,f){"use strict";a={registerClickListener:function(a,b,c){a.addEventListener("click",c)}};e.exports=a}),null);
__d("QPRenderer",["csx","CSS","FBLogger","Parent","QPEventHandling","XAsyncRequest","XQuickPromotionSimpleLoggingController","ge"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,event,c){a=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setString("qp_event",event).setStringToStringMap("qp_instance_log_data",c).getURI();new(b("XAsyncRequest"))(a).send()}function a(a,c,d){a=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setEnum("qp_action",c).setStringToStringMap("qp_instance_log_data",d).getURI();new(b("XAsyncRequest"))(a).send()}function c(a,c,d,e,f,g){e=b("ge")(e);e!==null?i(a,d,e,g,function(){f&&b("CSS").hide(c)}):b("FBLogger")("quick_promotion").mustfix("Quick Promotion %s is missing %s action element.",a,d)}function d(a,c,d,e,f){i(a,c,d,f,function(){if(e){var a=b("Parent").bySelector(d,"._5jmm");a instanceof HTMLElement&&b("CSS").hide(a)}})}function e(a,c,d){c.show();h(a,"view",{});c.subscribe("cancel",function(){h(a,"dialog_cancel",{})});for(var e=0;e<d.length;e++){var f=d[e],g=b("ge")(f.element_id);g!==null?(i(a,f.action,g,f.extra_log_data,f.should_close?function(){c.hide()}:function(){}),f.action=="primary"&&g.focus()):b("FBLogger")("quick_promotion").mustfix("Quick Promotion %s is missing %s action element.",a,f.action)}}function i(a,c,d,e,f){b("QPEventHandling").registerClickListener(d,c,function(){var d=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setEnum("qp_action",c).setStringToStringMap("qp_instance_log_data",e).getURI();new(b("XAsyncRequest"))(d).send();f()})}f.setAction=c;f.setComponentActionForFeedUnitQP=d;f.setDialogActionsAndShow=e;f.logAction=a;f.logEvent=h}),null);
__d("JewelQPLogging",["QPRenderer"],(function(a,b,c,d,e,f){var g=!1,h=null,i=!1;function j(){if(i)return;g&&h&&(i=!0,b("QPRenderer").logEvent(String(h.promotion_id),"view",h.instance_log_data?h.instance_log_data:{}))}a={onJewelOpened:function(){g=!0,j()},updateQPLogData:function(a){h=a,j()}};e.exports=a}),null);
__d("RequestsJewelStore",["Arbiter","ArbiterMixin","ChannelConstants"],(function(a,b,c,d,e,f){__p&&__p();a=babelHelpers["extends"]({},b("ArbiterMixin"),{_initialized:!1,_count:0,_requestList:{},addFriendRequests:function(a){Object.assign(this._requestList,a)},getRequestListKeys:function(){return Object.keys(this._requestList)},removeRequest:function(a){delete this._requestList[a]},getRequestCount:function(a){return this.getRequestListKeys().length},decrementCount:function(){this.setCount(Math.max(0,this._count-1))},setCount:function(a){b("Arbiter").inform("jewel/count-updated",{jewel:"requests",count:a},"state")},setupListeners:function(){__p&&__p();if(this._initialized)return;this._initialized=!0;b("Arbiter").subscribe("jewel/count-updated",function(a,b){b.jewel==="requests"&&this._updateCount(b.count)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("jewel_requests_add"),function(a,b){return this._addRequest(b)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("jewel_friending_notifs"),function(a,b){return this._addNotification(b)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("mobile_requests_count"),function(a,b){return this._updateBadgeCountFromObject(b)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("jewel_requests_remove_old"),function(a,b){return this._removeOldRequest(b)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("friend_requests_expired"),function(a,b){return this._refreshJewel(!0)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("friend_requests_seen"),function(a,b){return this.setCount(0)}.bind(this))},_updateCount:function(a){var b=this._count!==a;this._count=a;b&&this.inform("countUpdated",a)},_addRequest:function(a){__p&&__p();if(!a)return;a=a.obj;var b=a.from;a=a.suggester;b=this._requestList[b];b||this.setCount(this._count+1);b=b?b.type:null;a=b===19&&!a;this.inform("addRequest",{shouldReplace:a,previousType:b})},_updateBadgeCountFromObject:function(a){if(!a)return;a=a.obj;a=a.num_unseen+a.num_friend_confirmed_unseen+a.num_expire_highlight_unseen;this._refreshJewel();this.setCount(a)},_addNotification:function(a){if(!a||a.obj.notif_type!=="friend_confirmed")return;this.inform("addNotification")},_removeOldRequest:function(a){if(!a)return;a=this._requestList[a.obj.from];if(!a)return;this.inform("removeOldRequest",a)},_refreshJewel:function(a){a===void 0&&(a=!1),this.inform("refreshJewel",a)}});e.exports=a}),null);
__d("XExpireFriendRequestsMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/requests/expire/",{from_m_jewel:{type:"Bool",defaultValue:!1}})}),null);
__d("XGigaboxxUpdateSeenTimeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/gigaboxx/endpoint/writesafe/update_last_seen_time/",{})}),null);
__d("formatNumber",["fbt","intlNumUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c){return b("intlNumUtils").formatNumber(a,c)}function h(a,c){c=g._({"*":"{number}+"},[g._param("number",b("intlNumUtils").formatNumberWithThousandDelimiters(a,c),[0,a])]);return c.toString()}function i(a,c){c=g._({"*":"\u003C{number}"},[g._param("number",b("intlNumUtils").formatNumberWithThousandDelimiters(a,c),[0,a])]);return c.toString()}function c(a,c,d){return a>c?h(c,d):b("intlNumUtils").formatNumberWithThousandDelimiters(a,d)}function d(a,c,d){return a<c?i(c,d):b("intlNumUtils").formatNumberWithThousandDelimiters(a,d)}a.withThousandDelimiters=b("intlNumUtils").formatNumberWithThousandDelimiters;a.withMaxLimit=c;a.withMinLimit=d;e.exports=a}),null);
__d("XUIBadge",["cx","invariant","CSS","DOM","formatNumber"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(a){return parseInt(a,10)===a}function a(a){"use strict";this.target=a.target,this.count=a.count,this.maxcount=a.maxcount}a.prototype.getCount=function(){"use strict";return this.count};a.prototype.setCount=function(a){"use strict";i(a)||h(0,186),a>=0||h(0,3502),this.count=a,b("CSS").conditionClass(this.target,"hidden_elem",this.count===0),b("DOM").setContent(this.target,b("formatNumber").withMaxLimit(a,this.maxcount)),a>this.maxcount?b("CSS").addClass(this.target,"_5ugi"):b("CSS").removeClass(this.target,"_5ugi")};a.prototype.setLegacyContent=function(a){"use strict";typeof a==="string"?(b("CSS").conditionClass(this.target,"hidden_elem",a==0),b("DOM").setContent(this.target,a),b("CSS").removeClass(this.target,"_5ugi")):this.setCount(a)};a.prototype.increment=function(){"use strict";this.setCount(this.getCount()+1)};e.exports=a}),null);
__d("RequestsJewelController",["invariant","Promise","Arbiter","AsyncRequest","CSS","DOM","DOMQuery","Event","EventProfiler","Focus","FriendRequestIHEventLogger","JewelQPLogging","MarauderLogger","Parent","PymkFunnelLogger","RequestsJewelStore","ScrollableArea","TimeSlice","XExpireFriendRequestsMutationController","XGigaboxxUpdateSeenTimeAsyncController","XUIBadge","ge","getElementPosition","getViewportDimensions","promiseDone","requireWeak","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null;b("requireWeak")("FriendBrowserCheckboxController",function(a){return h=a});var i=31,j=600,k=30,l=160;m.getInstance=function(){"use strict";return this.$12};m.updateFromDOM=function(){"use strict";var a=this.getInstance();a&&a.fromDom()};m.setupScroll=function(){"use strict";var a=this.getInstance();a&&a.setupScroll()};m.setInitialHeight=function(){"use strict";var a=this.getInstance();a&&a.updateHeight()};m.maybeLoadJewel=function(){"use strict";var a=this.getInstance();a&&a.maybeLoadJewel()};m.setTitleBadgeCount=function(a){"use strict";this.$11&&this.$11.setCount(a)};m.initTitleBadge=function(a,c){"use strict";this.$11||b("Arbiter").subscribe(["FriendRequest/delete","FriendRequest/confirm","FriendSuggestion/accepting","FriendSuggestion/ignoring"],function(a,b){return this.decrementTitleBadgeCount(b)}.bind(this)),this.$11=c};m.decrementTitleBadgeCount=function(a){"use strict";this.$11&&this.$11.setCount(this.$11.getCount()-1)};m.isOpen=function(){"use strict";var a=this.getInstance();return a?a.$2():!1};m.create=function(a,b){"use strict";this.$12&&g(0,5550);return this.$12=new m(a,b)};m.setupJewelRefresh=function(){"use strict";b("Arbiter").subscribe(["FriendRequest/confirmFromProfile","FriendRequest/deleteFromProfile"],function(a,c){a={};a.reloadcontent=!0;new(b("AsyncRequest"))().setURI("/ajax/requests/loader/").setData(a).setAllowCrossPageTransition(!0).send()})};function m(a,c){"use strict";this.$2=c,this.$1=a,this.$4=-1,this.$5=-1,this.$10=b("Promise").resolve(!0),this.$8=b("throttle").acrossTransitionsWithBlocking(function(){return this.$13({log_impressions:!0})}.bind(this),5e3),b("RequestsJewelStore").subscribe("addRequest",this.$14.bind(this)),b("RequestsJewelStore").subscribe("addNotification",function(){return this.$15()}.bind(this)),b("RequestsJewelStore").subscribe("removeOldRequest",this.$16.bind(this)),b("RequestsJewelStore").subscribe("refreshJewel",this.$17.bind(this)),b("RequestsJewelStore").setupListeners(),this.setupScroll(),this.$18(),this.$19(),this.$20()}m.prototype.fromDom=function(){"use strict";__p&&__p();var a={};b("DOMQuery").scry(this.$1,"li.objectListItem").forEach(function(b){b=b.getAttribute("id");if(b){b=this.$21(b);b&&b.requester&&(a[b.requester]=b)}}.bind(this));b("RequestsJewelStore").addFriendRequests(a);this.$22()};m.prototype.maybeLoadJewel=function(){"use strict";this.$9&&(this.$9(function(){this.openHandler()}.bind(this)),this.$9=null)};m.prototype.updateHeight=function(){"use strict";var a=this.$23();a&&(a.style.height=this.$24()+"px")};m.prototype.markSeen=function(){"use strict";b("promiseDone")(this.$10,function(){new(b("AsyncRequest"))(b("XGigaboxxUpdateSeenTimeAsyncController").getURIBuilder().getURI()).setMethod("POST").send()})};m.prototype.openHandler=function(){"use strict";__p&&__p();!this.$6&&this.$2()&&(this.$6=!0,b("EventProfiler").tagCurrentActiveInteractionsAs("FirstRequestsJewelOpen"));b("Arbiter").inform("requestsJewel/opened");var a=b("ge")("fbRequestsJewelLoading"),c=this.$23();new(b("AsyncRequest"))().setURI(b("XExpireFriendRequestsMutationController").getURIBuilder().getURI()).send();if(!a&&!c)this.$9=b("TimeSlice").getGuardedContinuation("RequestsJewelController clickBeforeE2E continuation");else if(a)this.$8();else{a=b("RequestsJewelStore").getRequestListKeys();a.length>0&&new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI("/friends/requests/log_impressions").setData({ids:a.join(","),ref:"jewel"}).send()}b("DOMQuery").scry(this.$1,"a.findFriendsLink").forEach(function(a){b("Focus").set(a)});c&&b("ScrollableArea").poke(c);b("JewelQPLogging").onJewelOpened()};m.prototype.closeHandler=function(){"use strict";b("Arbiter").inform("requestsJewel/closed"),b("DOMQuery").scry(this.$1,"li.jewelItemNew").forEach(function(a){b("CSS").removeClass(a,"jewelItemNew")}),b("DOMQuery").scry(this.$1,"span.highlightedExpireText").forEach(function(a){b("CSS").removeClass(a,"highlightedExpireText")})};m.prototype.setupScroll=function(){"use strict";var a=this.$23();a&&(this.$7=this.$25(),this.$3=0,b("ScrollableArea").getInstance(a).subscribe("scroll",this.$26.bind(this)),this.$27(),this.$28())};m.prototype.$18=function(){"use strict";b("Event").listen(this.$1,"submit",function(a){a=b("Parent").byClass(a.getTarget(),"objectListItem");a&&(b("CSS").removeClass(a,"jewelItemNew"),b("CSS").addClass(a,"jewelItemResponded"))})};m.prototype.$19=function(){"use strict";b("Event").listen(window,"resize",b("throttle").acrossTransitions(function(){this.updateHeight()}.bind(this)))};m.prototype.$20=function(){"use strict";b("Arbiter").subscribe("pymk-x-out",function(a,b){a=b.location;(a==="pymk_jewel_first_page"||a==="pymk_jewel")&&this.$27()}.bind(this))};m.prototype.$29=function(a){"use strict";a=parseInt(a,10);return isNaN(a)?null:a};m.prototype.$21=function(a){"use strict";a=a.match(/^(\d+)_(\d+)/);return!a?null:{requester:this.$29(a[1]),type:this.$29(a[2])}};m.prototype.$30=function(a,b){"use strict";return a==null||b==null?null:a+"_"+b};m.prototype.$31=function(a,b){"use strict";return a==null||b==null?null:a+"_"+b+"_req"};m.prototype.$23=function(){"use strict";return b("DOMQuery").scry(this.$1,".uiScrollableArea")[0]};m.prototype.$25=function(){"use strict";return b("DOMQuery").scry(this.$1,".uiScrollableAreaWrap")[0]};m.prototype.$26=function(){"use strict";__p&&__p();var a=b("DOMQuery").scry(this.$7,".uiMorePager").pop();if(a){var c=b("getElementPosition")(a).y,d=this.$23();c>0&&d&&b("CSS").addClass(d,"contentAfter");c=b("DOMQuery").find(a,"a");if(!c)return;d=b("getElementPosition")(c).y;if(d===this.$3)return;a=b("getElementPosition")(this.$7);a=a.y+a.height;if(d-300<a&&d>0){this.$3=d;a=c.getAttribute("ajaxify");a?new(b("AsyncRequest"))(a).setRelativeTo(c).setStatusElement(b("Parent").byClass(c,"stat_elem")).send():h&&h.getInstance("jewel").showMore()}}this.$27();this.$28()};m.prototype.$27=function(){"use strict";__p&&__p();if(!this.$7)return;var a=b("getElementPosition")(this.$7);a=a.y+a.height;var c=b("DOMQuery").scry(this.$1,"li.friendBrowserListUnit"),d=c.length-1;while(d>this.$4){var e=b("getElementPosition")(c[d]),f=e.y;e=f+e.height;if(f>0&&e<=a)break;d-=1}f=d;while(d>this.$4){e=b("DOMQuery").find(c[d],"input.friendBrowserID");a=parseInt(e.value,10);e=parseInt(c[d].getAttribute("data-signature"),10);b("PymkFunnelLogger").logImpression(a,e,"pymk_jewel");d--}this.$4=Math.max(this.$4,f)};m.prototype.$28=function(){"use strict";__p&&__p();if(!this.$7)return;var a=b("getElementPosition")(this.$7);a=a.y+a.height;var c=b("DOMQuery").scry(this.$1,"li.objectListItem"),d=c.length-1;while(d>this.$5){var e=b("getElementPosition")(c[d]),f=e.y;e=f+e.height;if(f>0&&e<=a)break;d-=1}f=d;while(d>this.$5){e=c[d].getAttribute("id");e=e.substring(0,e.length-6);b("MarauderLogger").log("request_seen","friend_request_waterfall",{request_id:e,request_location:"requests_jewel"});b("FriendRequestIHEventLogger").logImpression(e);d-=1}this.$5=Math.max(this.$5,f)};m.prototype.$13=function(a){a===void 0&&(a={}),this.$10=new(b("Promise"))(function(c,d){var e=!b("ge")("fbRequestsJewelLoading");new(b("AsyncRequest"))().setURI("/ajax/requests/loader/").setData(babelHelpers["extends"]({},a,{reloadcontent:e})).setFinallyHandler(function(a){!a.getError()?c(!0):d()}).send()})};m.prototype.$15=function(){"use strict";if(this.$2())return;this.$13()};m.prototype.$14=function(a,b){a=b.shouldReplace;b=b.previousType;if(!a&&(b||this.$2()))return;this.$13()};m.prototype.$16=function(a,c){a=c.requester;c=c.type;if(this.$2()||b("ge")("fbRequestsJewelLoading")!=null)return;var d=this.$30(a,c),e=d&&b("ge")(d);e||(d=this.$31(a,c),e=b("ge")(d));e&&(b("CSS").hasClass(e,"jewelItemNew")&&b("RequestsJewelStore").decrementCount(),b("CSS").hasClass(e,"jewelItemResponded")||(b("DOM").remove(e),b("RequestsJewelStore").removeRequest(a),this.$22()))};m.prototype.$17=function(a,b){"use strict";if(b!==!0&&this.$2())return;this.$13()};m.prototype.$22=function(){"use strict";b("DOMQuery").scry(this.$1,"li.empty").forEach(function(a){b("CSS").conditionShow(a,b("RequestsJewelStore").getRequestCount()<=0)})};m.prototype.$24=function(){"use strict";return Math.min(Math.max(b("getViewportDimensions")().height-l,k),j)+i};m.$12=null;e.exports=m}),null);
__d("JewelBadgeCountRecorder",["invariant","Arbiter","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.create(null);a={onCountUpdated:function(a,c){h[c.jewel]==null&&(h[c.jewel]=[]);a=h[c.jewel];a.push({timestamp:b("performanceNow")(),count:c.count});a.length>1e3&&a.shift()},getCountAtTimestamp:function(a,b){var c=h[a];c!=null||g(0,2483,a,JSON.stringify(h));c.length>0||g(0,2484,a);a=c.find(function(a,d){var e=c[d+1];return d===0&&b<a.timestamp||b>a.timestamp&&(e==null||b<e.timestamp)});a||g(0,2485);return a.count}};b("Arbiter").subscribe("jewel/count-updated",a.onCountUpdated);e.exports=a}),null);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","FBJSON"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$CrossWindowEventEmitter2=a,this.$CrossWindowEventEmitter1=new(b("CacheStorage"))("localstorage",a+":"),this.$CrossWindowEventEmitter1.addValueChangeCallback(function(a,c,d){var event=a.split(":")[1];try{c=b("FBJSON").parse(d)}catch(a){c=undefined}if(c&&c.__v){(a=g.emit).call.apply(a,[this,event].concat(c.__v))}}.bind(this))}a.prototype.emit=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];this.emitRemote.apply(this,[a].concat(d));(b=g.emit).call.apply(b,[this,a].concat(d))};a.prototype.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter1.set(a,c)};e.exports=a}),null);
__d("FriendingSurfaceVisitationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:FriendingSurfaceVisitationLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:FriendingSurfaceVisitationLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FriendingSurfaceVisitationLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppVersion=function(a){this.$1.app_version=a;return this};a.prototype.setBadgeCount=function(a){this.$1.badge_count=a;return this};a.prototype.setClientTimestamp=function(a){this.$1.client_timestamp=a;return this};a.prototype.setRawRefTab=function(a){this.$1.raw_ref_tab=a;return this};a.prototype.setRawTab=function(a){this.$1.raw_tab=a;return this};a.prototype.setRefPage=function(a){this.$1.ref_page=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setTargetProfileID=function(a){this.$1.target_profile_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={app_version:!0,badge_count:!0,client_timestamp:!0,raw_ref_tab:!0,raw_tab:!0,ref_page:!0,surface:!0,target_profile_id:!0,vc:!0};e.exports=a}),null);
__d("JewelCountSideLoader",["invariant","CSS"],(function(a,b,c,d,e,f,g){__p&&__p();var h={},i={},j={};a={queueInstances:function(a,b,c){h[a]={badge:b,root:c}},updateCountAndQueueArgs:function(a,c,d){__p&&__p();var e=i[a];if(e){e.updateCountAndArgs(d,c);return}e=h[a];e||g(0,1889);j[a]={count:c,args:d};b("CSS").conditionClass(e.root,"hasNew",!!c);e.badge.setLegacyContent(c);return},getOverwritesForJewel:function(a){if(j[a.name])return j[a.name];i[a.name]=a;return null}};e.exports=a}),null);
__d("NotificationJewelFunnelLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={FUNNEL_LOGGING_NAME:"WWW_NOTIFICATION_FUNNEL",FUNNEL_LOGGING_EVENT:{FETCH_NOTIFICATIONS:"fetch_notifications",OPEN_JEWEL:"open_jewel",CLOSE_JEWEL:"close_jewel",MOUSE_OVER_ON_JEWEL:"mouse_over_on_jewel",SCROLL_TO_FETCH:"scroll_to_fetch",FETCH_NEXT_SET:"fetch_next_set",CLEAR_BADGE_COUNT:"clear_badge_count"}}}),null);
__d("normalizedEventTimestamp",["performance"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a!=null)if(b("performance")&&b("performance").timing&&b("performance").timing.navigationStart&&a>b("performance").timing.navigationStart)return a-=b("performance").timing.navigationStart;else return a;else if(b("performance").now)return b("performance").now();return null}e.exports=a}),null);
__d("reportData",["Banzai","SessionName","ifRequired"],(function(a,b,c,d,e,f){__p&&__p();var g={retry:!0};function a(a,c){c===void 0&&(c={});c={ft:c.ft||{},gt:c.gt||{}};var d="-",e="r",f=b("ifRequired")("URI",function(a){return a.getRequestURI(!0,!0).getUnqualifiedURI().toString()},function(){return location.pathname+location.search+location.hash});a=[b("SessionName").getName(),Date.now(),"act",Date.now(),0,d,a,d,d,e,f,c,0,0,0,0];b("Banzai").post("eagle_eye_event",a,g)}e.exports=a}),null);
__d("JewelBase",["csx","invariant","Promise","Arbiter","ArbiterMixin","CrossWindowEventEmitter","CSS","DOM","Event","FriendingSurfaceVisitationTypedLogger","FunnelLogger","HTML","JewelBadgeCountRecorder","JewelCountSideLoader","JewelLogger","Keys","NotificationJewelFunnelLoggingConstants","Run","TabIsolation","TimeSlice","Toggler","TooltipData","firstClickTimestamp","killswitch","mixin","normalizedEventTimestamp","performanceNow","promiseDone","reportData"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("JewelLogger").logJewelCancel,k=b("JewelLogger").logJewelClick,l=b("JewelLogger").logJewelInitialize,m=b("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_EVENT,n=b("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_NAME,o=new(b("CrossWindowEventEmitter"))("JewelBase"),p={};c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));i=c&&c.prototype;function a(a,c){"use strict";__p&&__p();i.constructor.call(this);this.name=c.name;this.label=c.label;this.clickCount=0;this.root=a;this.badge=c.badge;this.countNew=0;this.initialCount=c.count||0;this.escHandler=null;this.bootload_module=c.bootload_module;this.bootload_args=c.bootload_args;this.bootload_eager_modules=c.bootload_eager_modules;this.bootload_conf=c.bootload_conf;this.bootloading=null;this.togglerInstance=b("Toggler").getInstance(a).setSticky(!1);this.businessID=c.businessID;this.loggerRef=c.loggerRef;l({jewelName:this.name,badgeInitialCount:this.initialCount});b("JewelBadgeCountRecorder").onCountUpdated("jewel/initial-count",{jewel:this.name,count:this.initialCount});this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction?this.$JewelBase3():b("Run").onAfterLoad(function(){return this.$JewelBase4()}.bind(this));this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction&&this.$JewelBase5();c.keepOpenForSnowlift&&this.togglerInstance.setPrePageTransitionCallback(this.$JewelBase6.bind(this));p[this.name]=this;this.$JewelBase7();a=this.getFlyout();a||h(0,5194);var d=new(b("TabIsolation"))(a);b("killswitch")("JEWEL_TOGGLER_INSTANCE_FIXES")?b("Toggler").createInstance(a).setSticky(!1):b("Toggler").createInstance(this.root).setSticky(!1);this.$JewelBase8();b("Toggler").listen("show",this.root,function(a){b("FunnelLogger").appendAction(n,m.OPEN_JEWEL),this.$JewelBase9(),this.inform("user-open"),this.hasNew()&&this.markSeen(),this.reset(),b("Arbiter").inform("layer_shown",{type:"Jewel"}),d.enable(),this.setupEvents(),this.$JewelBase10(),this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction?this.$JewelBase11():b("promiseDone")(this.$JewelBase4().then(function(){return this.inform("opened")}.bind(this)))}.bind(this));b("Toggler").listen("hide",this.root,function(a,c){j(),b("FunnelLogger").appendAction(n,m.CLOSE_JEWEL),b("FunnelLogger").endFunnel(n),this.hasNew()&&this.markSeen(),this.reset(),this.inform("closed"),b("Arbiter").inform("layer_hidden",{type:"Jewel"}),d.disable(),this.removeEvents(),this.$JewelBase8()}.bind(this));b("Arbiter").subscribe("jewel/count-updated",function(a,b){b.jewel==this.name&&this.update(b)}.bind(this));b("Arbiter").subscribe("jewel/hide",function(a,b){this.hide()}.bind(this));o.addListener("count-updated",function(a){a.jewel==this.name&&this.update(a)}.bind(this))}a.prototype.getRoot=function(){"use strict";return this.root};a.prototype.hide=function(){"use strict";this.isOpen()&&b("Toggler").hide(this.root)};a.prototype.getFlyout=function(){"use strict";this.$JewelBase1==null&&(this.$JewelBase1=b("DOM").find(this.root,".__tw"));return this.$JewelBase1};a.prototype.hasNew=function(){"use strict";return b("CSS").hasClass(this.root,"hasNew")};a.prototype.isOpen=function(){"use strict";return b("CSS").hasClass(this.root,"openToggler")};a.prototype.reset=function(){"use strict";b("FunnelLogger").appendAction(n,m.CLEAR_BADGE_COUNT),b("CSS").removeClass(this.root,"hasNew")};a.prototype.setContent=function(a){"use strict";var c=b("DOM").find(this.root,"ul.jewelItemList");b("DOM").setContent(c,b("HTML")(a))};a.prototype.update=function(a){"use strict";a.animation&&this.badge.setAnimation&&this.badge.setAnimation(a.animation);this.countNew=a.count;typeof this.countNew==="number"&&this.countNew<0&&(this.countNew=0);this.badge.setLegacyContent(this.countNew);var c=isNaN(this.countNew)||this.countNew>0;b("CSS").conditionClass(this.root,"hasNew",c);this.updatedOnce=!0;this.inform("updated",a,"state")};a.prototype.setupEvents=function(){"use strict";this.escHandler=b("Event").listen(document.documentElement,"keydown",function(a){a.keyCode===b("Keys").ESC&&this.hide()}.bind(this))};a.prototype.removeEvents=function(){"use strict";this.escHandler&&(this.escHandler.remove(),this.escHandler=null)};a.prototype.markSeen=function(){"use strict";var a=function(){b("Arbiter").inform("jewel/count-updated",{jewel:this.name,count:0},"state"),o.emitRemote("count-updated",{jewel:this.name,count:0}),this.inform("marked-seen")}.bind(this);b("TimeSlice").guard(a,"JewelOpen markSeen",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype.getButton=function(){"use strict";this.$JewelBase2==null&&(this.$JewelBase2=b("DOM").find(this.root,"a.jewelButton"));return this.$JewelBase2};a.prototype.$JewelBase8=function(){"use strict";var a=this.getButton();b("TooltipData").set(a,this.label);a.setAttribute("data-tooltip-delay","500")};a.prototype.$JewelBase10=function(){"use strict";b("TooltipData").remove(this.getButton())};a.prototype.$JewelBase6=function(a,b){"use strict";!this.$JewelBase12(b.from)&&!this.$JewelBase12(b.to)&&(this.togglerInstance&&this.togglerInstance.hide())};a.prototype.$JewelBase12=function(a){"use strict";return a&&Object.prototype.hasOwnProperty.call(a.getQueryData(),"theater")};a.prototype.$JewelBase9=function(){"use strict";this.clickCount++;var a=this.getButton(),c=b("performanceNow")();this.clickCount===1&&(c=b("firstClickTimestamp").get(a));c&&(c=b("normalizedEventTimestamp")(c),c&&k({jewelName:this.name,timestamp:c,badgeCurrentCount:b("JewelBadgeCountRecorder").getCountAtTimestamp(this.name,c),badgeInitialCount:this.initialCount,clickCount:this.clickCount}));b("reportData")("jewel_click",{gt:babelHelpers["extends"]({count:this.countNew,initial:this.initialCount,jewel:this.name},this.businessID?{biz_id:this.businessID}:{},this.loggerRef?{ref:this.loggerRef}:{})});this.name==="requests"&&new(b("FriendingSurfaceVisitationTypedLogger"))().setSurface("jewel").setBadgeCount(this.countNew).log()};a.prototype.$JewelBase4=function(){"use strict";if(!this.bootload_module)return b("Promise").resolve();this.bootloading||(this.bootloading=new(b("Promise"))(function(a,b){this.bootload_module.load().then(function(b){new b(this,this.bootload_args),a()}.bind(this))["catch"](b)}.bind(this)));return this.bootloading};a.prototype.$JewelBase3=function(){"use strict";this.bootload_eager_modules?this.bootload_eager_modules.loadModules(this):b("Run").onAfterLoad(function(){return this.$JewelBase4()}.bind(this))};a.prototype.$JewelBase5=function(){"use strict";this.bootload_eager_modules&&this.bootload_eager_modules.mount(this)};a.prototype.$JewelBase11=function(){"use strict";this.bootload_eager_modules?this.bootload_eager_modules.load(this):b("promiseDone")(this.$JewelBase4().then(function(){return this.inform("opened")}.bind(this)))};a.prototype.$JewelBase7=function(){"use strict";if(this.bootloading)return;var a=b("JewelCountSideLoader").getOverwritesForJewel(this);if(!a)return;this.updateCountAndArgs(a.args,a.count)};a.prototype.updateCountAndArgs=function(a,c){"use strict";for(var d in a)a[d]&&(this.bootload_args[d]=a[d]);c&&b("Arbiter").inform("jewel/count-updated",{jewel:this.name,count:c},"state")};e.exports=a}),null);
__d("ModalMask",["DOM"],(function(a,b,c,d,e,f){var g=null,h=0;a={show:function(){h++,g||(g=b("DOM").create("div",{id:"modalMaskOverlay"}),b("DOM").appendContent(document.body,g))},hide:function(){h&&(h--,!h&&g&&(b("DOM").remove(g),g=null))},getNode:function(){return g}};e.exports=a}),null);
__d("RequiredFormListener",["Event","Input"],(function(a,b,c,d,e,f){__p&&__p();b("Event").listen(document.documentElement,"submit",function(a){a=a.getTarget();if(a.getAttribute("novalidate"))return!0;a=a.getElementsByTagName("*");for(var c=0;c<a.length;c++)if(a[c].getAttribute("required")&&b("Input").isEmpty(a[c])){a[c].focus();return!1}},b("Event").Priority.URGENT)}),null);
__d("BlueBarCreateMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEntrypointStyle=function(a){this.$1.entrypoint_style=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setHasUserCreatedPriorToStartDate=function(a){this.$1.has_user_created_prior_to_start_date=a;return this};a.prototype.setMenuElement=function(a){this.$1.menu_element=a;return this};a.prototype.setMenuStyle=function(a){this.$1.menu_style=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={entrypoint_style:!0,event:!0,has_user_created_prior_to_start_date:!0,menu_element:!0,menu_style:!0,vc:!0};e.exports=a}),null);
__d("CreateMenuEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK:"click",IMPRESSION:"impression"})}),null);
__d("CreationMenuElements",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRYPOINT:"creation_hub_entrypoint",GROUP:"creation_hub_create_group",EVENT:"creation_hub_create_event",PAGE:"creation_hub_create_page",FUNDRAISER:"creation_hub_create_fundraiser",ADVERTISEMENT:"creation_hub_create_advertisement",POST:"creation_hub_create_post",PHOTO_OR_VIDEO:"creation_hub_create_photo_or_video",MARKETPLACE_LISTING:"creation_hub_create_marketplace_listing"})}),null);
__d("PopoverAsyncMenu",["Bootloader","Event","KeyStatus","PopoverMenu","VirtualCursorStatus","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();var g,h={},i=0;c=babelHelpers.inherits(a,b("PopoverMenu"));g=c&&c.prototype;function a(a,c,d,e,f,j){"use strict";g.constructor.call(this,a,c,null,f),this._endpoint=e,this._endpointData=j||{},this._loadingMenu=d,this._instanceId=i++,h[this._instanceId]=this,this._mouseoverListener=b("Event").listen(c,"mouseover",this.fetchMenu.bind(this))}a.prototype._onLayerInit=function(){"use strict";!this._menu&&this._loadingMenu&&this.setMenu(this._loadingMenu),this._popover.getLayer().subscribe("key",this._handleKeyEvent.bind(this)),this._triggerInfo={isKeyDown:b("KeyStatus").isKeyDown(),isVirtualCursorTriggered:b("VirtualCursorStatus").isVirtualCursorTriggered()},b("setImmediate")(function(){return this.fetchMenu()}.bind(this))};a.prototype._onPopoverHide=function(){"use strict";g._onPopoverHide.call(this),this._triggerInfo=null};a.prototype._refetchMenu=function(){"use strict";this._menu&&(this._menu.destroy(),this._fetched=!1,this._mouseoverListener=b("Event").listen(this.getTriggerElem(),"mouseover",this.fetchMenu.bind(this)))};a.prototype.fetchMenu=function(){"use strict";if(this._fetched)return;b("Bootloader").loadModules(["AsyncRequest"],function(a){new a().setURI(this._endpoint).setData(Object.assign({pmid:this._instanceId},this._endpointData)).send()}.bind(this),"PopoverAsyncMenu");this._fetched=!0;this._mouseoverListener&&(this._mouseoverListener.remove(),this._mouseoverListener=null)};a.prototype._setFocus=function(a){"use strict";var b=this._triggerInfo||{},c=b.isKeyDown;b=b.isVirtualCursorTriggered;this.setInitialFocus(a,c||b);this._triggerInfo=null};a.setMenu=function(a,b){"use strict";a=h[a];a.setMenu(b);a._setFocus(b)};a.getInstance=function(a){"use strict";return h[a]};a.getInstanceByTriggerElem=function(a){"use strict";var b=null;Object.keys(h).forEach(function(c){h[c]._triggerElem==a&&(b=h[c])});return b};e.exports=a}),null);
__d("BlueBarCreateMenuLogger",["BlueBarCreateMenuTypedLogger","CreateMenuEvents","CreationMenuElements","PopoverAsyncMenu"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initModal:function(a,c,d,e){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log();for(var f=0;f<a.length;f++)a[f]&&(function(){var g=a[f],h=g.name;g=g.element;new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(h).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").IMPRESSION).log();g.addEventListener("click",function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(h).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log()})})()},initDropdown:function(a,c,d,e){__p&&__p();a.onShow=function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log(),a.forEachItem(function(a){if(!a._data.ctor.displayName.includes("MenuStaticItem")){a=a._data.id;new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(a).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").IMPRESSION).log()}})},a.forEachItem(function(a){if(!a._data.ctor.displayName.includes("MenuStaticItem")){var f=a._data.id;a._onclickHandler=function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(f).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log()}}})},logEntrypointImpression:function(a,c,d){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(a).setEntrypointStyle(c).setHasUserCreatedPriorToStartDate(d).setEvent(b("CreateMenuEvents").IMPRESSION).log()}};e.exports=a}),null);
__d("ChatActivity",["Arbiter","ArbiterMixin","Event","JSLogger","MercuryConfig","PresenceState","UserActivity","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("MercuryConfig").activity_limit||6e4,i=b("MercuryConfig").idle_limit||18e5,j=b("MercuryConfig").idle_poll_interval||3e5,k=b("JSLogger").create("chat_activity"),l=Date.now(),m=!0;function n(){var a=Date.now();return!!(m&&a-l<h)}c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.isActive=n,b}var o=new a();function p(){var a=l;l=Date.now();l-a>i&&(k.debug("idle_to_active",a),b("PresenceState").doSync());o.inform("activity")}b("Event").listen(window,"focus",function(){m=!0,p()});b("Event").listen(window,"blur",function(){m=!1});b("UserActivity").subscribe(function(){p()});function q(a){a=a&&a.at&&b("PresenceState").verifyNumber(a.at);typeof a!=="number"&&(a=null);return a||0}setInterval(function(){var a=Date.now(),c=q(b("PresenceState").get()),d=Math.max(l,c);a-d>i&&(k.debug("idle",{cookie:c,local:l}),o.inform("idle",a-d))},j);b("PresenceState").registerStateStorer(function(a){var b=q(a);b<l&&(a.at=l);return a});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.chat_activity={activity_limit:h,idle_limit:i,idle_poll_interval:j,last_active_time:l}});e.exports=o}),null);
__d("ChatAppActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({INITIAL_DISPLAY_DONE:null,HIDE:null,LOAD:null,TTI:null,UNHIDE:null})}),null);
__d("ChatAppActions",["ChatAppActionTypes","ChatDispatcher"],(function(a,b,c,d,e,f){"use strict";a={tti:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").TTI})},hide:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").HIDE})},unhide:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").UNHIDE})},setInitialDisplayDone:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").INITIAL_DISPLAY_DONE})},load:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").LOAD})}};e.exports=a}),null);
__d("ChatAppStore",["ChatAppActionTypes","ChatDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher")),this.$ChatAppStore2={initialDisplayDone:!1,isHidden:!1,isInitialized:!1,isLoaded:!1},this.$ChatAppStore1=babelHelpers["extends"]({},this.$ChatAppStore2)}a.prototype.__onDispatch=function(a){__p&&__p();a=a.type;this.$ChatAppStore1=babelHelpers["extends"]({},this.$ChatAppStore2);switch(a){case b("ChatAppActionTypes").INITIAL_DISPLAY_DONE:this.$ChatAppStore2.initialDisplayDone=!0;this.__emitChange();break;case b("ChatAppActionTypes").HIDE:this.$ChatAppStore2.isHidden=!0;this.__emitChange();break;case b("ChatAppActionTypes").UNHIDE:this.$ChatAppStore2.isHidden=!1;this.__emitChange();break;case b("ChatAppActionTypes").TTI:this.$ChatAppStore2.isInitialized=this.$ChatAppStore2.isLoaded=!0;this.__emitChange();break;case b("ChatAppActionTypes").LOAD:this.$ChatAppStore2.isLoaded=!0;this.__emitChange();break}};a.prototype.getPreviousState=function(){return this.$ChatAppStore1};a.prototype.getState=function(){return this.$ChatAppStore2};a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatPrivacyActionController",["ChatVisibility","JSLogger","PresencePrivacy"],(function(a,b,c,d,e,f){__p&&__p();a=function a(c,d){__p&&__p();this._userID=c;this._logger=b("JSLogger").create("blackbird");this._getState=function(){return b("ChatVisibility").isOnline()?b("PresencePrivacy").allows(this._userID)?a.NORMAL:a.BLOCKED:a.OFFLINE};this._togglePrivacy=function(){__p&&__p();this._getState();switch(this._getState()){case a.OFFLINE:if(b("ChatVisibility").isOnline()){this._logger.error("tabs_already_online");break}this._logger.log("tabs_go_online",{tab_id:this._userID});b("ChatVisibility").goOnline(function(){b("PresencePrivacy").allows(this._userID)||(this._getState()!==a.BLOCKED&&this._logger.error("privacy_action_controller_blocked_inconsistency"),this._togglePrivacy())}.bind(this));break;case a.BLOCKED:b("PresencePrivacy").allow(this._userID);this._logger.log("tabs_unblock",{tab_id:this._userID});break;case a.NORMAL:b("PresencePrivacy").disallow(this._userID);this._logger.log("tabs_block",{tab_id:this._userID});break}};c=function(){d&&d(this._getState())}.bind(this);c();this._subscribeToken=b("PresencePrivacy").subscribe("privacy-changed",c)};a.OFFLINE="offline";a.BLOCKED="blocked";a.NORMAL="normal";Object.assign(a.prototype,{togglePrivacy:function(){this._logger.log("gear_menu_toggle_privacy",{tab_id:this._userID}),this._togglePrivacy()},destroy:function(){this._subscribeToken&&b("PresencePrivacy").unsubscribe(this._subscribeToken)}});e.exports=a}),null);
__d("MercuryTimestampTracker",["MercuryActionType","MercuryDispatcher","MercuryPayloadSource","MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};function a(a){this.$1=a,this.$3=0,this.$2=b("MercuryDispatcher").getForFBID(this.$1),this.$2.subscribe("update-messages",this.$4.bind(this))}a.prototype.$4=function(a,c){if(!c.actions||!c.actions.length)return;if(c.payload_source===b("MercuryPayloadSource").CLIENT_SEND_MESSAGE||c.payload_source===b("MercuryPayloadSource").UNKNOWN)return;for(var a=0;a<c.actions.length;a++){var d=c.actions[a],e=d.action_type;e==b("MercuryActionType").USER_GENERATED_MESSAGE&&d.thread_id&&d.timestamp>this.$3&&(this.$3=d.timestamp)}};a.prototype.getLastUserMessageTimestamp=function(){return this.$3};var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("ChatTitleBarBlinker",["ChatActivity","DocumentTitle","JSLogger","MercuryThreadInformer","MercuryNotificationRenderer","PresenceState","MercuryTimestampTracker"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("MercuryThreadInformer").get();var g=b("MercuryTimestampTracker").get(),h=b("JSLogger").create("chat_title"),i=null,j=0,k=!1;function l(){if(i){i.stop();i=null;return!0}return!1}function m(a){a=a||g.getLastUserMessageTimestamp();j<=a&&(j=a,(l()||k)&&b("PresenceState").doSync())}f={blink:function(a,c){!i&&j<c&&b("MercuryNotificationRenderer").renderDocumentTitle(a,function(a){i||(i=b("DocumentTitle").blink(a))})},stopBlinking:function(){m()},blinkingElsewhere:function(){k=!0}};function n(a){a=b("PresenceState").verifyNumber(a.sb2);return!a||a<=j?null:a}function a(a){a=a&&n(a);a&&(j=a,h.debug("load",j),l(),k=!1)}function c(a){var b=n(a);b||(h.debug("store",j),a.sb2=j,k=!1);return a}b("PresenceState").registerStateStorer(c);b("PresenceState").registerStateLoader(a);d.subscribe("thread-read-changed",function(a,b){a=g.getLastUserMessageTimestamp();var c=0;for(var d in b)b[d].mark_as_read&&b[d].timestamp>=a&&b[d].timestamp>c&&(c=b[d].timestamp);c&&m(c)});b("ChatActivity").subscribe("activity",function(){return m()});c=b("PresenceState").getInitial();c&&(j=n(c)||0);e.exports=f}),null);
__d("ChatComposerFlyoutButtonBootLoader.react",["AutoFocusableLink.react","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","React"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),babelHelpers["extends"]({},a,{className:a.iconClassName})),loader:b("JSResource")("MessengerComposerFlyoutButton.react").__setRef("ChatComposerFlyoutButtonBootLoader.react"),placeholder:a.renderSVGIcon?b("React").createElement(b("AutoFocusableLink.react"),{label:"flyout button",className:a.iconClassName},a.renderSVGIcon(!1)):b("React").createElement(b("AutoFocusableLink.react"),{label:"flyout button",className:a.iconClassName})});return a.excludeTag?c:b("React").createElement("li",{className:a.interactionClassName}," ",c," ")};e.exports=a}),null);
__d("ChatInput.react",["AbstractMentionsTextEditor.react","BootloadedComponent.react","Bootloader","CompositeDraftDecorator","ContentState","DraftModifier","EditorState","EmojiFormat.bs","JSResource","MercuryIDs","MercuryThreadIDMap","MessengerEmojiSpan.react","MessengerEmoticonSpan.react","MessengerMentionsEntityDecorator.react","MessengerMentionSource","MessengerParticipants.bs","MessengerUploadFilesUtil.bs","React","ReactDOM","TypingDetectorController","cancelAnimationFrame","clearImmediate","createCancelableFunction","createMessengerMentionDraftEntity","debounce","emptyFunction","getDefaultKeyBinding","getEntityMatcher","getProfileRangesForContentState","getThreadTypeNameFromThreadType","getVisibleValueForContentStateWithMessengerEmoji","handleBeforeInputForMessengerEmoji","handleBeforeInputForMessengerEmoticon","handleSoftNewlineForMessengerEmoticon","ifRequired","insertEmoticonIntoEditorState","insertMessengerEmojiIntoContentState","isSoftNewlineEvent","requestAnimationFrame","replaceMentionedTextInEditorState","setImmediate","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MercuryThreadIDMap").get();c=b("React").PropTypes;d=b("emptyFunction").thatReturnsNull;var i=1,j="handled",k=8,l="not-handled";f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$6=b("createCancelableFunction")(function(a,c){var d=a.viewer,e=a.thread;if(!e)return;if(!e.participants)return;this.$3=b("MessengerParticipants.bs").getMulti(e.participants,function(a){this.setState({mentionsSource:c(d,e.participants.map(function(b){return a[b]}).filter(Boolean),e,b("gkx")("678578"),b("gkx")("678579"))})}.bind(this))}.bind(this)),this.$8=function(){var a=this.$11(this.state.editorState.getCurrentContent());this.$2=b("setImmediate")(function(){this.$2=null;var c=b("EditorState").set(this.state.editorState,{decorator:a});this.setState({editorState:c})}.bind(this))}.bind(this),this.onChange=function(a){a!==this.state.editorState&&(this.setState({editorState:a}),this.getValueFromEditorState(a)!==this.getValueFromEditorState(this.state.editorState)&&this.$9(a,this.props.composer))}.bind(this),this.onReturn=function(event,a){__p&&__p();if(b("isSoftNewlineEvent")(event)){var c=b("handleSoftNewlineForMessengerEmoticon");this.setState({editorState:c(a)});return j}event.persist();this.setState({},function(){b("MessengerUploadFilesUtil.bs").sendAttchments(this.props.fileUploader,this.props.uploadPhotoFn),this.$12()&&(this.props.inputKeyDown&&this.props.inputKeyDown(event,this.getValue())),b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b){new a().setEvent(b.KEYBOARD_SEND).setVC(this.props.viewer).log()}.bind(this),"ChatInput.react")}.bind(this));return j}.bind(this),this.getValue=function(){return this.getValueFromEditorState(this.state.editorState)}.bind(this),this.$13=function(a,b){this.props.onBeforeInput&&this.props.onBeforeInput();var c=this.$14(a,b);a=this.$15(a,b);return c||a?j:l}.bind(this),this.$17=function(a){return this.$16(a)}.bind(this),this.$18=function(a,b){return this.$16(b)}.bind(this),this.state={editorState:this.$10(this.props.defaultText)},this.$20=function(){var a=(this.state.addedMentionsCount||0)+1;this.setState({addedMentionsCount:a})}.bind(this),this.$22=function(a,c){a=(this.state.mentionsTriggeredCount||0)+1;a={mentionsTriggeredCount:a};this.state.mentionsTriggerSource||(a.mentionsTriggerSource=c===i?b("MessengerMentionSource").ATSIGN:b("MessengerMentionSource").TYPEAHEAD);this.setState(a)}.bind(this),this.$21=function(a){this.refs.input.isShowingMentionables()||this.props.onEscape&&this.props.onEscape(a)}.bind(this),c}a.prototype.componentDidMount=function(){this.$4=b("ReactDOM").findDOMNode(this).getBoundingClientRect().height;this.props.resizeFn(this.$4);this.setState({triggeredWord:this.props.triggeredWord});this.$5();b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],this.$6.bind(this,this.props),"ChatInput.react");b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatInput.react");var a=this.props.threadID,c=b("ReactDOM").findDOMNode(this.refs.input);c&&h.getServerIDFromClientID(a,function(d){this.$1=new(b("TypingDetectorController"))(b("MercuryIDs").getUserIDFromThreadID(a),c,"mercury-chat",null,d,this.getValue)}.bind(this))};a.prototype.componentWillUnmount=function(){this.$2&&b("clearImmediate")(this.$2),this.$7&&b("cancelAnimationFrame")(this.$7),this.$6.cancel(),this.$7=null,this.$1&&this.$1.destroy(),this.$3&&b("MessengerParticipants.bs").removeCallback(this.$3)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.state.triggeredWord!==a.triggeredWord&&this.setState({triggeredWord:a.triggeredWord},this.$8),(!this.props.thread||!a.thread||m(a,this.props))&&b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],this.$6.bind(this,a),"ChatInput.react"),a.composer.version!==this.props.composer.version&&this.resetState()};a.prototype.componentDidUpdate=function(){this.$5(),this.$7=b("requestAnimationFrame")(function(){if(!this.$7)return;this.$7=null;var a=b("ReactDOM").findDOMNode(this).getBoundingClientRect();a=a.height;this.$4!==a&&this.props.resizeFn(a);this.$4=a}.bind(this))};a.prototype.$5=function(){var a=this.props.composer,c=this.props.onTextChange;this.$9=c?b("debounce")(function(b){c(this.getValueFromEditorState(b),a,200)}.bind(this),200):b("emptyFunction")};a.prototype.$10=function(a){a=b("ContentState").createFromText(a);return b("EditorState").createWithContent(a,this.$11(a))};a.prototype.resetState=function(){this.state.typeaheadReporter&&(this.state.typeaheadReporter.sessionEnd(),this.state.typeaheadReporter.sessionStart()),this.setState({editorState:b("EditorState").moveFocusToEnd(this.$10("")),triggeredWord:null,addedMentionsCount:0,mentionsTriggeredCount:0,mentionsTriggerSource:null})};a.prototype.onSend=function(a){var c=this.getMentions();if(a&&(c&&c.length||this.state.addedMentionsCount||this.state.mentionsTriggeredCount||this.state.mentionsTriggerSource)){var d=this.state,e=d.addedMentionsCount,f=d.mentionsTriggeredCount,g=d.mentionsTriggerSource,h=this.props.thread;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(d,i){new d().setEvent(i.MENTION).setGroupSize(h&&h.participants&&h.participants.length).setNumDelivered(c?c.length:0).setNumSelects(e).setNumTriggers(f).setThreadid(h&&h.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(h&&h.thread_type)).setOfflineThreadid(a.offline_threading_id).updateExtraData({source:g}).log()},"ChatInput.react")}};a.prototype.$11=function(a){var c=[{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"},a.getEntity),component:b("MessengerEmoticonSpan.react")}];c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"},a.getEntity),component:b("MessengerEmojiSpan.react")});c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"},a.getEntity),component:b("MessengerMentionsEntityDecorator.react")});return new(b("CompositeDraftDecorator"))(c)};a.prototype.$12=function(){var a=this.getValue(),b=this.props.composer.sharePreview;return a&&a.trim().length>0||!!(b&&b.params&&b.type)};a.prototype.handleSend=function(){this.setState({},function(){b("MessengerUploadFilesUtil.bs").sendAttchments(this.props.fileUploader,this.props.uploadPhotoFn),this.$12()&&(this.props.handleSend&&this.props.handleSend(this.getValue())),b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b){new a().setEvent(b.CLICK_SEND).setVC(this.props.viewer).log()}.bind(this),"ChatInput.react")}.bind(this))};a.prototype.getValueFromEditorState=function(a){a=a.getCurrentContent();return b("getVisibleValueForContentStateWithMessengerEmoji")(a)};a.prototype.getMentions=function(){var a=this.props.thread;return b("getProfileRangesForContentState")(this.state.editorState.getCurrentContent(),a?a.thread_fbid:null)};a.prototype.focus=function(){this.refs.input&&this.refs.input.focus&&this.refs.input.focus()};a.prototype.$14=function(a,c){a=b("handleBeforeInputForMessengerEmoticon")(c,a);if(a===c)return!1;this.setState({editorState:a});return!0};a.prototype.$15=function(a,c){a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return!1;this.setState({editorState:a});return!0};a.prototype.$16=function(a){__p&&__p();var c=/^image\//,d=a.filter(function(a){return c.test(a.type)});if(d.length){var e=this.props.composer;b("ifRequired")("FantaMessageActions",function(a){a.prepareFilesForSend(this.props.threadID,d,e)}.bind(this),function(){b("Bootloader").loadModules(["FantaMessageActions"],function(a){a.prepareFilesForSend(this.props.threadID,d,e)}.bind(this),"ChatInput.react")}.bind(this));return!0}return!1};a.prototype.insertEmoticon=function(a){a=b("insertEmoticonIntoEditorState")(a,this.state.editorState);a!==this.state.editorState&&this.setState({editorState:a})};a.prototype.insertEmoji=function(a){var c=this.state.editorState;a=b("insertMessengerEmojiIntoContentState")(b("EmojiFormat.bs").codeArrayToCodeString(a),c.getCurrentContent(),c.getSelection(),c.getCurrentInlineStyle());c=b("EditorState").push(c,a,"insert-characters");c!==this.state.editorState&&this.setState({editorState:b("EditorState").forceSelection(c,a.getSelectionAfter())})};a.prototype.appendText=function(a){var c=this.state.editorState,d=c.getSelection(),e=c.getCurrentContent();e=b("DraftModifier").insertText(e,d,a);c=b("EditorState").push(c,e,"insert-characters");this.setState({editorState:c})};a.prototype.render=function(){var a=babelHelpers["extends"]({},this.props,this.$19());return b("React").createElement(b("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({ref:"input"},a,{editorState:this.state.editorState,onChange:this.onChange,handleBeforeInput:this.$13,handlePastedFiles:this.$17,handleDroppedFiles:this.$18,handleReturn:this.onReturn,spellCheck:!0,stripPastedStyles:!0,textAlignment:"left"}))};a.prototype.$19=function(){return{autoHighlight:!0,handleContentReturn:this.onReturn,maxResults:k,mentionResultsProps:{typeaheadView:b("BootloadedComponent.react").create(b("JSResource")("ChatMentionsInputTypeaheadView.react").__setRef("ChatInput.react")),typeaheadViewProps:{},position:"above",autoflip:!0},mentionResultsComponent:b("BootloadedComponent.react").create(b("JSResource")("MentionsLayer.react").__setRef("ChatInput.react")),mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:this.state.mentionsSource,onAddMention:this.$20,onEscape:this.$21,onShowMentions:this.$22}};a.prototype.addMention=function(a){a=b("replaceMentionedTextInEditorState")(a,this.state.editorState,0,b("createMessengerMentionDraftEntity"));this.state.mentionsTriggerSource||this.setState({mentionsTriggerSource:b("MessengerMentionSource").REPLY});this.onChange(a);this.$20()};a.propTypes={composer:c.object.isRequired,defaultText:c.string,blockStyleFn:c.func,fileUploader:c.object,inputKeyDown:c.func,handleSend:c.func,keyBindingFn:c.func,onBeforeInput:c.func,onBlur:c.func,onEscape:c.func,onFocus:c.func,onTab:c.func,resizeFn:c.func,thread:c.object,threadID:c.string,viewer:c.string};a.defaultProps={blockStyleFn:d,keyBindingFn:b("getDefaultKeyBinding")};function m(a,b){a=a.thread.participants;b=b.thread.participants;if(!a||!b)return!0;a=a.filter(Boolean);b=b.filter(Boolean);return a.length!==b.length}e.exports=a}),null);
__d("M4IconSend.bs",["React","M4IconSVG.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("M4IconSend");function h(a,c,d){var e=a!==undefined?a:!0,f=c!==undefined?c:"blue";return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){return b("ReasonReact.bs").element(undefined,undefined,b("M4IconSVG.bs").make(undefined,[e?b("React").createElement("path",{key:"filled",d:"M11,8.3L2.6,8.8C2.4,8.8,2.3,8.9,2.3,9l-1.2,4.1c-0.2,0.5,0,1.1,0.4,1.5C1.7,14.9,2,15,2.4,15c0.2,0,0.4,0,0.6-0.1l11.2-5.6 C14.8,9,15.1,8.4,15,7.8c-0.1-0.4-0.4-0.8-0.8-1L3,1.1C2.5,0.9,1.9,1,1.5,1.3C1,1.7,0.9,2.3,1.1,2.9L2.3,7c0,0.1,0.2,0.2,0.3,0.2 L11,7.7c0,0,0.3,0,0.3,0.3S11,8.3,11,8.3z",fill:f}):b("React").createElement("g",{key:"outline"},b("React").createElement("path",{key:"perimeter",d:"M2.4,1.6l12,6c0.7,0.4,0.7,1.4,0,1.8l-12,6C1.7,15.8,0.8,15,1,14.2l1.7-5.4c0.1-0.2,0.1-0.4,0-0.6L1,2.8 C0.8,2,1.7,1.2,2.4,1.6z",fill:"none",stroke:f,strokeMiterlimit:"10"}),b("React").createElement("line",{key:"center-line",fill:"none",stroke:f,strokeMiterlimit:"10",x1:"2.8",x2:"14.8",y1:"8.5",y2:"8.5"}))]))},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(a.filled,a.color,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerHotLikeChatSVGIcon.react",["cssVar","fbt","ChatConfig","CurrentUser","React","gkx","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("gkx")("678580");c=b("React").PropTypes;var k="transparent",l=h._("Thumbs Up Sign");d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={titleId:b("uniqueID")()},c}a.prototype.render=function(){var a=this.props.color||(b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff"),c=this.props.renderSize;c=c?{height:c.toString(),width:c.toString()}:undefined;var d=j?{fill:k,stroke:a,opacity:.2}:{fill:a,opacity:.2},e="bounds_"+this.state.titleId;return b("ChatConfig").get("new_dlc")?b("React").createElement("svg",babelHelpers["extends"]({"aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c),b("React").createElement("title",{id:this.state.titleId},l),b("React").createElement("g",{style:{fill:a}},b("React").createElement("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"}),b("React").createElement("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"}))):j?b("React").createElement("svg",babelHelpers["extends"]({width:"32px",height:"31px","aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},c),b("React").createElement("title",{id:this.state.titleId},l),b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("rect",{id:e,fill:k,width:"32",height:"32"}),b("React").createElement("g",{style:d},b("React").createElement("path",{d:"M670.93,460a0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.17,467,668,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41c1.34-1,3.07-.23,4,2.6a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66c1.77,0,6.77,0,6.77,0,2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2A2,2,0,0,1,670.93,460Zm-20.13-7h-5.6a0.2,0.2,0,0,0-.2.2v15.6a0.2,0.2,0,0,0,.2.2h5.6a0.2,0.2,0,0,0,.2-0.2V453.2A0.2,0.2,0,0,0,650.8,453Z",transform:"translate(-643 -439)"})),b("React").createElement("g",{transform:"translate(1.000000, 0.000000)"},b("React").createElement("path",{d:"M7.195,29.2559 L0.804,29.2559 C0.362,29.2559 0,28.8939 0,28.4509 L0,13.0609 C0,12.6179 0.362,12.2559 0.804,12.2559 L7.195,12.2559 C7.637,12.2559 8,12.6179 8,13.0609 L8,28.4509 C8,28.8939 7.637,29.2559 7.195,29.2559 Z",id:"Stroke-172",stroke:a,strokeWidth:"2"}),b("React").createElement("path",{d:"M15.9694,0 L15.9694,0 C14.6414,0 13.5214,0.568 13.0414,1.097 L12.4654,1.732 L12.5184,2.63 L12.8154,6.635 C12.8204,6.692 12.8074,6.749 12.7804,6.8 L9.5534,12.791 L8.1544,13.443 L6.9994,13.982 L6.9994,15.256 L6.9994,25.256 L6.9994,27.256 L8.5914,27.256 C8.7024,27.35 8.8354,27.47 8.9364,27.562 C9.1404,27.747 9.3424,27.928 9.5324,28.078 C10.4784,28.825 11.8634,29.174 12.8444,29.25 L12.9214,29.256 L12.9994,29.256 L23.3374,29.256 C25.3594,29.256 26.7824,28.521 27.5704,27.072 C28.0124,26.258 28.1384,25.438 28.0904,24.695 C28.9084,24.168 29.5624,23.33 29.7984,22.148 C29.9184,21.549 29.8984,20.985 29.7854,20.474 C30.4514,19.814 30.9374,18.865 30.9374,17.581 C30.9374,16.549 30.6654,15.739 30.2574,15.123 C30.4314,14.637 30.5364,14.081 30.5364,13.459 C30.5364,10.906 28.4954,9.256 25.3374,9.256 L21.0124,9.256 C21.1474,8.379 21.2494,7.521 21.2494,6.931 C21.2494,4.646 20.4484,1.775 18.2014,0.569 C17.4974,0.191 16.7464,0 15.9694,0 M15.9694,2 C16.3574,2 16.7974,2.085 17.2564,2.332 C18.6054,3.056 19.2494,5.021 19.2494,6.931 C19.2494,7.863 18.8974,9.829 18.7254,10.731 C18.6784,10.978 18.8684,11.256 19.1184,11.256 L25.3374,11.256 C26.2704,11.256 28.5364,11.456 28.5364,13.459 C28.5364,14.979 27.5584,15.534 27.5584,15.534 C27.5584,15.534 28.9374,15.673 28.9374,17.581 C28.9374,19.489 27.0854,19.682 27.0854,19.682 C27.0854,19.682 28.0924,20.481 27.8374,21.756 C27.5284,23.3 26.0264,23.391 25.6764,23.391 C25.6294,23.391 25.6044,23.389 25.6044,23.389 C25.6044,23.389 26.5714,24.723 25.8124,26.118 C25.5674,26.57 25.0414,27.256 23.3374,27.256 L12.9994,27.256 C12.2824,27.2 11.3154,26.937 10.7734,26.51 C10.1994,26.056 9.5134,25.256 8.9994,25.256 L8.9994,15.256 L10.6304,14.494 C10.8704,14.383 11.0674,14.197 11.1934,13.965 L14.5404,7.748 C14.7494,7.362 14.8424,6.924 14.8104,6.486 L14.5124,2.482 C14.5114,2.465 14.5114,2.453 14.5234,2.44 C14.5964,2.359 15.1744,2 15.9694,2",id:"Fill-174",fill:a})))):b("React").createElement("svg",babelHelpers["extends"]({"aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},c),b("React").createElement("title",{id:this.state.titleId},l),b("React").createElement("g",null,b("React").createElement("rect",{id:e,fill:k,width:"32",height:"32"}),b("React").createElement("g",{style:d},b("React").createElement("path",{d:"M670.93,460a0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.17,467,668,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41c1.34-1,3.07-.23,4,2.6a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66c1.77,0,6.77,0,6.77,0,2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2A2,2,0,0,1,670.93,460Zm-20.13-7h-5.6a0.2,0.2,0,0,0-.2.2v15.6a0.2,0.2,0,0,0,.2.2h5.6a0.2,0.2,0,0,0,.2-0.2V453.2A0.2,0.2,0,0,0,650.8,453Z",transform:"translate(-643 -439)"})),b("React").createElement("g",{style:d},b("React").createElement("rect",{x:"2",y:"14",width:"6",height:"16",rx:"0.2",ry:"0.2"})),b("React").createElement("path",{fill:a,d:"M650.8,453a0.2,0.2,0,0,1,.2.2v15.6a0.2,0.2,0,0,1-.2.2h-5.6a0.2,0.2,0,0,1-.2-0.2V453.2a0.2,0.2,0,0,1,.2-0.2h5.6m0-2h-5.6a2.2,2.2,0,0,0-2.2,2.2v15.6a2.2,2.2,0,0,0,2.2,2.2h5.6a2.2,2.2,0,0,0,2.2-2.2V453.2a2.2,2.2,0,0,0-2.2-2.2h0Z",transform:"translate(-643 -439)"}),b("React").createElement("path",{fill:a,"data-name":"stroke",d:"M658.83,441c1.06,0,2.16,1,2.83,3a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66h1.18l5.59,0c2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2,2,2,0,0,1-2.07,1.91,0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.24,467,668.07,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41,2,2,0,0,1,1.17-.41m0-2h0a4,4,0,0,0-2.36.8,2.45,2.45,0,0,0-1,2.23l0.39,3.67h0v0.05l-1.41,5.32a3.64,3.64,0,0,1-.47.69l-2.19,1.59L651,454v11.15l0.36,0.52A7.58,7.58,0,0,0,658,469h10.07c3.25,0,4.95-1.21,5-3.59a4.54,4.54,0,0,0-.05-0.93,3.59,3.59,0,0,0,1.14-2.71,3.77,3.77,0,0,0-.18-1.15,3.85,3.85,0,0,0,1-2.57,4,4,0,0,0-.82-2.55,4.38,4.38,0,0,0,.31-2.25c-0.2-1.59-1.18-4.25-5.53-4.25l-5,0a12.65,12.65,0,0,0-.35-5.63c-0.91-2.75-2.67-4.38-4.73-4.38h0Z",transform:"translate(-643 -439)"})))};a.propTypes={color:c.string,location:c.string,renderSize:c.number};e.exports=a}),null);
__d("XMessagingQuickCamController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/quick-cam/",{thread_id:{type:"String",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("MessengerQuickCamButton.react",["fbt","AsyncRequest","Bootloader","BootloadOnRender.react","ChatConfig","JSResource","LazyComponent.react","Link.react","React","XMessagingQuickCamController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i="seen_cam_button_nux";d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={nuxOpen:!1,nuxShown:!!b("ChatConfig").get(i)},this.$2=function(){this.setState({nuxShown:!0,nuxOpen:!1},function(){return this.$3()}.bind(this))}.bind(this),this.$1=function(){this.$4(),!this.state.nuxShown?this.setState({nuxOpen:!0}):this.$3()}.bind(this),c}a.prototype.render=function(){var a=g._("Take a picture using quick cam");return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{className:this.props.className,onClick:this.$1,ref:"photoButton",role:"button",title:a,label:a,tabIndex:0}),b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MessagingShowNUX.react").__setRef("MessengerQuickCamButton.react"),component:b("React").createElement(b("LazyComponent.react"),{contextRef:function(){return this.refs.photoButton}.bind(this),settingName:i,shown:this.state.nuxOpen,onHidden:this.$2,ref:"camNUX"},g._("Send photos from your computer's camera.")),placeholder:b("React").createElement("span",null)}))};a.prototype.$4=function(){b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b){new a().setEvent(b.CLICK_QUICK_CAM).log()},"MessengerQuickCamButton.react")};a.prototype.$3=function(){var a=b("XMessagingQuickCamController").getURIBuilder().setString("thread_id",this.props.threadID).getURI();new(b("AsyncRequest"))().setMethod("GET").setURI(a).setRelativeTo(this).setReadOnly(!0).send()};a.propTypes={className:c.string.isRequired,threadID:c.string.isRequired};e.exports=a}),null);
__d("P2PPaymentSupportedCurrency",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USD:"USD",PEN:"PEN",PHP:"PHP",EUR:"EUR",GBP:"GBP",THB:"THB",VND:"VND"})}),null);
__d("P2PAbstractSendMoneyButton.react",["cx","fbt","React","TooltipLink.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=!1,this.$3=function(){this.props.onMouseDown&&this.props.onMouseDown(),this.$1=this.props.isActive}.bind(this),this.$2=function(a){a.stopPropagation();if(this.$1){this.$1=!1;return}this.props.onClick()}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("TooltipLink.react"),{alignH:"center",className:b("joinClasses")(this.props.className,(this.props.isActive?"open":"")+(this.props.isDisabled?" disabled":"")+(this.props.isActive?" _10gz":"")+(this.props.isDisabled?" _10g-":"")+(!this.props.isMessenger&&!this.props.className?" _5uqy":"")+(this.props.isMessenger?" _3ggc":"")),href:"#",onClick:this.$2,onMouseDown:this.$3,onMouseOver:this.props.onMouseOver,position:"above",role:"button",title:this.$4()},this.getButton())};a.prototype.getButton=function(){return this.props.button?this.props.button:b("React").createElement("i",{className:"_5s8l"})};a.prototype.$4=function(){return this.props.isDisabled?null:h._("Send Money")};e.exports=a}),null);
__d("P2PLoadingMask.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return!this.props.visible?null:b("React").createElement("div",{className:"_3de"},b("React").createElement(b("XUISpinner.react"),{background:"dark",size:"large",className:"_3df"}),b("React").createElement("div",{className:"_3dg"}))};function a(){h.apply(this,arguments)}a.propTypes={visible:c.bool};a.defaultProps={visible:!1};e.exports=a}),null);
__d("P2PLogger",["BanzaiLogger"],(function(a,b,c,d,e,f){"use strict";var g="P2PPaymentLoggerConfig";a={log:function(a,c){c=babelHelpers["extends"]({event:a},c),b("BanzaiLogger").log(g,c)}};e.exports=a}),null);
__d("P2PPaymentLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTN_ADD_CREDIT_CARD:"Actn_AddCreditCard",ACTN_UPDATE_CREDIT_CARD:"Actn_UpdateCreditCard",ACTN_REMOVE_CREDIT_CARD:"Actn_RemoveCreditCard",ACTN_UNLOCK_CREDIT_CARD:"Actn_UnlockCreditCard",ACTN_VALIDATE_CARD:"Actn_ValidateCard",ACTN_ADD_PAYPAL:"Actn_AddPayPal",ACTN_GET_TRANSFERS_ERROR:"Actn_GetTransfersError",ACTN_TRANSFER_MONEY:"Actn_TransferMoney",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN:"Actn_TransferMoneyWithCampaign",ACTN_REQUEST_MONEY_WITH_CAMPAIGN_NOT_QUALIFIED:"Actn_RequestMoneyWithCampaignNotQualified",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_NOT_QUALIFIED:"Actn_TransferMoneyWithCampaignNotQualified",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_PARENT_CALL:"Actn_TransferMoneyWithCampaignParentCall",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_POST_SUCCESS:"Actn_TransferMoneyWithCampaignPostSuccess",ACTN_TRANSFER_MONEY_CHECK_NEEDS_REVERT:"Actn_TransferMoneyCheckNeedsRevert",ACTN_TRANSFER_MONEY_REVERT:"Actn_TransferMoneyRevert",ACTN_TRANSFER_MONEY_CREATE_CONTEXT:"Actn_TransferMoneyCreateContext",ACTN_TRANSFER_MONEY_CREATE_PLATFORM_ITEM:"Actn_TransferMoneyCreatePlatformItem",ACTN_ACCEPT_MONEY:"Actn_AcceptMoney",ACTN_DECLINE_MONEY:"Actn_DeclineMoney",ACTN_SET_PRIMARY:"Actn_SetPrimary",ACTN_WITHDRAW_MONEY:"Actn_WithdrawMoney",ACTN_WITHDRAW_MONEY_POST:"Actn_WithdrawMoneyPost",ACTN_CANCEL_TRANSFER:"Actn_CancelTransfer",ACTN_SET_PHYSICAL_ADDRESS:"Actn_SetPhysicalAddress",ACTN_CREATE_MSGR_COMMERCE_CART:"Actn_CreateMsgrCommerceCart",ACTN_PLACE_MSGR_COMMERCE_ORDER:"Actn_PlaceMsgrCommerceOrder",ACTN_PLATFORM_SET_SHIPPING_ADDRESS:"Actn_PlatformSetShippingAddress",ACTN_PLATFORM_BANNER_IMPRESSION:"Actn_PlatformBannerImpression",ACTN_PLATFORM_BANNER_DISMISSAL:"Actn_PlatformBannerDismissal",ACTN_PLATFORM_CARD_IMPRESSION:"Actn_PlatformCardImpression",ACTN_PLATFORM_CARD_DISMISSAL:"Actn_PlatformCardDismissal",ACTN_SEND_TRANSFER_MESSAGE:"Actn_SendTransferMessage",ACTN_POST_TRANSFER_STEPS:"Actn_PostTransferSteps",ACTN_SEND_SENDER_EMAIL:"Actn_SendSenderEmail",ACTN_SEND_EXPIRE_NOTIFICATIONS:"Actn_SendExpireNotifications",ACTN_SEND_PUSH_FAIL_NOTIFS:"Actn_SendPushFailNotis",ACTN_SEND_REFRESH_MESSAGE:"Actn_SendRefreshMessage",ACTN_UNCATEGORIZED_EXCEPTION:"Actn_Uncategorized_Exception",ACTN_INCREASE_CAMPAIGN_COUNTER:"Actn_Increase_Campaign_Counter",ACTN_CREATE_PAYMENT_REQUEST:"Actn_CreatePaymentRequest",ACTN_CREATE_GROUP_PAYMENT_REQUEST:"Actn_CreateGroupPaymentRequest",ACTN_REMIND_PAYMENT_REQUEST:"Actn_RemindPaymentRequest",ACTN_PAY_PAYMENT_REQUEST:"Actn_PayPaymentRequest",ACTN_DECLINE_PAYMENT_REQUEST:"Actn_DeclinePaymentRequest",ACTN_CANCEL_PAYMENT_REQUEST:"Actn_CancelPaymentRequest",ACTN_EXPIRE_PAYMENT_REQUEST:"Actn_ExpirePaymentRequest",ACTN_SEND_PAYMENT_REQUEST_MESSAGE:"Actn_SendPaymentRequestMessage",ACTN_AUTH_FOR_SENDER_REVIEW:"Actn_AuthForSenderReview",ACTN_FINISH_HUMAN_REVIEW:"Actn_FinishHumanReview",ACTN_COMPLETE_SENDER_REVIEW:"Actn_CompleteSenderReview",ACTN_COMPLETE_RECEIVER_REVIEW:"Actn_CompleteReceiverReview",ACTN_SUBMIT_VERIFICATION_STEP:"Actn_SubmitVerificationStep",ACTN_COMPLETE_SENDER_VERIFICATION:"Actn_CompleteSenderVerification",ACTN_COMPLETE_RECEIVER_VERIFICATION:"Actn_CompleteReceiverVerification",ACTN_CANCEL_SENDER_VERIFICATION:"Actn_CancelSenderVerification",ACTN_CANCEL_RECEIVER_VERIFICATION:"Actn_CancelReceiverVerification",ACTN_CANCEL_SENDER_RISK:"Actn_CancelSenderRisk",ACTN_CANCEL_EXPIRE:"Actn_CancelExpire",ACTN_CANCEL_FOR_SAME_CARD:"Actn_CancelForSameCard",ACTN_CANCEL_BY_CUSTOMER_SERVICE:"Actn_CancelByCustomerService",ACTN_CANCEL_RECEIVER_REVIEW:"Actn_CancelReceiverReview",ACTN_CANCEL_SENDER_REVIEW:"Actn_CancelSenderReview",ACTN_CANCEL_ALL_PENDING_TRANSFERS:"Actn_CancelAllPendingTransfers",ACTN_FILTER_LOGMESSAGE:"Actn_FilterLogMessage",ACTN_FILTER_NOTIFICATION:"Actn_FilterNotification",ACTN_SEND_NOTIFICATION:"Actn_SendNotification",ACTN_ADD_PIN:"Actn_AddPIN",ACTN_UPDATE_PIN:"Actn_UpdatePIN",ACTN_REMOVE_PIN:"Actn_RemovePIN",ACTN_RESET_PIN:"Actn_ResetPIN",ACTN_VALIDATE_PIN:"Actn_ValidatePIN",ACTN_UPDATE_PASSWORD_SETTINGS:"Actn_UpdatePasswordSettings",ACTN_ENABLE_TOUCH_ID:"Actn_EnableTouchID",ACTN_VERIFY_TOUCH_ID:"Actn_VerifyTouchID",ACTN_DISABLE_TOUCH_ID:"Actn_DisableTouchID",ACTN_CHANNEL_NOTIF_CARD_EVENT:"Actn_ChannelNotifCardEvent",ACTN_CHANNEL_NOTIF_TRANSFER_STATUS_EVENT:"Actn_ChannelNotifTransferStatusEvent",ACTN_CHANNEL_NOTIF_PLATFORM_EVENT:"Actn_ChannelNotifPlatformEvent",ACTN_CHANNEL_NOTIF_PAYMENT_REQUEST_STATUS_EVENT:"Actn_ChannelNotifPaymentRequestStatusEvent",ACTN_PLATFORM_BANNER_DISMISSED:"Actn_PlatformBannerDismissed",ACTN_PLATFORM_BANNER_MARK_AS_SOLD:"Actn_PlatformBannerMarkAsSold",ACTN_ADD_ADDRESS:"Actn_AddAddress",ACTN_GET_ADDRESSES:"Actn_GetAddresses",ACTN_ADD_EMAIL:"Actn_AddEmail",ACTN_UPDATE_EMAIL:"Actn_UpdateEmail",ACTN_SET_PRIMARY_EMAIL:"Actn_SetPrimaryEmail",ACTN_REMOVE_EMAIL:"Actn_RemoveEmail",ACTN_ADD_PHONE:"Actn_AddPhone",ACTN_UPDATE_PHONE:"Actn_UpdatePhone",ACTN_SET_PRIMARY_PHONE:"Actn_SetPrimaryPhone",ACTN_REMOVE_PHONE:"Actn_RemovePhone",ACTN_GET_CURRENT_USER_PROFILE_DATA:"Actn_GetCurrentUserProfileData",ACTN_DO_FRAUD_CHECK:"Actn_DoFraudCheck",ACTN_PEOPLE_SEARCH_SEND_MONEY_BUTTON_CLICKED:"Actn_PeopleSearchSendMoneyButtonClicked",ACTN_CAMPAIGN_CHECK_USER_HAS_NEW_ACTIVITY:"Actn_CampaignCheckUserHasNewActivity",ACTN_CAMPAIGN_SAVE_PROMO_NOTIFICATION_TIME:"Actn_CampaignSavePromoNotificationTime",ACTN_CAMPAIGN_SEND_INCENTIVE_ADMIN_MESSAGE:"Actn_CampaignSendIncentiveAdminMessage",ACTN_CAMPAIGN_CREATE_OR_FETCH:"Actn_CampaignCreateOrFetch",ACTN_CREATE_CAMPAIGN_ASSOC:"Actn_CreateCampaignAssoc",ACTN_FETCH_SEND_PHASE_STEPS:"Actn_FetchSendPhaseSteps",ACTN_FETCH_RECEIVE_NOTIFICATION_PHASE_STEPS:"Actn_FetchReceiveNotificationPhaseSteps",ACTN_FETCH_RECEIVE_BUBBLE_PHASE_STEPS:"Actn_FetchReceiveBubblePhaseSteps",ACTN_FETCH_REQUESTEE_SEND_PHASE_STEPS:"Actn_FetchRequesteeSendPhaseSteps",ACTN_START_IDV_FLOW:"Actn_StartIDVFlow",ACTN_START_UPLOAD_ADDITIONAL_PHOTO:"Actn_StartUploadAdditionalPhoto",ACTN_GET_PHOTO_ID_GBG_EXCEPTION:"Actn_GetPhotoIDGBGException",ACTN_IDV_PENDING_CLEARED:"Actn_IdvPendingCleared",ACTN_IDOLOGY_FETCH_EXISTING_FLOW:"Actn_IdologyFetchExistingFlow",ACTN_PAYPAL_MENTION_LABEL_CREATED:"Actn_PayPalMentionLabelCreated",ACTN_PAYPAL_MENTION_LABEL_GET:"Actn_PayPalMentionLabelGet",ERROR_NON_STANDARD_CHAR:"ErrorNonStandardChar",UI_ACTN_SEND_MONEY_BUTTON_CLICKED:"UI_Actn_Send_Money_Button_Clicked",UI_ACTN_SEND_MONEY_BUTTON_PLACEHOLDER_CLICKED:"UI_Actn_Send_Money_Button_Placeholder_Clicked",UI_ACTN_SEND_MONEY_OMNIM_SUGGESTION_CLICKED:"UI_Actn_Send_Money_OmniM_Suggestion_Clicked",UI_ACTN_INITIATE_SEND:"UI_Actn_Initiate_Send",UI_ACTN_P2P_SENDER_DISABLED_SHOWN:"UI_Actn_P2P_Sender_Disabled_Shown",UI_ACTN_P2P_RECIPIENT_INELIGIBLE_SHOWN:"UI_Actn_P2P_Recipient_Ineligible_Shown",UI_ACTN_CANCEL_SEND:"UI_Actn_Cancel_Send",UI_ACTN_INITIATE_ADD_CARD:"UI_Actn_Initiate_Add_Card",UI_ACTN_INITIATE_CHOOSE_CARD:"UI_Actn_Initiate_Choose_Card",UI_ACTN_CANCEL_ADD_CARD:"UI_Actn_Cancel_Add_Card",UI_ACTN_CONFIRM_CARD_DETAILS:"UI_Actn_Confirm_Card_Details",UI_ACTN_ACCEPT_MONEY_CANCEL:"UI_Actn_Accept_Money_Cancel",UI_ACTN_ACCEPT_WITH_CARD:"UI_Actn_Accept_With_Card",UI_ACTN_ADD_CARD_SUCCESS:"UI_Actn_Add_Card_Success",UI_ACTN_ADD_CARD_FAIL:"UI_Actn_Add_Card_Fail",UI_ACTN_CONFIRM_SEND:"UI_Actn_Confirm_Send",UI_ACTN_SEND_SUCCESS:"UI_Actn_Send_Success",UI_ACTN_SEND_MONEY_CANCELLED:"UI_Actn_Send_Money_Cancelled",UI_ACTN_SEND_FAIL:"UI_Actn_Send_Fail",UI_ACTN_INITIATE_EDIT_CARD:"UI_Actn_Initiate_Edit_Card",UI_ACTN_CANCEL_EDIT_CARD:"UI_Actn_Cancel_Edit_Card",UI_ACTN_CONFIRM_EDIT_CARD_DETAILS:"UI_Actn_Confirm_Edit_Card_Details",UI_ACTN_EDIT_CARD_SUCCESS:"UI_Actn_Edit_Card_Success",UI_ACTN_EDIT_CARD_FAIL:"UI_Actn_Edit_Card_Fail",UI_ACTN_INITIATE_REMOVE_CARD:"UI_Actn_Initiate_Remove_Card",UI_ACTN_CONFIRM_REMOVE_CARD:"UI_Actn_Confirm_Remove_Card",UI_ACTN_REMOVE_CARD_SUCCESS:"UI_Actn_Remove_Card_Success",UI_ACTN_REMOVE_CARD_FAIL:"UI_Actn_Remove_Card_Fail",UI_ACTN_INITIATE_PASSWORD_PROTECTION_NUX:"UI_Actn_Initiate_Password_Protection_NUX",UI_ACTN_OPT_IN_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_In_Password_Protection_NUX",UI_ACTN_OPT_OUT_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_Out_Password_Protection_NUX",UI_ACTN_ENABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Enabled_Password_Protection_Setting",UI_ACTN_DISABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Disabled_Password_Protection_Setting",UI_ACTN_SEND_CLICKED:"UI_Actn_Send_Clicked",UI_ACTN_VERIFY_CSC:"UI_Actn_Verify_CSC",UI_ACTN_CONFIRM_AMOUNT:"UI_Actn_Confirm_Amount",UI_ACTN_EDIT_CARD:"UI_Actn_Edit_Card",UI_ACTN_CHANGE_CARD:"UI_Actn_Change_Card",UI_ACTN_INITIATE_SEND_TRIGGER:"UI_Actn_Initiate_Send_Trigger",UI_ACTN_INITIATE_GROUP_SEND:"UI_Actn_Initiate_Group_Send",UI_ACTN_GROUP_SEND_CANCELLED:"UI_Actn_Group_Send_Cancelled",UI_ACTN_INITIATE_GROUP_SEND_TRIGGER:"UI_Actn_Initiate_Group_Send_Trigger",UI_ACTN_GROUP_SEND_RECIPIENT_PICKED:"UI_Actn_Group_Send_Recipient_Picked",UI_ACTN_3RD_PARTY_RECEIPT_SHOWN:"UI_Actn_3rd_Party_Receipt_Shown",UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED:"UI_Actn_3rd_Party_Receipt_Dismissed",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CLICKED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Clicked",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CANCELLED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Cancelled",UI_ACTN_CHAT_THREAD_BANNER_CLICKED:"UI_Actn_Chat_Thread_Banner_Clicked",UI_ACTN_CHAT_THREAD_BANNER_VIEWED:"UI_Actn_Chat_Thread_Banner_Viewed",UI_ACTN_CHAT_THREAD_BANNER_DISMISSED:"UI_Actn_Chat_Thread_Banner_Dismissed",UI_ACTN_INITIATE_MONEYPENNY_ORDER:"UI_Actn_Initiate_Moneypenny_Order",UI_ACTN_CONFIRM_MONEYPENNY_ORDER:"UI_Actn_Confirm_Moneypenny_Order",UI_ACTN_MONEYPENNY_ORDER_FAIL:"UI_Actn_Moneypenny_Order_Fail",UI_ACTN_MONEYPENNY_ORDER_SUCCESS:"UI_Actn_Moneypenny_Order_Success",UI_ACTN_MONEYPENNY_ORDER_CANCEL:"UI_Actn_Moneypenny_Order_Cancel",UI_ACTN_FRIEND_PICKER_SEARCH:"UI_Actn_Friend_Picker_Search",UI_ACTN_FRIEND_PICKER_SELECT:"UI_Actn_Friend_Picker_Select",UI_ACTN_FRIEND_PICKER_SHOWN:"UI_Actn_Friend_Picker_Shown",UI_ACTN_FI_CANCEL:"UI_Actn_FI_Cancel",UI_ACTN_FI_SUCCESS_DIALOG_NEXT:"UI_Action_Success_Dialog_Next",UI_ACTN_FI_BANNER_DISMISSED:"UI_Actn_FI_Banner_Dismissed",UI_ACTN_FI_BANNER_IMPRESSION:"UI_Actn_FI_Banner_Impression",UI_ACTN_INCENTIVE_TRANSFER_SUCCESS:"UI_Actn_Incentive_Transfer_Success",UI_ACTN_INCENTIVE_TRANSFER_FAILURE:"UI_Actn_Incentive_Transfer_Failure",UI_ACTN_PLATFORM_BANNER_SELLER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Seller_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_BUYER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Buyer_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_SOLD_CLICKED:"UI_Actn_Platform_Banner_Sold_Clicked",UI_ACTN_PLATFORM_BANNER_IMAGE_CLICKED:"UI_Actn_Platform_Banner_Image_Clicked",UI_ACTN_PLATFORM_BANNER_TITLE_CLICKED:"UI_Actn_Platform_Banner_Title_Clicked",UI_ACTN_PLATFORM_BANNER_PAY_CLICKED:"UI_Actn_Platform_Banner_Pay_Clicked",UI_ACTN_PLATFORM_BANNER_REQUEST_CLICKED:"UI_Actn_Platform_Banner_Request_Clicked",UI_ACTN_PLATFORM_BANNER_SELLER_VIEWED:"UI_Actn_Platform_Banner_Seller_Viewed",UI_ACTN_PLATFORM_BANNER_BUYER_VIEWED:"UI_Actn_Platform_Banner_Buyer_Viewed",UI_ACTN_PLATFORM_BANNER_PAY_NUX_SHOWN:"UI_Actn_Platform_Banner_Pay_Nux_Shown",UI_ACTN_INITIATE_REQUEST:"UI_Actn_Initiate_Request",UI_ACTN_REQUEST_CLICKED:"UI_Actn_Request_Clicked",UI_ACTN_CONFIRM_REQUEST:"UI_Actn_Confirm_Request",UI_ACTN_REQUEST_SUCCESS:"UI_Actn_Request_Success",UI_ACTN_REQUEST_FAIL:"UI_Actn_Request_Fail",UI_ACTN_INITIATE_DECLINE_REQUEST:"UI_Actn_Initiate_Decline_Request",UI_ACTN_CONFIRM_DECLINE_REQUEST:"UI_Actn_Confirm_Decline_Request",UI_ACTN_DECLINE_REQUEST_FAIL:"UI_Actn_Decline_Request_Fail",UI_ACTN_DECLINE_REQUEST_SUCCESS:"UI_Actn_Decline_Request_Success",UI_ACTN_INITIATE_CANCEL_REQUEST:"UI_Actn_Initiate_Cancel_Request",UI_ACTN_CONFIRM_CANCEL_REQUEST:"UI_Actn_Confirm_Cancel_Request",UI_ACTN_CANCEL_REQUEST_FAIL:"UI_Actn_Cancel_Request_Fail",UI_ACTN_CANCEL_REQUEST_SUCCESS:"UI_Actn_Cancel_Request_Success",UI_ACTN_INITIATE_CHECKOUT:"UI_Actn_Initiate_Checkout",UI_ACTN_CHECKOUT_CONFIRM:"UI_Actn_Checkout_Confirm",UI_ACTN_INITIATE_ADD_ADDRESS:"UI_Actn_Initiate_Add_Address",UI_ACTN_CANCEL_ADD_ADDRESS:"UI_Actn_Cancel_Add_Address",UI_ACTN_INITIATE_CHOOSE_ADDRESS:"UI_Actn_Initiate_Choose_Address",UI_ACTN_CONFIRM_ADDRESS_DETAILS:"UI_Actn_Confirm_Address_Details",UI_ACTN_ADD_ADDRESS_SUCCESS:"UI_Actn_Add_Address_Success",UI_ACTN_ADD_ADDRESS_FAIL:"UI_Actn_Add_Address_Fail",UI_ACTN_CHECKOUT_FAIL:"UI_Actn_Checkout_Fail",UI_ACTN_CHECKOUT_CART_CREATION_FAIL:"UI_Actn_Checkout_Cart_Creation_Fail",UI_ACTN_CHECKOUT_CANCEL:"UI_Actn_Checkout_Cancel",UI_ACTN_CHECKOUT_SUCCESS:"UI_Actn_Checkout_Success",UI_ACTN_CHECKOUT_CART_CREATION_SUCCESS:"UI_Actn_Checkout_Cart_Creation_Success",UI_ACTN_SEND_MONEY_PAGE_VIEWED:"UI_Actn_Send_Money_Page_Viewed",UI_ACTN_ACCEPT_MONEY_NUX_SHOWN:"UI_Actn_Accept_Money_NUX_Shown",UI_ACTN_ACCEPT_MONEY_NUX_NEXT_CLICK:"UI_Actn_Accept_Money_NUX_Next_Click",UI_ACTN_SEND_MONEY_NUX_SHOWN:"UI_Actn_Send_Money_NUX_Shown",UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK:"UI_Actn_Send_Money_NUX_Next_Click",UI_ACTN_GET_CREDIT_CARDS_EXCEPTION:"UI_ACTN_GET_CREDIT_CARDS_EXCEPTION",UI_ACTN_CREATE_TRANSFER_EXCEPTION:"UI_ACTN_CREATE_TRANSFER_EXCEPTION",UI_ACTN_ADD_CARD_EXCEPTION:"UI_ACTN_ADD_CARD_EXCEPTION",UI_ACTN_GET_TRANSFERS_EXCEPTION:"UI_ACTN_GET_TRANSFERS_EXCEPTION",UI_ACTN_GET_EXTENSIVE_TRANSFERS_EXCEPTION:"UI_ACTN_GET_EXTENSIVE_TRANSFERS_EXCEPTION",UI_ACTN_GET_NUX_TRANSFERS_EXCEPTION:"UI_ACTN_GET_NUX_TRANSFERS_EXCEPTION",UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION:"UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION",UI_ACTN_UPDATE_CARD_EXCEPTION:"UI_ACTN_UPDATE_CARD_EXCEPTION",UI_ACTN_DELETE_CARD_EXCEPTION:"UI_ACTN_DELETE_CARD_EXCEPTION",UI_ACTN_GET_PASSWORD_PROTECTION_EXCEPTION:"UI_ACTN_GET_PASSWORD_PROTECTION_EXCEPTION",UI_ACTN_SET_PASSWORD_PROTECTION_EXCEPTION:"UI_ACTN_SET_PASSWORD_PROTECTION_EXCEPTION",UI_ACTN_DECLINE_TRANSFER_EXCEPTION:"UI_ACTN_DECLINE_TRANSFER_EXCEPTION",UI_ACTN_CANCEL_TRANSFER_EXCEPTION:"UI_ACTN_CANCEL_TRANSFER_EXCEPTION",UI_ACTN_VERIFY_CARD_EXCEPTION:"UI_ACTN_VERIFY_CARD_EXCEPTION",UI_ACTN_VALIDATE_BIN_EXCEPTION:"UI_ACTN_VALIDATE_BIN_EXCEPTION",UI_ACTN_GET_ELIGIBILITY_EXCEPTION:"UI_ACTN_GET_ELIGIBILITY_EXCEPTION",UI_ACTN_GET_FRIEND_LIST_EXCEPTION:"UI_ACTN_GET_FRIEND_LIST_EXCEPTION",UI_ACTN_GET_BANNER_STATES_EXCEPTION:"UI_ACTN_GET_BANNER_STATES_EXCEPTION",UI_ACTN_INCREMENT_BANNER_VIEW_EXCEPTION:"UI_ACTN_INCREMENT_BANNER_VIEW_EXCEPTION",UI_ACTN_INCREMENT_BANNER_DISMISSAL_EXCEPTION:"UI_ACTN_INCREMENT_BANNER_DISMISSAL_EXCEPTION",UI_ACTN_CREATE_M_TRANSFER_EXCEPTION:"UI_ACTN_CREATE_M_TRANSFER_EXCEPTION",UI_ACTN_CREATE_FI_TRANSER_EXCEPTION:"UI_ACTN_CREATE_FI_TRANSER_EXCEPTION",UI_ACTN_GET_PLATFORM_CONTEXT_EXCEPTION:"UI_ACTN_GET_PLATFORM_CONTEXT_EXCEPTION",UI_ACTN_DISMISS_PLATFORM_CONTEXT_EXCEPTION:"UI_ACTN_DISMISS_PLATFORM_CONTEXT_EXCEPTION",UI_ACTN_MARK_SOLD_CONTEXT_EXCEPTION:"UI_ACTN_MARK_SOLD_CONTEXT_EXCEPTION",UI_ACTN_GET_ADDRESSES_EXCEPTION:"UI_ACTN_GET_ADDRESSES_EXCEPTION",UI_ACTN_ADD_ADDRESS_EXCEPTION:"UI_ACTN_ADD_ADDRESS_EXCEPTION",UI_ACTN_CREATE_CART_EXCEPTION:"UI_ACTN_CREATE_CART_EXCEPTION",UI_ACTN_SET_CART_ADDRESS_EXCEPTION:"UI_ACTN_SET_CART_ADDRESS_EXCEPTION",UI_ACTN_GET_PROFILE_EXCEPTION:"UI_ACTN_GET_PROFILE_EXCEPTION",UI_ACTN_CREATE_REQUEST_EXCEPTION:"UI_ACTN_CREATE_REQUEST_EXCEPTION",UI_ACTN_DECLINE_REQUEST_EXCEPTION:"UI_ACTN_DECLINE_REQUEST_EXCEPTION",UI_ACTN_CANCEL_REQUEST_EXCEPTION:"UI_ACTN_CANCEL_REQUEST_EXCEPTION",UI_ACTN_GET_PENDING_REQUESTS_EXCEPTION:"UI_ACTN_GET_PENDING_REQUESTS_EXCEPTION",UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN:"UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN",UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK",UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK",UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK",UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK:"UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK",BATCH_PROCESS_PENDING_PAYMENT:"BATCH_PROCESS_PENDING_PAYMENT",USER_TEST_CREATE_PAYMENT_REQUEST:"Test_Actn_CreatePaymentRequest",ALERT_MESSENGER_PAYMENT_METHOD_CACHE_INCONSISTENCY:"Alert_messenger_payment_method_cache_inconsistency",DEEPLINK_PERSONAL_DESKTOP_REQUEST:"p2p_personal_deeplink_request_desktop",DEEPLINK_PERSONAL_MOBILE_REQUEST:"p2p_personal_deeplink_request_mobile"})}),null);
__d("P2PPaymentLoggerEventFlow",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UI_FLOW_P2P_SEND:"UI_Flow_P2P_Send",UI_FLOW_P2P_REQUEST:"UI_Flow_P2P_Request",UI_FLOW_P2P_RECEIVE:"UI_Flow_P2P_Receive",UI_FLOW_P2P_SETTINGS:"UI_Flow_P2P_Settings",UI_FLOW_P2P_GROUP_SEND:"UI_Flow_P2P_Group_Send",UI_FLOW_P2P_GROUP_REQUEST:"UI_Flow_P2P_Group_Request",UI_FLOW_MONEYPENNY_CHECKOUT:"UI_Flow_Moneypenny_Checkout",UI_FLOW_FINANCIAL_INCENTIVES:"UI_Flow_Financial_Incentives",UI_FLOW_FINANCIAL_INCENTIVES_ZERO_INDEX_JEWEL:"UI_Flow_Financial_Incentives_Zero_Index_Jewel",UI_FLOW_PLATFORM_BANNER:"UI_Flow_Platform_Banner",UI_FLOW_CHECKOUT:"UI_Flow_Checkout",UI_FLOW_SEND_MONEY_PAGE:"UI_Flow_Send_Money_Page",UI_FLOW_REQUEST_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Request_Sender_NUX_Chat_Thread_Banner",UI_FLOW_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Sender_NUX_Chat_Thread_Banner",UI_FLOW_GROUP_SELL_INTEREST_DIALOG:"UI_FLOW_GROUP_SELL_INTEREST_DIALOG",UI_FLOW_SEND_MONEY_BLUEBAR:"UI_FLOW_SEND_MONEY_BLUEBAR",UI_FLOW_PAYMENTS_MENU_BLUEBAR:"UI_FLOW_PAYMENTS_MENU_BLUEBAR",UI_FLOW_BOOKMARK:"UI_FLOW_BOOKMARK",UI_FLOW_P2P_BIRTHDAY_GIFT_SEND_MONEY:"UI_FLOW_P2P_BIRTHDAY_GIFT_SEND_MONEY",UI_FLOW_P2P_PEOPLE_SEARCH_SEND_MONEY:"UI_FLOW_P2P_PEOPLE_SEARCH_SEND_MONEY"})}),null);
__d("P2PSendMoneyDialogStore",["EventEmitter","P2PActionConstants","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=36,i;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),i=new Map(),b("P2PDispatcher").register(this.onEventDispatched.bind(this))}a.prototype.onEventDispatched=function(a){var c=a.data;a=a.type;switch(a){case b("P2PActionConstants").CHAT_SEND_VIEW_OPENED:this.handleChatSendViewOpened(c);this.emit("change");break;case b("P2PActionConstants").CHAT_SEND_VIEW_CLOSED:this.handleChatSendViewClosed(c);this.emit("change");break}};a.prototype.getStateByThreadID=function(a){return i.get(a)};a.prototype.handleChatSendViewOpened=function(a){i.set(a.threadID,{amount:a.amount,groupSendRecipientUserIDs:a.groupSendRecipientUserIDs,groupSendReceiptDetails:a.groupSendReceiptDetails,groupThreadFBID:a.groupThreadFBID,onCompletion:a.onCompletion,openRequestTab:a.openRequestTab,memoText:a.memoText&&a.memoText.substr(0,h),platformData:a.platformData,referrer:a.referrer,paymentRequestID:a.paymentRequestID,sendMoneyDialogShown:!0,sendMoneyNUXDismissed:a.sendMoneyNUXDismissed,useModal:a.useModal})};a.prototype.handleChatSendViewClosed=function(a){i.set(a.threadID,{amount:"",groupSendRecipientUserIDs:[],groupSendReceiptDetails:null,groupThreadFBID:"",onCompletion:null,openRequestTab:!1,memoText:null,platformData:null,referrer:null,paymentRequestID:null,sendMoneyDialogShown:!1,sendMoneyNUXDismissed:!1,useModal:!1})};a.prototype.isAnyChatSendViewOpen=function(){__p&&__p();for(var a=i.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.sendMoneyDialogShown)return!0}return!1};e.exports=new a()}),null);
__d("P2PSendMoneyContainerBootloader.react",["cx","Bootloader","DeferredComponent.react","MercuryIDs","MessengerEnvironment","P2PAbstractSendMoneyButton.react","P2PActions","P2PLoadingMask.react","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PSendMoneyDialogStore","React","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","emptyFunction","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("MessengerEnvironment").messengerui,i=h?282:260;c=b("React").createClass({displayName:"P2PSendMoneyContainerBootloader",propTypes:{button:a.node,className:a.string,ContextualDialog:a.func,flyoutAlignment:a.oneOf(["left","center","right"]),fromChatTab:a.bool,onTrigger:a.func,participantIDs:a.array,referrer:a.string,threadID:a.string},getInitialState:function(){return{showPlaceholderDialog:!1,shouldBootloadImmediately:b("P2PSendMoneyDialogStore").isAnyChatSendViewOpen()}},mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_clicked:!1,_onComponentLoad:b("emptyFunction"),_bootloadCalled:!1,_sendMoneyDialogStoreSub:null,log:function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_referrer:this.props.referrer,www_event_flow:b("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_SEND},c))},componentWillUnmount:function(){this.removeDialogStoreSub()},onDialogStoreChange:function(){this._bootloadComponentNow(),this.removeDialogStoreSub()},removeDialogStoreSub:function(){this._sendMoneyDialogStoreSub&&(this._sendMoneyDialogStoreSub.remove(),this._sendMoneyDialogStoreSub=null)},onPlaceholderClick:function(){var a=this.props.threadID?b("MercuryIDs").tokenize(this.props.threadID).value:null;this._handleDialogVisibility(!this.state.showPlaceholderDialog);this.log(b("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_BUTTON_PLACEHOLDER_CLICKED,{object_id:a});this._bootloadComponentNow();this._clicked=!1},_handleDialogVisibility:function(a){!a?b("P2PActions").chatSendViewClosed({threadID:this.props.threadID}):b("P2PActions").chatSendViewOpened({referrer:this.props.referrer,threadID:this.props.threadID,fromChatTab:this.props.fromChatTab}),this.setState({showPlaceholderDialog:a})},renderLayers:function(){var a={};if(this.state.showPlaceholderDialog){var c=this.props.ContextualDialog||b("XUIContextualDialog.react");a.placeholderDialog=b("React").createElement(c,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:h?"right":"left",contextRef:function(){return this.refs.placeholderButton}.bind(this),onBlur:function(){this._clicked||this._handleDialogVisibility(!1),this._clicked=!1}.bind(this),ref:"dialog",shown:!0,width:i,position:"above"},b("React").createElement("div",{className:"_c_5"},b("React").createElement(b("P2PLoadingMask.react"),{visible:!0})))}return a},render:function(){return this._isPageChat()?null:b("React").createElement(b("DeferredComponent.react"),babelHelpers["extends"]({deferredComponent:this._bootloadComponent,deferredPlaceholder:this._renderPlaceholder()},this.props))},_renderPlaceholder:function(){return b("React").createElement(b("P2PAbstractSendMoneyButton.react"),{button:this.props.button,className:this.props.className,isActive:!1,isDisabled:!1,isMessenger:h,onClick:this.onPlaceholderClick,onMouseDown:function(){this._clicked=!0}.bind(this),onMouseOver:this._bootloadComponentNow,ref:"placeholderButton"})},_bootloadComponent:function(a){this._onComponentLoad=a.bind(this),this.state.shouldBootloadImmediately?this._bootloadComponentNow():this._sendMoneyDialogStoreSub=b("P2PSendMoneyDialogStore").addListener("change",this.onDialogStoreChange)},_bootloadComponentNow:function(){if(this._bootloadCalled)return;this._bootloadCalled=!0;b("Bootloader").loadModules(["P2PSendMoneyContainer.react"],function(a){this.removeDialogStoreSub(),this._onComponentLoad(a),this.setState({showPlaceholderDialog:!1})}.bind(this),"P2PSendMoneyContainerBootloader.react")},_isPageChat:function(){return!!this._getPageID()},_getPageID:function(){return b("getPageIDFromThreadID")(this.props.threadID)}});e.exports=c}),null);
__d("ReplyingToMessageFallbackReact.bs",["cx","fbt","React","ReasonReact.bs","XUICloseButtonReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("ReplyingToMessageFallbackReact");function j(a,c,d){return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){return b("React").createElement("div",{className:(d?"_692o":"")+" _67tu"},b("ReasonReact.bs").element(undefined,undefined,b("XUICloseButtonReact.bs").make("_67tv",1,d?1:2,a,undefined,[])),h._("Replying to message"))},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.onCancelReplyingToMessage,[],a.isChatTab)});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("convertMIGColorToFIGColor",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";var h={"#0077e5":"#4080ff","#44bec7":"#54C7EC","#ffc300":"#f5c33b","#fa3c4c":"#F35369","#d696bb":"#d696bb","#6699cc":"#7596c8","#13cf13":"#42b72a","#ff7e29":"#F7923B","#e68585":"#e68585","#7646ff":"#8C72CB","#20cef5":"#54C7EC","#67b868":"#A3CE71","#d4a88c":"#cfa588","#ff5ca1":"#EC7EBD","#a695c7":"#AF9CDA"};function a(a){return a&&h[a]||a||""}e.exports=a}),null);
__d("ChatTabComposer.react",["cssVar","csx","cx","fbt","Bootloader","BootloadOnRender.react","ChatComposerFlyoutButtonBootLoader.react","ChatConfig","ChatInput.react","ChatPhotoUploader.react","CSS","CurrentUser","CustomColorHighlighting.react","ErrorBoundary.react","EventRemindersGating","FantaMessageActions","JSResource","Keys","LazyComponent.react","Link.react","M4IconSend.bs","MercuryBootloadOnInteraction.react","MercuryConfig","MercuryIDs","MercuryShareAttachmentRenderLocations","MessengerCustomColorUtils.bs","MessengerHotLikeButton.react","MessengerHotLikeChatSVGIcon.react","MessengerHotLikeUtils","MessengerParticipants.bs","MessengerQuickCamButton.react","MessengerQuickCamOrigins","P2PPaymentConfig","P2PPaymentSupportedCurrency","P2PSendMoneyContainerBootloader.react","Placeholder.react","React","ReasonBootloadOnRender.react","ReasonResource","ReplyingToMessageFallbackReact.bs","StickersActions","TooltipData","URI","WorkChatExtensionAvailabilityFetcher","WorkFileUploadsGating","XUISpinner.react","clearImmediate","convertMIGColorToFIGColor","emptyFunction","getPageIDFromThreadID","gkx","isWebGLEnabled","joinClasses","lazyLoadComponent","promiseDone","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("M4IconSend.bs").jsComponent,m=b("ReplyingToMessageFallbackReact.bs").jsComponent,n=b("lazyLoadComponent")(b("JSResource")("ChatEventPlanButton.react").__setRef("ChatTabComposer.react")),o=77,p=9,q=350,r="#BEC3C9",s=b("ChatConfig").get("chat_basic_input_module")||b("ChatInput.react");c=babelHelpers.inherits(a,b("React").PureComponent);k=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={inputHeight:0,p2pPaymentConfig:b("P2PPaymentConfig").config,stickerFlyoutShown:!1,hasWorkChatExtension:!1},this.$2=null,this.$3=null,this.$4=null,this.$13=function(){b("setImmediate")(function(){return b("FantaMessageActions").cancelReplyToMessage(this.props.threadID||"")}.bind(this))}.bind(this),this.$11=function(a,c){a.keyCode===b("Keys").RETURN&&(this.refs.emojiButton&&this.refs.emojiButton.hideFlyout()),this.props.inputKeyDown&&this.props.inputKeyDown(a,c)}.bind(this),this.$6=function(a){a=a.target;a instanceof Element&&(b("CSS").matchesSelector(a,"._1d4_")||b("CSS").matchesSelector(a,"._552h")||b("CSS").matchesSelector(a,"._552n"))&&(this.$4&&this.$4.focus())}.bind(this),this.$12=function(a){this.state.stickerFlyoutShown&&b("StickersActions").hideStickerFlyout(),this.props.onEscape&&this.props.onEscape(a)}.bind(this),this.$36=function(a,c){a.platformFBID.toString()!==b("MercuryConfig").MessengerAppID?this.uploadURL({attribution_app_id:a.platformFBID,errorDialogParams:{body:j._("There was a problem sending this GIF. Choose another one and try again."),title:j._("Couldn't Send GIF")},external_image_url:a.source.url,preview_url:a.media.preview?a.media.preview.url:a.media.thumbnail.url,source:a.source}):this.props.stickerButtonProps&&this.props.stickerButtonProps.onStickerSelect&&this.props.stickerButtonProps.onStickerSelect(a.resultID.toString)}.bind(this),this.$34=function(a){var c=this.$28();if(!c)return;b("Bootloader").loadModules(["BrowserExtensionsDialog"],function(d){d.show(new(b("URI"))(a.getURI()),a.getUniqueID(),c,b("CurrentUser").getID())},"ChatTabComposer.react")}.bind(this),this.$37=function(a){this.$4&&this.$4.insertEmoji&&this.$4.insertEmoji(a)}.bind(this),c}a.prototype.componentDidUpdate=function(a){a.composer.replyingToMessage!==this.props.composer.replyingToMessage&&(this.$4&&this.$4.focus())};a.prototype.render=function(){var a=b("gkx")("678580");a=this.props.disableInput?null:b("React").createElement("ul",{className:"_552n"+(a?" _22v_":"")+(a?" _6jv5":"")+(this.props.isFocused?" _6wm5":"")+(b("ChatConfig").get("new_dlc")?" _6jv6":"")},this.$5());var c=this.props.composer.get("replyingToMessage");return b("React").createElement("div",{className:"_1d4_",onClick:this.$6,role:"presentation"},this.$7(c),this.$8(),a)};a.prototype.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1)};a.prototype.componentDidMount=function(){var a=b("gkx")("678581");b("CurrentUser").isWorkUser()&&a&&b("promiseDone")(b("WorkChatExtensionAvailabilityFetcher").checkHasChatExtension(),function(a){return this.setState({hasWorkChatExtension:a})}.bind(this))};a.prototype.onSend=function(a){this.$4&&this.$4.onSend&&this.$4.onSend(a)};a.prototype.uploadURL=function(a){var b=this.$2||this.$3;if(!b)return;b.uploadURL(a)};a.prototype.isUploading=function(){return!!(this.$2&&this.$2.isUploading()||this.$3&&this.$3.isUploading())};a.prototype.getInput=function(){return this.$4};a.prototype.$8=function(){__p&&__p();var a={};this.state.inputHeight&&(a.minHeight=this.state.inputHeight);var c=null;this.props.showStructuredMenu&&(c=b("React").createElement("div",{className:"_5c6-"},b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),{flyoutAlignment:"left",threadID:this.props.threadID,pageID:this.props.pageID,className:"_5c6_"}),loader:b("JSResource")("MessengerBotMenuButton.react").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement("span",{className:"_5c6_"})})));var d="";this.props.disableInput?d=j._("Composer is disabled for this thread."):this.props.thread&&!this.props.thread.is_canonical?d=j._("Type a message, \u0040name..."):d=j._("Type a message...");return b("React").createElement("div",{className:"_552h",style:a},c,b("React").createElement("div",{className:this.props.showStructuredMenu?"_4yzj":""},b("React").createElement(b("CustomColorHighlighting.react"),{customColor:this.$9()},this.$10(this.props.threadID),b("React").createElement(s,{composer:this.props.composer,defaultText:this.props.defaultText,fileUploader:this.props.fileUploader,inputKeyDown:this.$11,handleSend:this.props.handleSend,onBeforeInput:function(){return this.refs.emojiButton&&this.refs.emojiButton.hideFlyout()}.bind(this),onBlur:b("emptyFunction"),onEscape:this.$12,onFocus:this.props.onFocus,onTab:this.props.onTab,readOnly:this.props.disableInput,ref:function(a){return this.$4=a}.bind(this),resizeFn:function(a){a=Math.min(a,o),this.setState({inputHeight:a})}.bind(this),thread:this.props.thread,threadID:this.props.threadID,onTextChange:this.props.onTextChange,uploadPhotoFn:function(a){this.$3&&this.$3.uploadFiles([].concat(a))}.bind(this),placeholder:d,viewer:this.props.viewer}))))};a.prototype.$7=function(a){if(!a)return null;a=a;var c=b("React").createElement(m,{onCancelReplyingToMessage:this.$13,isChatTab:!0});return b("React").createElement(b("ErrorBoundary.react"),{fallbackComponent:function(){return c}},b("React").createElement(b("ReasonBootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{name:this.$14(a),body:a.body,attachments:a.attachments,onCancelReplyingToMessage:this.$13,isChatTab:!0}),loader:b("ReasonResource")(b("JSResource")("ReplyingToMessageReact.bs").__setRef("ChatTabComposer.react")),placeholder:c}))};a.prototype.$14=function(a){a=a.author?b("MessengerParticipants.bs").getNow(a.author):null;return a&&a.short_name};a.prototype.$10=function(a){if(!a)return null;var c=this.props.fileUploader;if(!c)return null;c=c.get("uploadedFiles");return c.size==0?null:b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{files:c,small:!0,threadID:a,threadCustomColor:this.$9(),onClick:this.$15}),loader:b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement(b("XUISpinner.react"),{className:"_2qf"})})};a.prototype.$9=function(){var a=this.props.thread;if(b("ChatConfig").get("new_dlc")&&!this.props.isFocused)return r;return a&&b("ChatConfig").getBool("dark_test_gradients")?a.solid_color?b("convertMIGColorToFIGColor")(a.solid_color):b("MessengerCustomColorUtils.bs").defaultColor():a&&a.footer_color?b("convertMIGColorToFIGColor")(a.footer_color):b("MessengerCustomColorUtils.bs").defaultColor()};a.prototype.$15=function(a,c){b("FantaMessageActions").cancelFileUpload(a,c)};a.prototype.$5=function(){var a=this.$16(),c=this.$17(),d=this.$18(),e=this.$19(),f=this.$20(),g=this.$21(),h=this.$22(),i=this.$23(),j=this.$24(),k=this.$25(),l=this.$26(),m=this.$27(),n;!b("gkx")("696918")?n=[a,c,d,e,f,g,h,i,j,k,l].filter(Boolean).slice(0,p-1):n=[e,h,a,d,c,j,f,l,g,k,i].filter(Boolean).slice(0,p-1);n.push(m);return n};a.prototype.$16=function(){var a=this.props.photoUploaderProps||{};return b("React").createElement("li",{className:"_13f-",key:"photos"},b("React").createElement(b("ChatPhotoUploader.react"),babelHelpers["extends"]({composer:this.props.composer,onMount:function(a){return this.$3=a}.bind(this),imagesOnly:!0},a)))};a.prototype.$25=function(){var a=b("convertMIGColorToFIGColor")(this.props.thread&&this.props.thread.solid_color),c=this.$28();return c&&this.props.thread&&!this.props.thread.is_canonical?this.$29(a,c):null};a.prototype.$29=function(a,c){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"grouppolling",interactionClassName:"_6gd _13f_",flyoutProps:{customColor:a,threadFBID:c},flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _4tjk _6jv7",flyoutLoader:b("JSResource")("MessengerGroupPollingCreatePollFlyoutReactComponent").__setRef("ChatTabComposer.react"),title:j._("Create a poll"),buttonName:"group_poll"})};a.prototype.$21=function(){var a=b("gkx")("678262")&&b("isWebGLEnabled")();if(b("MercuryIDs").isLocalThread(this.props.threadID))return null;var c=this.$30();return a&&c&&!this.$31()&&!this.props.forGameChat?this.$32(c):null};a.prototype.$32=function(a){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"games",interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _4cf0 _6jtp",flyoutProps:{threadID:a,customWidth:q},flyoutLoader:b("JSResource")("MessengerGamesFlyout.react").__setRef("ChatTabComposer.react"),title:j._("Play a game"),buttonName:"game"})};a.prototype.$23=function(){return this.$28()&&!this.$31()&&this.state.hasWorkChatExtension?this.$33():null};a.prototype.$33=function(){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"chatextension",interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _67ew",flyoutProps:{onSelect:this.$34},flyoutLoader:b("JSResource")("MessengerWorkplaceChatExtensionsPickerWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Find an extension"),buttonName:"chat_extension"})};a.prototype.$26=function(){if(b("EventRemindersGating").shouldShowComposer||b("MercuryIDs").isLocalThread(this.props.threadID))return null;var a=this.$30();return a&&!this.$31()?b("React").createElement("li",{className:"_6gd _13gb",key:"eventPlan"},b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(n,{threadID:a}))):null};a.prototype.$22=function(){if(!b("WorkFileUploadsGating").canUploadFiles)return null;var a=this.props.fileUploaderProps||{};return b("React").createElement("li",{className:"_13gd",key:"files"},b("React").createElement(b("ChatPhotoUploader.react"),babelHelpers["extends"]({composer:this.props.composer,onMount:function(a){return this.$2=a}.bind(this)},a)))};a.prototype.$17=function(){var a=this.props.stickerButtonProps;return!a?null:this.$35()};a.prototype.$35=function(){var a=this.props.stickerButtonProps;if(!a)return null;var c={className:"_5e-r",position:"above"};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{flyoutProps:a,dialogProps:c,flyoutAlignment:"right",key:"sticker",interactionClassName:"_6gd _13ge",iconClassName:"_6gb _6wm4 _6gf _6jtm",flyoutLoader:b("JSResource")("StickersFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Choose a sticker"),buttonName:"sticker"})};a.prototype.$18=function(){var a={getQuery:function(){return this.$4&&this.$4.getValue()}.bind(this),onSelect:this.$36};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"contentSearch",interactionClassName:"_6gd _13gf",flyoutProps:a,flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _6gs _6jtq",threadFBID:this.$28(),flyoutLoader:b("JSResource")("ChatContentSearchFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Choose a gif"),buttonName:"gif"})};a.prototype.$19=function(){var a={onSelect:this.$37,getInput:function(){return this.$4}.bind(this)};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"emoji",interactionClassName:"_6gd _13gg",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _3oxr _6jtr",threadFBID:this.$28(),flyoutLoader:b("JSResource")("ChatEmojiFlyout.react").__setRef("ChatTabComposer.react"),dialogProps:{offsetY:10},flyoutProps:a,title:j._("Choose an emoji"),buttonName:"emoji"})};a.prototype.$27=function(){return this.$38()?this.$39():this.$40()};a.prototype.$38=function(){var a=this.props.composer,b=a.fileUploader.uploadedFiles||{size:0},c=a.sharePreview;a=a.text&&a.text.trim().length>0;return a||b.size>0||!!(c&&c.params&&c.type)};a.prototype.$39=function(){var a=j._("Press Enter to send");return b("React").createElement("li",{className:"_6gd _21u1",key:"send"},b("React").createElement(b("Link.react"),babelHelpers["extends"]({label:"send",className:"_6gb _6wm4 _6987"},b("TooltipData").propsFor(a),{onClick:this.props.handleSendClick}),b("React").createElement(l,{filled:!0,color:this.$9()})))};a.prototype.$40=function(){var a=this.props.thread,c=b("ChatConfig").get("new_dlc")&&!this.props.isFocused?r:this.$9(),d=b("MessengerHotLikeChatSVGIcon.react"),e="_6gb _6wm4";return b("React").createElement("li",{className:"_6gd _5ep3 _13gi",key:"like"},b("React").createElement(b("MessengerHotLikeButton.react"),{className:e,customColor:c,customLike:b("MessengerHotLikeUtils").getCustomEmojiFromThread(a)||undefined,CustomRenderer:d,forGameChat:this.props.forGameChat,location:b("MercuryShareAttachmentRenderLocations").CHAT,renderSize:16,sendSticker:this.props.stickerButtonProps&&this.props.stickerButtonProps.onStickerSelect,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID}))};a.prototype.$20=function(){var a;if(!this.props.p2pProps||!this.props.showP2PButton||this.$31()||b("MercuryIDs").isLocalThread(this.props.threadID))return null;var c=this.props.p2pProps;a=(a=this.state.p2pPaymentConfig)!=null?a.currencyCode:a;var d=a===b("P2PPaymentSupportedCurrency").GBP;a=a===b("P2PPaymentSupportedCurrency").EUR;d=b("joinClasses")(c.className,(d?"_33g4":"")+(a?" _33g5":"")+(d?" _6jts":"")+(a?" _6jtt":""));return b("React").createElement("li",{className:"_6gd _13gj",key:"p2p"},b("React").createElement(b("P2PSendMoneyContainerBootloader.react"),babelHelpers["extends"]({},c,{className:d,participantIDs:this.props.participantIDs,p2pPaymentConfig:this.state.p2pPaymentConfig,thread:this.props.thread,threadID:this.props.threadID})))};a.prototype.$24=function(){var a=this.props.threadID;if(b("MercuryIDs").isLocalThread(this.props.threadID)||!a)return null;a={className:"_6gb _6wm4 _5yhk _6jtu",threadID:a,location:undefined,viewer:undefined};var c=b("gkx")("678582");c&&(a.location=b("MessengerQuickCamOrigins").CHAT_TAB,a.viewer=this.props.viewer);c=c?b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),a),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement("span",{className:a.className})}):b("React").createElement(b("MessengerQuickCamButton.react"),a);return b("React").createElement("li",{className:"_6gd _13gk",key:"quickcam"},c)};a.prototype.$31=function(){return!!this.$41()};a.prototype.$41=function(){return b("getPageIDFromThreadID")(this.props.threadID)};a.prototype.$28=function(){if(this.props.threadID&&!b("MercuryIDs").isLocalThread(this.props.threadID))return b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID);return this.props.thread&&this.props.thread.thread_fbid?this.props.thread.thread_fbid:null};a.prototype.$30=function(){var a=this.props,c=a.threadID;a=a.thread;return c&&b("MercuryIDs").isLocalThread(c)&&a&&a.thread_fbid?b("MercuryIDs").getThreadIDFromThreadFBID(a.thread_fbid):c};a.prototype.replyToMention=function(a){this.$4&&this.$4.addMention&&this.$4.addMention(a)};e.exports=a}),null);
__d("FantaGetMessageActions",["FantaDispatcher","FantaTabActions","MercuryCanonicalGroupThreadManager","MercuryIDs","MercuryTypeaheadConstants","keyMirror","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("requireWeak")("FantaAppStore",function(a){return g=a});var h=b("keyMirror")({ADD_PARTICIPANTS:null,CLEAR_PARTICIPANTS:null,CLEAR_PREVIEW:null,FETCH_MORE_MESSAGES:null,ON_BOOTLOAD_TYPEAHEAD:null,ON_GET_PARTICIPANT_RESPONSE:null,ON_GET_THREAD_PREVIEW_RESPONSE:null,ON_GET_THREAD_RESPONSE:null,ON_MESSAGE_STORE_RESPONSE:null,ON_PAGE_NULL_RESPONSE:null,ON_PRIVACY_STATE_CHANGE:null,ON_SHOW_CONTEXT_BANNER_TIMER:null,ON_GET_THREAD_HREF_RESPONSE:null,REFRESH_THREAD:null,THREADS_UPDATED:null});a={Types:h,addParticipants:function(a,c){__p&&__p();var d=c.length===1&&c[0].getInfo().render_type===b("MercuryTypeaheadConstants").THREAD_TYPE,e;if(d){d=c[0].getInfo().mercury_thread;d=b("MercuryIDs").getThreadIDFromThreadFBID(d.thread_fbid);b("FantaTabActions").replaceTab(a,d);return}if(c.length===1){d=c[0].info&&c[0].info.uid;d&&(e=b("MercuryIDs").getThreadIDFromUserID(d))}else if(c.length===0){b("FantaDispatcher").dispatch({type:h.CLEAR_PARTICIPANTS,tabID:a});return}else{var f=b("MercuryCanonicalGroupThreadManager").get();d=c.map(function(a){return a.info.uid});b("FantaDispatcher").dispatch({type:h.CLEAR_PREVIEW,tabID:a,tokens:c});var i=f.getCanonicalGroupThreadIDForParticipants(Array.from(d),function(d){f.unsubscribe(i);if(g){var e=g.getState();if(!e.tabGroup.tabs.get(a))return}d&&b("FantaDispatcher").dispatch({type:h.ADD_PARTICIPANTS,previewTabID:d,tabID:a,tokens:c})})}e&&b("FantaDispatcher").dispatch({type:h.ADD_PARTICIPANTS,previewTabID:e,tabID:a,tokens:c})},onBootloadTypeahead:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_BOOTLOAD_TYPEAHEAD,tabID:a,thread:c})},fetchMoreMessages:function(a){b("FantaDispatcher").dispatch({type:h.FETCH_MORE_MESSAGES,threadID:a})},refreshThread:function(a){b("FantaDispatcher").dispatch({type:h.REFRESH_THREAD,threadID:a})},onGetThreadResponse:function(a){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_RESPONSE,thread:a})},onGetThreadPreviewResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_PREVIEW_RESPONSE,tabID:a,thread:c})},onParticipantResponse:function(a){b("FantaDispatcher").dispatch({type:h.ON_GET_PARTICIPANT_RESPONSE,tabID:a})},onShowContextBannerTimer:function(a){b("FantaDispatcher").dispatch({type:h.ON_SHOW_CONTEXT_BANNER_TIMER,threadID:a})},onMessageStoreResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_MESSAGE_STORE_RESPONSE,messages:a,tabID:c})},threadsUpdated:function(a){b("FantaDispatcher").dispatch({type:h.THREADS_UPDATED,threads:a})},onPrivacyStateChange:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_PRIVACY_STATE_CHANGE,threadID:a,privacyState:c})},onPageNullResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_PAGE_NULL_RESPONSE,threadID:a,nullStateCTA:c})},onGetThreadHrefResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_HREF_RESPONSE,tabID:a,href:c})}};e.exports=a}),null);
__d("FantaTabSheetActions",["FantaDispatcher","LogHistory","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CLOSE_ADD_FRIENDS_SHEET:null,CLOSE_ADD_MORE_FRIENDS_SHEET:null,CLOSE_EMPLOYEE_PERSONAL_USER_SHEET:null,CLOSE_EMPLOYEE_WORK_USER_SHEET:null,CLOSE_NAME_CONVERSATION_TAB_SHEET:null,CLOSE_READ_ONLY_PERMANENT_SHEET:null,CLOSE_READ_ONLY_SHEET:null,CLOSE_USER_FOCUS_AND_BYPASS_SHEET:null,ON_BOOTLOAD_EVENT_REMINDER:null,ON_WORK_DO_NOT_DISTURB_RESPONSE:null,ON_MENTORSHIP_PROGRAM_RESPONSE:null,ON_IS_PAGE_TAB:null,OPEN_ADD_MORE_FRIENDS_SHEET:null,OPEN_APPOINTMENT_SHEET:null,OPEN_BYPASS_FOCUS_SHEET:null,OPEN_EMPLOYEE_AWAY_SHEET:null,OPEN_EMPLOYEE_PERSONAL_USER_SHEET:null,OPEN_EMPLOYEE_WORK_USER_SHEET:null,OPEN_NAME_CONVERSATION_TAB_SHEET:null,OPEN_READ_ONLY_PERMANENT_SHEET:null,OPEN_READ_ONLY_SHEET:null,OPEN_USER_FOCUS_SHEET:null,OPEN_MENTORSHIP_PROGRAM_SHEET:null}),h=b("LogHistory").getInstance("fanta_sheets");function i(a){b("FantaDispatcher").dispatch(a),h.log(a.type,a.tabID)}a={Types:g,openUserFocusSheet:function(a){i({type:g.OPEN_USER_FOCUS_SHEET,tabID:a})},openBypassFocusSheet:function(a){i({type:g.OPEN_BYPASS_FOCUS_SHEET,tabID:a})},closeUserFocusAndBypassSheet:function(a){i({type:g.CLOSE_USER_FOCUS_AND_BYPASS_SHEET,tabID:a})},openAddMoreFriendsSheet:function(a){i({type:g.OPEN_ADD_MORE_FRIENDS_SHEET,tabID:a})},closeAddMoreFriendsSheet:function(a){i({type:g.CLOSE_ADD_MORE_FRIENDS_SHEET,tabID:a})},closeAddFriendsSheet:function(a){i({type:g.CLOSE_ADD_FRIENDS_SHEET,tabID:a})},openNameConversationSheet:function(a){i({type:g.OPEN_NAME_CONVERSATION_TAB_SHEET,tabID:a})},closeNameConversationSheet:function(a){i({type:g.CLOSE_NAME_CONVERSATION_TAB_SHEET,tabID:a})},openReadOnlySheet:function(a){i({type:g.OPEN_READ_ONLY_SHEET,tabID:a})},closeReadOnlySheet:function(a){i({type:g.CLOSE_READ_ONLY_SHEET,tabID:a})},openReadOnlyPermanentSheet:function(a){i({type:g.OPEN_READ_ONLY_PERMANENT_SHEET,tabID:a})},closeReadOnlyPermanentSheet:function(a){i({type:g.CLOSE_READ_ONLY_PERMANENT_SHEET,tabID:a})},openEmployeeAwaySheet:function(a){i({type:g.OPEN_EMPLOYEE_AWAY_SHEET,tabID:a})},openEmployeePersonalUserSheet:function(a){i({type:g.OPEN_EMPLOYEE_PERSONAL_USER_SHEET,tabID:a})},closeEmployeePersonalUserSheet:function(a){i({type:g.CLOSE_EMPLOYEE_PERSONAL_USER_SHEET,tabID:a})},openEmployeeWorkUserSheet:function(a){i({type:g.OPEN_EMPLOYEE_WORK_USER_SHEET,tabID:a})},closeEmployeeWorkUserSheet:function(a){i({type:g.CLOSE_EMPLOYEE_WORK_USER_SHEET,tabID:a})},openMentorshipProgramSheet:function(a){i({type:g.OPEN_MENTORSHIP_PROGRAM_SHEET,tabID:a})},onIsPageTab:function(a,b){i({type:g.ON_IS_PAGE_TAB,pageIndicator:b,tabID:a})},onBootloadEventReminder:function(a){i({type:g.ON_BOOTLOAD_EVENT_REMINDER,tabID:a})},openAppointmentBannerSheet:function(a){i({type:g.OPEN_APPOINTMENT_SHEET,tabID:a})},onWorkDoNotDisturbResponse:function(a,b,c){i({type:g.ON_WORK_DO_NOT_DISTURB_RESPONSE,tabID:a,status:b,description:c})},onMentorshipProgramResponse:function(a,b,c){i({type:g.ON_MENTORSHIP_PROGRAM_RESPONSE,tabID:a,groupID:c,programName:b})}};e.exports=a}),null);
__d("MercurySheetPolicy",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={ChatThreadIsMutedTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatUserFocusSheet:{isPermanent:!0,isSheetWithInput:!0},ChatUserFocusBypassSheet:{isPermanent:!0,isSheetWithInput:!0},ChatUserBlockedTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatUploadWarningTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatThreadIsMessageBlockedSheet:{isPermanent:!0,isSheetWithInput:!1},ChatReadOnlyTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatReadOnlyPermanentTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatOfflineTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatNoRecipientsTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatNewMessagesTabSheet:{isPermanent:!0,isSheetWithInput:!0},ChatNameConversationTabSheet:{isPermanent:!0,isSheetWithInput:!0},ChatEmployeeAwaySheet:{isPermanent:!0,isSheetWithInput:!1},ChatEventReminderTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatAppointmentBanner:{isPermanent:!0,isSheetWithInput:!1},ChatMontageSheet:{isPermanent:!1,isSheetWithInput:!1},ChatJoinCallSheet:{isPermanent:!0,isSheetWithInput:!1},FantaAddFriendsSheet:{isPermanent:!0,isSheetWithInput:!0},FantaAddMoreFriendsSheet:{isPermanent:!0,isSheetWithInput:!0},ChatRoomAssociatedObjectSheet:{isPermanent:!1,isSheetWithInput:!1},ChatMentorshipProgramSheet:{isPermanent:!1,isSheetWithInput:!1},ChatGroupsSyncTabSheet:{isPermanent:!0,isSheetWithInput:!1}};a={canReplaceOpenSheet:function(a,b){var c=this.getType(b),d=this.isPermanent(b);b=this.isSheetWithInput(b);var e=this.getType(a),f=this.isPermanent(a);a=this.isSheetWithInput(a);if(a)return!!(c!==e&&b);if(f&&!d)return!1;return e===this.sheets.ChatThreadIsMessageBlockedSheet?!1:!0},getType:function(a){var b=a.getType||a.type&&a.type.getType||function(){return a};b=b.call(a);return b},isPermanent:function(a){if(typeof a==="string"&&g[a])return g[a].isPermanent;var b=a.isPermanent||a.type&&a.type.isPermanent||function(){return!1};b=b.call(a);return b},isSheetWithInput:function(a){if(typeof a==="string"&&g[a])return g[a].isSheetWithInput;var b=a.isSheetWithInput||a.type&&a.type.isSheetWithInput||function(){return!1};b=b.call(a);return b},sheets:b("keyMirror")(g)};e.exports=a}),null);
__d("FantaComposeViewReducers",["Bootloader","FantaGetMessageActions","FantaTabSheetActions","MercuryDataSourceWrapper","MercurySheetPolicy","MercuryTypeaheadConstants","MessengerAdminGroupUtils","MessengerRoomPrivacyMode","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaGetMessageActions").Types,h=b("FantaTabSheetActions").Types;function a(a,b){switch(b.type){case g.ON_GET_THREAD_RESPONSE:case g.ON_GET_THREAD_PREVIEW_RESPONSE:var c=b.thread;b=b.tabID||c.thread_id;a=i(a,c,b)}return a}function i(a,c,d){c.participants.length===0&&(a=j(a,d,c),a=l(a,d,b("MercurySheetPolicy").sheets.FantaAddFriendsSheet));return a}function c(a,b){switch(b.type){case g.ON_BOOTLOAD_TYPEAHEAD:b=b.thread;var c=b.thread_id;a=j(a,c,b)}return a}function j(a,c,d){__p&&__p();var e=a.mercury.tabContents.get(c);if(!e||e.typeahead)return a;b("ifRequired")("ChatTabTypeaheadRenderer",function(f){__p&&__p();b("ifRequired")("ContextualTypeaheadView",function(g){__p&&__p();b("ifRequired")("MercuryTypeahead",function(h){__p&&__p();if(!a.mercury.tabContents.get(c))return;var i=!!(d&&d.participants&&d.participants.length===0),j=!!(d&&d.associated_object&&d.associated_object.privacy_mode===b("MessengerRoomPrivacyMode").WHITELISTED_MODE),k=i?b("MercuryDataSourceWrapper").chat_typeahead_source:j?b("MercuryDataSourceWrapper").chat_add_people_froup_source:b("MercuryDataSourceWrapper").chat_add_people_source;k.setShowThreads(i);i?k.setShowDefaultList(b("MessengerAdminGroupUtils").showDefaultListForNewChatTab()):j||k.setShowDefaultList(b("MessengerAdminGroupUtils").showDefaultListForNewPersonAddChatTab());j&&k.setQueryData({thread_id:d.thread_fbid});i=new h(k,g);i.setViewOption("renderer",f);i.setExcludedParticipantsFromThreadMeta(d);e=e.merge({typeahead:i});a=a.setIn(["mercury","tabContents",c],e)},function(){return k(c,d)})},function(){return k(c,d)})},function(){return k(c,d)});return a}function d(a,c){switch(c.type){case h.OPEN_ADD_MORE_FRIENDS_SHEET:var d=c.tabID,e=a.mercury.tabContents.get(d).thread;if(e){a=j(a,d,e);return l(a,c.tabID,b("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet)}}return a}function k(a,c){b("Bootloader").loadModules(["ChatTabTypeaheadRenderer","ContextualTypeaheadView","MercuryTypeahead"],function(d,e,f){b("FantaGetMessageActions").onBootloadTypeahead(a,c)},"FantaComposeViewReducers")}function l(a,c,d){__p&&__p();var e=a.mercury.tabContents.get(c),f=a.tabGroup.tabs.get(c);if(!f||!e)return a;f=e;f=f.openSheet;if(f&&!b("MercurySheetPolicy").canReplaceOpenSheet(f,d))return a;e=e.merge({openSheet:d});a=a.setIn(["mercury","tabContents",c],e);return a}function f(a,c){switch(c.type){case g.ADD_PARTICIPANTS:var d=c.tokens;c=c.tabID;d=d.length===1&&d[0].getInfo().render_type===b("MercuryTypeaheadConstants").THREAD_TYPE;if(!d)return l(a,c,b("MercurySheetPolicy").sheets.FantaAddFriendsSheet)}return a}e.exports={addParticipants:f,onBootloadTypeahead:c,onGetThreadResponse:a,openAddMoreFriends:d}}),null);
__d("FantaReducersCookie",["FantaMessageActions","FantaTabActions","PresenceState","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaMessageActions").Types,h=b("FantaTabActions").Types,i=b("throttle").acrossTransitions(b("PresenceState").doSync,500);function a(a,b){switch(b.type){case g.RECEIVED_NEW_MESSAGE:case h.CLOSE_ALL_TABS:case h.CLOSE_AND_TAB_NEXT:case h.CLOSE_TAB:case h.DELETE_TAB:case h.MINIMIZE_ALL_TABS:case h.MINIMIZE_TAB:case h.OPEN_TAB:case h.OPEN_TAB_WITH_INTERSTITIAL_DATA:case h.REPLACE_TAB:case g.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:case g.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:case h.UNMINIMIZE_TAB:i();return j(a)}return a}function c(a,b){switch(b.type){case h.LOAD_FROM_DATA:var c=a.tabGroup;b=b.tabData;c=c.updatedTime;c=c>=b.updatedTime||b.updatedTime===undefined?c:b.updatedTime;return a.mergeIn(["tabGroup"],{updatedTime:c})}return a}function j(a){return a.mergeIn(["tabGroup"],{updatedTime:Date.now()})}e.exports={updateCookie:a,loadFromData:c}}),null);
__d("FantaReducersDockCalculator",["Arbiter","FantaMessageActions","FantaTabActions","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaMessageActions").Types,i=null;function j(a){i=a,b("setImmediate")(function(){b("Arbiter").inform("FantaReducersDockCalculator/shouldRecalculate")})}function k(a){if(!i||a.size!==i.size)j(a);else{var b=!1;a.forEach(function(a){var c=i&&i.get(a.id);(!c||a.isMinimized!==c.isMinimized)&&(b=!0)});b&&j(a)}}function a(a,b){var c=a.tabGroup.tabs;switch(b.type){case g.CLOSE_ALL_TABS:case g.CLOSE_AND_TAB_NEXT:case g.CLOSE_TAB:case g.DELETE_TAB:case g.MINIMIZE_ALL_TABS:case g.MINIMIZE_TAB:case g.OPEN_TAB:case g.OPEN_TAB_WITH_INTERSTITIAL_DATA:case g.UNMINIMIZE_TAB:case h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:j(c);break;case g.LOAD_FROM_DATA:case h.RECEIVED_NEW_MESSAGE:k(c);break}return a}e.exports={recalculateDock:a}}),null);
__d("FantaReducersLogging",["Bootloader","FantaMessageActions","FantaTabActions","FantaTabSheetActions","gkx","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaMessageActions").Types,i=b("FantaTabSheetActions").Types;function a(a,c){__p&&__p();if(!b("gkx")("678592"))return a;switch(c.type){case i.OPEN_ADD_MORE_FRIENDS_SHEET:case g.OPEN_TAB:if(c.type===g.OPEN_TAB&&c.entryPoint!=="compose_link"&&c.entryPoint!=="jewel_new_message")return a;var d=a.mercury.tabContents.get(c.tabID);d&&b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger","MessengerSecondarySearchFunnelConstants"],function(a,b){var e;switch(c.entryPoint){case"compose_link":e=b.ENTRY_SURFACES.SIDEBAR;break;case"jewel_new_message":e=b.ENTRY_SURFACES.JEWEL;break;default:e=b.ENTRY_SURFACES.EXISTING_TAB}a.startFunnel(b.CLIENTS.WWW,b.SEARCH_SURFACES.OMNIPICKER,e,c.type===i.OPEN_ADD_MORE_FRIENDS_SHEET?d.id:null,d.loggingID)},"FantaReducersLogging");break}return a}function c(a,c){switch(c.type){case g.CLOSE_ALL_TABS:case g.CLOSE_AND_TAB_NEXT:case g.CLOSE_TAB:case g.DELETE_TAB:case g.OPEN_TAB:case g.OPEN_TAB_WITH_INTERSTITIAL_DATA:case h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:b("requestIdleCallback")(function(){var c=a.tabGroup.allowedRaisedTabs,d=a.tabGroup.getRaisedandUnraisedTabs(),e=d.raisedTabs;d=d.unraisedTabs;var f=e.count(),g=f+d.count();b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(a){new a().setAllowedRaisedTabs(c).setOpenTabs(g).setVisibleTabs(f).log()},"FantaReducersLogging")})}return a}e.exports={updateVisibleTabs:c,logSearchEventsAfterAction:a}}),null);
__d("FantaAvailableStatus",["AvailableListConstants","ChatVisibility","MercuryIDs","PresenceStatus","ShortProfiles"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={isAvailable:function(a,c){var d;a=this.getStatus(a,c);c=b("MercuryIDs").getUserIDFromThreadID(c);c&&(d=b("ShortProfiles").getNow(c));return a===b("AvailableListConstants").ACTIVE&&(d===undefined||d===null||!d.is_messenger_only)},getStatus:function(a,c){__p&&__p();var d=b("AvailableListConstants").OFFLINE;c=b("MercuryIDs").getUserIDFromThreadID(c);if(c)d=b("PresenceStatus").get(c);else if(a&&a.participants){c=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)});d=b("PresenceStatus").getGroup(c)}b("ChatVisibility").isOnline()||(d=b("AvailableListConstants").OFFLINE);return d}}}),null);
__d("FantaTypeJoinableThread",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c={admins:[],approvalMode:0,associatedObject:null,description:null,friendsInParticipants:[],imageURL:null,isViewerSubscribed:!1,isWorkpaceChat:!1,joinableMode:{mode:0,link:""},linkHash:"",participants:[],threadID:null,threadFBID:null,threadName:null};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FantaTypeSharePreview",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c={isLoading:!1,params:null,type:null,uri:null};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FantaTypeComposer",["FantaTypeFileUploader","FantaTypeSharePreview","immutable"],(function(a,b,c,d,e,f){"use strict";var g,h=0;c={fileUploader:new(b("FantaTypeFileUploader"))(),sharePreview:new(b("FantaTypeSharePreview"))(),text:"",replyingToMessage:null,version:h};d=babelHelpers.inherits(a,b("immutable").Record(c));g=d&&d.prototype;function a(){g.constructor.call(this,{version:++h})}e.exports=a}),null);
__d("FantaTypeTabContents",["ChatPrivacyActionController","FantaGetMessageActions","FantaTypeComposer","MercuryIDs","emptyFunction","immutable","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c={composer:new(b("FantaTypeComposer"))(),hasFetchedAll:!1,highlightNewMessage:!1,id:"",isMontageOpen:!1,isMultiCompany:null,isNewMessageTab:!1,isScrolledToBottom:!0,joinableInterstitialData:null,jumpToMessage:null,loggingID:null,membershipParticipants:null,messages:b("immutable").List(),messageStore:null,nullStateCTA:null,openSheet:null,pageIndicator:null,pageIndicatorDescription:null,participants:null,privacyController:null,showContextBanner:!1,showUnseenMessages:b("emptyFunction"),signatureID:null,thread:null,threadHref:null,threadPreviewID:null,threadPreviewRecipients:null,timezoneInfo:null,typeahead:null,uri:null,workAvailabilityHumanReadable:null,workAvailabilityStatus:null};d=babelHelpers.inherits(a,b("immutable").Record(c));g=d&&d.prototype;function a(a){var c,d=b("MercuryIDs").getUserIDFromThreadID(a.id);d&&(c=new(b("ChatPrivacyActionController"))(d,function(c){b("setImmediate")(function(){b("FantaGetMessageActions").onPrivacyStateChange(a.id,c)})}));g.constructor.call(this,babelHelpers["extends"]({privacyController:c},a))}e.exports=a}),null);
__d("FantaReducersMercury",["Arbiter","AsyncSignal","AvailableList","AvailableListConstants","Bootloader","FantaAvailableStatus","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTabSheetActions","FantaTypeJoinableThread","FantaTypeSharePreview","FantaTypeTabContents","JSLogger","MercuryIDs","MercuryThreadIDMap","TimeSlice","WebMessengerThreadPermalinks","getPageIDFromThreadID","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadIDMap").get(),h=b("JSLogger").create("FantaReducersMercury"),i=b("FantaMessageActions").Types,j=b("FantaTabActions").Types,k=b("FantaGetMessageActions").Types,l=1;function m(){return Math.floor(Math.random()*2147483648).toString(16)}function a(a,c){__p&&__p();switch(c.type){case j.OPEN_TAB:case j.OPEN_TAB_WITH_INTERSTITIAL_DATA:case i.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:var d=c.tabID,e=c.defaultText,f=c.defaultPreview;b("ifRequired")("FantaTabsReactApp",function(c){!b("MercuryIDs").isValidThreadID(d)?(a=a.deleteIn(["tabGroup","tabs",d]),t(d)):A(a,d)},function(){return a=n(a,c.tabID)});a=o(a,d);var g=m(),h=a.mercury.tabContents.get(d);h=h.merge({isNewMessageTab:!!c.isNewMessageTab,loggingID:l++,signatureID:g});a=a.setIn(["mercury","tabContents",d],h);new(b("AsyncSignal"))("/ajax/chat/opentab_tracking.php",{threadID:d,userID:b("MercuryIDs").getUserIDFromThreadID(d),signatureID:g}).send();if(c.interstitialData){g=new(b("FantaTypeJoinableThread"))(c.interstitialData);h=h.merge({joinableInterstitialData:g});a=a.setIn(["mercury","tabContents",d],h)}e&&(a=a.setIn(["mercury","tabContents",d,"composer","text"],e));f&&(a=a.setIn(["mercury","tabContents",d,"composer","sharePreview"],new(b("FantaTypeSharePreview"))({params:null,type:null,uri:f})));b("Arbiter").inform("jewel/hide");return a}return a}function n(a,c){b("ifRequired")("FantaTabsSlimApp",function(d){!b("MercuryIDs").isValidThreadID(c)?(a=a.deleteIn(["tabGroup","tabs",c]),t(c)):A(a,c)},function(){A(a,c)});return a}function c(a,b){switch(b.type){case i.RECEIVED_NEW_MESSAGE:a=o(a,b.tabID)}return a}function o(a,c){__p&&__p();var d=a.mercury.tabContents.get(c);if(!d){var e=b("getPageIDFromThreadID")(c);e&&b("Bootloader").loadModules(["PagesMercuryChatTabIndicatorHandler"],function(a){var d=b("AvailableListConstants").OFFLINE,f=new a(e,d,function(a){b("setImmediate")(function(){return b("FantaTabActions").setPageIndicatorDescription(c,a)})},function(){b("setImmediate")(function(){return b("FantaTabActions").clearPageIndicatorDescription(c)})});b("setImmediate")(function(){b("FantaTabSheetActions").onIsPageTab(c,f)});f.checkResponsiveness()},"FantaReducersMercury");return a.setIn(["mercury","tabContents",c],new(b("FantaTypeTabContents"))({id:c}))}return a}function d(a,b){switch(b.type){case j.SET_PAGE_INDICATOR_DESCRIPTION:var c=b.tabID;b=b.description;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({pageIndicatorDescription:b||""});a=a.setIn(["mercury","tabContents",c],d)}return a}function f(a,b){switch(b.type){case j.CLEAR_PAGE_INDICATOR_DESCRIPTION:b=b.tabID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=c.merge({pageIndicatorDescription:""});a=a.setIn(["mercury","tabContents",b],c)}return a}function p(a,b){switch(b.type){case j.REPLACE_TAB:case i.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:a=s(a,b.newTabID);a=o(a,b.newTabID);return a}return a}function q(a,b){__p&&__p();switch(b.type){case k.ADD_PARTICIPANTS:var c=b.tabID;b=b.previewTabID;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({threadPreviewID:b});a=a.setIn(["mercury","tabContents",c],d);return a}return a}function r(a,c){switch(c.type){case k.CLEAR_PARTICIPANTS:c=c.tabID;var d=a.mercury.tabContents.get(c),e=d?d.loggingID:null;d=d?d.isNewMessageTab:!1;a=a.setIn(["mercury","tabContents",c],new(b("FantaTypeTabContents"))({id:c,isNewMessageTab:d,loggingID:e}))}return a}function s(a,c){b("ifRequired")("FantaTabsReactApp",function(d){b("MercuryIDs").isValidThreadID(c)||(a=a.deleteIn(["tabGroup","tabs",c]),t(c))},function(){b("ifRequired")("FantaTabsSlimApp",function(d){b("MercuryIDs").isValidThreadID(c)||(a=a.deleteIn(["tabGroup","tabs",c]),t(c))})});return a}function t(a){g.getClientIDFromServerID(a,function(c){return b("setImmediate")(function(){b("MercuryIDs").isValidThreadID(c)?b("FantaTabActions").openTab(c):h.error("invalid id",a)})})}function u(a,b){switch(b.type){case j.FOCUS_TAB:A(a,b.tabID)}return a}function v(a,b){switch(b.type){case j.CLOSE_TAB:b=b.tabID;a=x(a,b)}return a}function w(a,b){switch(b.type){case j.DELETE_TAB:b=b.tabID;a=x(a,b);a=a.deleteIn(["mercury","tabContents",b])}return a}function x(a,c){b("ifRequired")("MessengerVideoAutoplayActions",function(a){a.deleteThread(c)});return a}function y(a,c){switch(c.type){case j.CLOSE_ALL_TABS:b("ifRequired")("MessengerVideoAutoplayActions",function(a){a.deleteAllThreads()});return a}return a}function z(a,b){switch(b.type){case j.FOCUS_NEXT_TAB:case j.FOCUS_PREVIOUS_TAB:case j.CLOSE_AND_TAB_NEXT:b=a.tabGroup.focusedTabID;b&&A(a,b)}return a}function A(a,c){__p&&__p();var d=b("MercuryIDs").getUserIDFromThreadID(c);if(d){var e=function(){b("AvailableList").updateForID(d)};b("TimeSlice").guard(e,"superfluous request to first open DD",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}e=a.mercury.tabContents.get(c);if(e){a=e.thread;e=e.pageIndicator;e&&e.notifyPageOnlineStatusChanged(b("FantaAvailableStatus").getStatus(a,c))}}function B(a,b){switch(b.type){case j.UNMINIMIZE_TAB:A(a,b.tabID)}return a}function C(a,b){__p&&__p();switch(b.type){case j.LOAD_FROM_DATA:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a=o(a,e)}}return a}function D(a,c){a=a.mercury.tabContents.get(c);(!a||!a.uri)&&b("WebMessengerThreadPermalinks").getThreadURI(c,function(a){b("setImmediate")(function(){return b("FantaTabActions").setPermanentUri(c,a)})})}function E(a,b){__p&&__p();switch(b.type){case j.OPEN_TAB:case j.OPEN_TAB_WITH_INTERSTITIAL_DATA:case i.RECEIVED_NEW_MESSAGE:case i.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:D(a,b.tabID);break;case j.LOAD_FROM_DATA:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;D(o(a,e),e)}}return a}function F(a,b){switch(b.type){case j.SET_PERMANENT_URI:var c=b.tabID;b=b.uri;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({uri:b});a=a.setIn(["mercury","tabContents",c],d)}return a}e.exports={addParticipants:q,clearPageIndicatorDescription:f,clearParticipants:r,closeAllTabs:y,closeTab:v,deleteTab:w,focusTab:u,focusTabEvents:z,loadFromData:C,loadUri:E,openTab:a,receivedNewMessage:c,replaceTab:p,setPageIndicatorDescription:d,setUri:F,unminimizeTab:B}}),null);
__d("MercuryBrowserAlerts",["ArbiterMixin","Bootloader","ChatActivity","ChatConfig","ChatOptions","ChatTitleBarBlinker","CurrentUser","Event","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryThreadInfo","MercuryViewer","MessagingTag","MessengerState.bs","Sound","UserActivity","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3,h=6e5,i=new Map(),j=null;function k(){return!b("UserActivity").isOnTab()&&!b("UserActivity").hasBeenInactive()}function l(){i=new Map()}function m(a){b("ChatOptions").getSetting("sound")&&!k()&&b("Sound").play([b("ChatConfig").get("sound.notif_ogg_url"),b("ChatConfig").get("sound.notif_mp3_url")],a,!1)}var n=Object.assign({init:function(){b("Event").listen(window,"focus",function(){l(),clearInterval(j)}),b("Event").listen(window,"blur",function(){j=setInterval(l,h)}),b("gkx")("678573")&&b("CurrentUser").isWorkUser()&&(this._availabilityStatusStore=null,b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(a){this._availabilityStatusStore=a}.bind(this),"MercuryBrowserAlerts"))},messageReceived:function(a){__p&&__p();var c=this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID()));if(c||a.author&&b("MercuryViewer").isViewer(a.author)||!a.is_unread||a.folder!=b("MessagingTag").INBOX&&a.folder!=b("MessagingTag").ARCHIVED)return;var d=a.thread_id,e=b("ChatActivity").isActive();if(e){var f=!1;n.inform("before-alert",{threadID:d,cancelAlert:function(){f=!0}})}b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),d,function(c){__p&&__p();var h=b("MercuryThreadInfo").isMuted(c),j=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());if(h)if(!b("MercuryThreadInfo").areMentionsMuted(c)){if(!a.profile_ranges||!a.profile_ranges.some||!a.profile_ranges.some(function(a){return a.id===j}))return}else return;var k=b("CurrentUser").getID();b("MessengerState.bs").compute(k,function(h){__p&&__p();h=h.blocked_ids;if(b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(k,h,c))return;h=a.timestamp;if(e)f||m(h);else{b("ChatTitleBarBlinker").blink(d,h);var j=i.get(d)||0;j<g&&(i.set(d,j+1),m(h))}b("ChatTitleBarBlinker").blinkingElsewhere()})})}},b("ArbiterMixin"));e.exports=n}),null);
__d("FantaReducersMessages",["CurrentUser","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTypeComposer","ImmutableObject","MercuryBrowserAlerts","MessengerParticipants.bs","WorkForeignEntityType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaMessageActions").Types,h=b("FantaTabActions").Types,i=b("FantaGetMessageActions").Types;function a(a,c){switch(c.type){case g.RECEIVED_NEW_MESSAGE:c=c.message;b("MercuryBrowserAlerts").messageReceived(c);return a}return a}function c(a,b){switch(b.type){case g.COMPOSER_TEXT_UPDATE:var c=b.composer,d=b.message;b=b.threadID;var e=a.mercury.tabContents.get(b);return!e||e&&e.composer.version!==c.version?a:a.mergeIn(["mercury","tabContents",b,"composer"],{text:d})}return a}function d(a,c){switch(c.type){case g.REPLY_TO_MESSAGE:var d=c.message;c=c.threadID;var e=a.mercury.tabContents.get(c);return!e?a:a.mergeIn(["mercury","tabContents",c,"composer"],{replyingToMessage:new(b("ImmutableObject"))(babelHelpers["extends"]({},d))})}return a}function f(a,b){switch(b.type){case g.CANCEL_REPLY_TO_MESSAGE:b=b.threadID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=null;return a.mergeIn(["mercury","tabContents",b,"composer"],{replyingToMessage:c})}return a}function j(a,c){switch(c.type){case h.CLOSE_TAB:case h.CLOSE_AND_TAB_NEXT:return!a.mercury.tabContents.get(c.tabID)?a:a.setIn(["mercury","tabContents",c.tabID,"composer"],new(b("FantaTypeComposer"))())}return a}function k(a,c){switch(c.type){case h.CLOSE_ALL_TABS:c=a.mercury.tabContents;c.forEach(function(c){c=c.id;a=a.setIn(["mercury","tabContents",c,"composer"],new(b("FantaTypeComposer"))())});return a}return a}function l(a,b){switch(b.type){case h.SCROLL_BOTTOM_CHANGED:var c=b.tabID,d=b.isScrolledToBottom;b=b.showUnseenMessages;var e=a.mercury.tabContents.get(c);if(!e)return a;e=e.merge({isScrolledToBottom:d,showUnseenMessages:b});a=a.setIn(["mercury","tabContents",c],e)}return a}function m(a,b){switch(b.type){case h.JUMP_TO_MESSAGE:var c=b.tabID;b=b.mid;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({jumpToMessage:b});a=a.setIn(["mercury","tabContents",c],d)}return a}function n(a,b){switch(b.type){case h.WIPE_JUMP_TO_MESSAGE:b=b.tabID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=c.merge({jumpToMessage:null});a=a.setIn(["mercury","tabContents",b],c)}return a}function o(a,b){switch(b.type){case h.SHOW_UNSEEN_MESSAGES:b=b.tabID;b=a.mercury.tabContents.get(b);b&&b.showUnseenMessages()}return a}function p(a,c){__p&&__p();switch(c.type){case i.ON_GET_THREAD_RESPONSE:c=c.thread;var d=c.thread_id,e=a.mercury.tabContents.get(d);if(!e)return a;var f=null;b("CurrentUser").isWorkUser()&&c.participants&&(f=c.participants.map(b("MessengerParticipants.bs").getNow,b("MessengerParticipants.bs")).find(function(a){return((a=a)!=null?(a=a.work_foreign_entity_info)!=null?a.type:a:a)===b("WorkForeignEntityType").FOREIGN})!==undefined);e=e.merge({thread:c,isMultiCompany:f});a=a.setIn(["mercury","tabContents",d],e);break}return a}function q(a,b){switch(b.type){case h.HIGHLIGHT_NEW_MESSAGE:return!a.mercury.tabContents.get(b.tabId)?a:a.setIn(["mercury","tabContents",b.tabId,"highlightNewMessage"],!0)}return a}function r(a,b){switch(b.type){case h.UNHIGHLIGHT_NEW_MESSAGE:return!a.mercury.tabContents.get(b.tabId)?a:a.setIn(["mercury","tabContents",b.tabId,"highlightNewMessage"],!1)}return a}e.exports={cancelReplyToMessage:f,closeAllTabs:k,closeTab:j,composerTextUpdate:c,highlightNewMessage:q,jumpToMessage:m,onGetThreadResponse:p,receivedNewMessage:a,replyToMessage:d,scrollBottomChanged:l,showUnseenMessages:o,unhighlightNewMessage:r,wipeJumpToMessage:n}}),null);
__d("MessengerSecondarySearchFunnelConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"});b=Object.freeze({ABANDON:"abandon",CREATE_GROUP:"create_group",ENTER_THREAD:"enter_thread",RESULT_SELECTED:"result_selected",SEND:"send",SINGLE_RESULT_SELECTED:"single_result_selected"});c=Object.freeze({ACTION:"action"});d=Object.freeze({EXISTING_TAB:"existing_tab",JEWEL:"jewel",SIDEBAR:"sidebar",COMPOSER:"composer"});f=Object.freeze({END:"end",IMPRESSIONS:"impressions",MICRO_SESSION_ENDED:"micro_session_ended",MICRO_SESSION_STARTED:"micro_session_started",QUERY_CHANGED:"query_changed",RESULT_SELECTED:"result_selected",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start",TOKEN_REMOVED:"token_removed"});var g=Object.freeze({BROADCAST:"broadcast",GROUP_CREATION:"group_creation",OMNIPICKER:"omnipicker",SHARE:"share"}),h=Object.freeze({DIRECT_SEND:"direct_send",ADD:"add"}),i=Object.freeze({FINISHED:"finished",FAILED:"failed"}),j=Object.freeze({BROADCAST:9500,GROUP_CREATE:9501}),k=Object.freeze({QUERY:"query",NO_QUERY:"no_query"}),l=Object.freeze({BOOTSTRAP:"bootstrap",LOCAL:"local",LOCAL_AND_SERVER:"local_and_server",LOCAL_CONTACTS:"local_contacts",ORDERED_GCF_FRIENDLIST:"local_ordered_gcf_friendlist",QUERY_CACHE:"query_cache",SERVER:"server",SHORT_PROFILES:"local_short_profiles",SUGGESTED_RECIPIENTS:"local_suggested_recipients"});e.exports={FUNNEL_NAME:"MESSENGER_SECONDARY_SEARCH_FUNNEL",CLIENTS:a,END_ACTIONS:b,END_REASONS:c,ENTRY_SURFACES:d,EVENTS:f,SEARCH_SURFACES:g,SELECTION_TYPES:h,SOURCE_STATUSES:i,LOGGING_IDS:j,MICRO_SESSION_TYPES:k,SOURCES:l}}),null);
__d("FantaReducersPreLogging",["Bootloader","FantaMessageActions","FantaTabActions","FantaTabSheetActions","MessengerSecondarySearchFunnelConstants","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaTabSheetActions").Types,i=b("FantaMessageActions").Types;c=b("MessengerSecondarySearchFunnelConstants").END_ACTIONS;var j=c.ABANDON,k=c.SEND,l=b("MessengerSecondarySearchFunnelConstants").END_REASONS.ACTION;function a(a,c){__p&&__p();if(!b("gkx")("678592"))return a;switch(c.type){case g.CLOSE_TAB:case g.CLOSE_AND_TAB_NEXT:case h.CLOSE_ADD_FRIENDS_SHEET:case h.CLOSE_ADD_MORE_FRIENDS_SHEET:a=m(a,c.tabID,l,j);break;case g.CLOSE_ALL_TABS:a.mercury.tabContents.forEach(function(b){a=m(a,b.id,l,j)});break;case i.ADD_GROUP_PARTICIPANTS:a=m(a,c.threadID,l,k,!0);break;case i.SEND_HOT_LIKE:case i.SEND_MESSAGE:case i.SEND_PHOTO:case i.SEND_STICKER:a=m(a,c.threadID,l,k);break}return a}function m(a,c,d,e,f){if(!b("gkx")("678592"))return a;var g=a.mercury.tabContents.get(c),h=g?g.loggingID:null,i=g?g.threadPreviewID:null;h&&b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger"],function(b){a=a.setIn(["mercury","tabContents",c],g.merge({loggingID:null}));var j;e===k&&(f===null||f===undefined)?j=g&&g.messages.size===0:j=f;b.endFunnel(d,e,h,i?i.split(":")[1]:c,j)},"FantaReducersPreLogging");return a}e.exports={logSearchEvents:a}}),null);
__d("FantaTypeTab",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c={focusCounter:0,id:"",isHovered:!1,isMinimized:!1,openCounter:0,entryPoint:"unknown"};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FantaTypeTabGroup",["FantaConst","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").OrderedMap({});c={allowedRaisedTabs:b("FantaConst").DEFAULT_ALLOWED_RAISED_TABS,focusedTabID:null,tabs:b("immutable").Map({}),updatedTime:0};var i=function(a){return a.openCounter*-1},j=function(a){return a.focusCounter*-1};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;a.prototype.getRaisedandUnraisedTabs=function(){if(this.tabs.size===0||this.allowedRaisedTabs===0)return{raisedTabs:h,unraisedTabs:h};if(this.tabs.size===1&&this.allowedRaisedTabs>=1)return{raisedTabs:this.tabs.toOrderedMap(),unraisedTabs:h};var a=this.tabs.sortBy(j),b=a.slice(this.allowedRaisedTabs);a=a.take(this.allowedRaisedTabs).sortBy(i);return{raisedTabs:a,unraisedTabs:b}};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("isWebMessengerURI",[],(function(a,b,c,d,e,f){function a(a){return/^(\/messages)/.test(a.getPath())}e.exports=a}),null);
__d("FantaReducersTabs",["Bootloader","EventProfiler","FantaConst","FantaMessageActions","FantaTabActions","FantaTypeTab","FantaTypeTabGroup","LogHistory","MessengerDiscoveryEntryPoint","PinnedConversationNubsConfig","TimeSlice","URI","isWebMessengerURI","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaMessageActions").Types,h=b("FantaTabActions").Types,i="tab_",j=b("LogHistory").getInstance("fanta_tabs"),k=1,l=1,m=1;function a(a,c){__p&&__p();switch(c.type){case h.OPEN_TAB:case h.OPEN_TAB_WITH_INTERSTITIAL_DATA:case g.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:j.debug(c.type,JSON.stringify({id:c.tabID}));if(l===1){b("EventProfiler").tagCurrentActiveInteractionsAs("FirstChatTabOpen");var d=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(a,b){a.markerStart(b.FIRSTCHATTABOPEN_WWW,0,d)},"FantaReducersTabs")}return q(a,c.tabID||i+m++,!0,c.entryPoint)}return a}function c(a,b){__p&&__p();switch(b.type){case h.REPLACE_TAB:case g.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:var c=b.tabID,d=b.newTabID,e=a.tabGroup;e=e.tabs;e=e.get(c);j.debug(b.type,JSON.stringify({id:c,isExisting:!!e,newID:d}));if(e){b=e.id===a.tabGroup.focusedTabID;a=a.setIn(["tabGroup","tabs",d],e.merge({id:d})).deleteIn(["tabGroup","tabs",c]);return q(a,d,b,"replace_tab")}return q(a,d,!1,"replace_tab")}return a}function d(a,b){switch(b.type){case h.MINIMIZE_TAB:return r(a,b.tabID,!0)}return a}function f(a,b){switch(b.type){case h.UNMINIMIZE_TAB:return r(a,b.tabID,!1)}return a}function n(a,b){switch(b.type){case h.FOCUS_TAB:b=b.tabID;return x(a,b)}return a}function o(a,b){switch(b.type){case h.BLUR_TAB:return y(a,b.tabID)}return a}function p(a,c){__p&&__p();switch(c.type){case g.RECEIVED_NEW_MESSAGE:var d=c.tabID,e=a.tabGroup.tabs.get(d);j.debug(c.type,JSON.stringify({id:d,isOpen:!!e}));if(!e){c=a.tabGroup.focusedTabID;a=q(a,d,!1,"message_received");var f=a.tabGroup.allowedRaisedTabs;e=a.tabGroup.getRaisedandUnraisedTabs();var h=e.raisedTabs;e=e.unraisedTabs;var i=h.count(),k=i+e.count();b("TimeSlice").guard(function(){b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(a){new a().setAllowedRaisedTabs(f).setOpenTabs(k).setVisibleTabs(i).log()},"FantaReducersTabs")},"name",{propagationType:b("TimeSlice").PropagationType.ORPHAN})();h=b("URI").getNextURI();if(b("isWebMessengerURI")(h))return a=r(a,d,!0);else if(c)return x(a,c)}}return a}function q(a,c,d,e){e===void 0&&(e="unknown");var f=a.tabGroup;f=f.tabs;f=f.get(c);!f?(f=new(b("FantaTypeTab"))({id:c,focusCounter:k,openCounter:l++,entryPoint:e}),a=a.setIn(["tabGroup","tabs",c],f)):f.isMinimized&&d&&(a=r(a,c,!1));return d?x(a,c):a}function r(a,b,c){var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{isMinimized:c}));return a}function s(a,b){__p&&__p();switch(b.type){case h.MINIMIZE_ALL_TABS:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a=r(a,e,!0)}return a}return a}function t(a,b){switch(b.type){case h.CLOSE_TAB:case h.DELETE_TAB:var c=b.tabID;j.debug(b.type,JSON.stringify({id:c}));return u(a,c)}return a}function u(a,b){a=y(a,b);return a.deleteIn(["tabGroup","tabs",b]).deleteIn(["mercury","tabContents",b])}function v(a,b){switch(b.type){case h.CLOSE_ALL_TABS:j.debug(b.type);a=y(a,a.tabGroup.focusedTabID);return a.setIn(["tabGroup","tabs"],a.tabGroup.tabs.clear()).setIn(["mercury","tabContents"],a.mercury.tabContents.clear())}return a}function w(a,b){switch(b.type){case h.CLOSE_AND_TAB_NEXT:j.debug(b.type,JSON.stringify({id:b.tabID}));a=u(a,b.tabID);return G(a)}return a}function x(a,b,c){c===void 0&&(c=!1);var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{focusCounter:k++}));d=c?null:b;a=a.mergeIn(["tabGroup"],{focusedTabID:d});return a}function y(a,b){return a.tabGroup.focusedTabID===b?a.mergeIn(["tabGroup"],{focusedTabID:null}):a}function z(a,b){switch(b.type){case h.HOVERED_TAB:b=b.tabID;return B(a,b,!0)}return a}function A(a,b){switch(b.type){case h.UNHOVERED_TAB:b=b.tabID;return B(a,b,!1)}return a}function B(a,b,c){var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{isHovered:c}));return a}function C(a,c){__p&&__p();switch(c.type){case h.SET_ALLOWED_RAISED_TABS:var d=c.allowedRaisedTabs,e=a.tabGroup.allowedRaisedTabs;if(d!==e){j.debug(c.type,JSON.stringify({count:d}));b("PinnedConversationNubsConfig").chatTabTypingPriority||(d=Math.max(1,d));var f=a.tabGroup.tabs.count(),g=f>d?d:f;c=d>e&&f>e;e=d<e&&f>d;(c||e)&&b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(a){new a().setAllowedRaisedTabs(d).setOpenTabs(f).setVisibleTabs(g).log()},"FantaReducersTabs")}return D(a,d)}return a}function D(a,c){c===void 0&&(c=b("FantaConst").DEFAULT_ALLOWED_RAISED_TABS);if(c===a.tabGroup.allowedRaisedTabs)return a;b("PinnedConversationNubsConfig").chatTabTypingPriority||(c=Math.max(1,c));return a.mergeIn(["tabGroup"],{allowedRaisedTabs:c})}function E(a,c){__p&&__p();switch(c.type){case h.LOAD_FROM_DATA:var d=a.tabGroup,e=c.tabData,f=d.updatedTime;if(f>=e.updatedTime||e.updatedTime===undefined)return a;a=D(a.set("tabGroup",new(b("FantaTypeTabGroup"))()),d.allowedRaisedTabs);var g=[];e.tabs.sort(function(a,b){return a.openCounter-b.openCounter}).forEach(function(c){g.push(c.id),a=q(a,c.id,!1,[b("MessengerDiscoveryEntryPoint").FB_HEADER_DOCK_LOADED_FROM_BROWSER_COOKIE]),c.isMinimized&&(a=r(a,c.id,c.isMinimized))});e.tabs.sort(function(a,b){return a.focusCounter-b.focusCounter}).forEach(function(b){a=x(a,b.id,!0)});j.debug(c.type,JSON.stringify({updatedTime:f,newerTime:e.updatedTime,opened:g}));a=e.focusedTabID?x(a,e.focusedTabID,!0):y(a)}return a}function F(a,b){switch(b.type){case h.FOCUS_NEXT_TAB:return G(a)}return a}function G(a){__p&&__p();var b=a.tabGroup.focusedTabID,c=a.tabGroup.getRaisedandUnraisedTabs();c=c.raisedTabs;var d=c.count();if(d===0)return a;else if(c.count()===1)return x(a,c.first().id);d=c.skipUntil(function(a){return a.id===b}).rest();if(d.count()===0)return x(a,c.first().id);else return x(a,d.first().id)}function H(a,b){__p&&__p();switch(b.type){case h.FOCUS_PREVIOUS_TAB:var c=a.tabGroup.focusedTabID;b=a.tabGroup.getRaisedandUnraisedTabs();b=b.raisedTabs;if(b.count()<2)return a;var d=b.reverse().skipUntil(function(a){return a.id===c}).rest();if(d.count()===0)return x(a,b.last().id);else return x(a,d.first().id)}return a}e.exports={blurTab:o,closeAllTabs:v,closeAndTabNext:w,closeTab:t,focusNextTab:F,focusPreviousTab:H,focusTab:n,hoveredTab:z,loadFromData:E,minimizAllTabs:s,minimizeTab:d,openTab:a,receivedNewMessage:p,replaceTab:c,setAllowedRaisedTabs:C,unhoveredTab:A,unminimizeTab:f}}),null);
__d("FantaTypeMercuryState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c={tabContents:b("immutable").Map({})};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FantaTypeAppState",["FantaTypeMercuryState","FantaTypeTabGroup","immutable"],(function(a,b,c,d,e,f){"use strict";var g;c={tabGroup:new(b("FantaTypeTabGroup"))(),mercury:new(b("FantaTypeMercuryState"))()};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FantaAppStore",["FantaComposeViewReducers","FantaDispatcher","FantaReducersCookie","FantaReducersDockCalculator","FantaReducersLogging","FantaReducersMercury","FantaReducersMessages","FantaReducersPreLogging","FantaReducersTabs","FantaTypeAppState","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[].concat(Object.values(b("FantaReducersPreLogging")),Object.values(b("FantaReducersTabs")),Object.values(b("FantaReducersMercury")),Object.values(b("FantaReducersMessages")),Object.values(b("FantaReducersDockCalculator")),Object.values(b("FantaReducersCookie")),Object.values(b("FantaComposeViewReducers")),Object.values(b("FantaReducersLogging")));g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new(b("FantaTypeAppState"))()};a.prototype.ignoreReducer=function(a){var b=Object.values(a);h=h.filter(function(a){return!b.find(function(b){return b===a})})};a.prototype.addReducers=function(a){this.ignoreReducer(a),h=h.concat(Object.values(a))};a.prototype.reduce=function(a,b){return h.reduce(function(a,c){return c(a,b)},a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;c=new a(b("FantaDispatcher"));e.exports=c}),null);
__d("FantaCookieUtil",["CurrentUser","FantaConst","MercuryIDs","MessengerDiscoveryEntryPoint","MessengerState.bs","WorkModeConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={convertCookieData:function(a,c,d){__p&&__p();var e={tabs:[],focusedTabID:null,updatedTime:0,interstitialData:d};d=[];var f=this._getCookieKeys();a=a||{};a[f.tabs]&&(d=a[f.tabs]);d.forEach(function(a){e.tabs.push({id:a.i,isMinimized:!a.r,openCounter:a.o,focusCounter:a.f})});if(c)for(var d=c.tabs.values(),c=Array.isArray(d),g=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(c){if(g>=d.length)break;h=d[g++]}else{g=d.next();if(g.done)break;h=g.value}h=h;b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),h.id)&&e.tabs.push({id:h.id,isMinimized:h.isMinimized,openCounter:h.openCounter,focusCounter:h.focusCounter})}e.focusedTabID=a[f.focusedTabID];e.updatedTime=a[f.updatedTime];return e},createCookieData:function(a,c){__p&&__p();var d=[],e=this._getCookieKeys();if(c[e.updatedTime]>a.updatedTime)return c;for(var f=a.tabs.values(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;!b("MercuryIDs").isLocalThread(i.id)&&!this._shouldDisableForCookie(i.id,i.entryPoint)&&d.push({i:i.id,r:i.isMinimized?undefined:1,o:i.openCounter,f:i.focusCounter})}c[e.tabs]=d;c[e.focusedTabID]=a.focusedTabID;c[e.updatedTime]=a.updatedTime;return c},_shouldDisableForCookie:function(a,c){if(!c.includes(b("MessengerDiscoveryEntryPoint").FB_PAGE_USER_MESSAGE_PROMPT))return!1;c=b("MessengerState.bs").getThreadMessagesRangeNow(b("CurrentUser").getID(),a,0,1)[0];return c===undefined},_getCookieKeys:function(){var a=b("WorkModeConfig").is_work_user;return{tabs:a?b("FantaConst").cookieIDs.WORK_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_COOKIE_ID,focusedTabID:a?b("FantaConst").cookieIDs.WORK_FOCUS_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_FOCUS_COOKIE_ID,updatedTime:a?b("FantaConst").cookieIDs.WORK_TIME_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_TIME_COOKIE_ID}}};e.exports=a}),null);
__d("FantaMercuryThreadEventsBootloaded",["Bootloader","CurrentUser","MercuryThreadInformer","MercuryViewer","MessengerState.bs","WorkplaceChatHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadInformer").get();a={onMessagesReceived:function(a){__p&&__p();g.subscribe("messages-received",function(c,d){__p&&__p();if(!b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()){c=function(c){__p&&__p();var e=d[c],f=function(d){var f=e[d];if(f.author!=b("MercuryViewer").getID()){if(!f.is_unread)return"continue";b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),c,function(d){b("Bootloader").loadModules(["ChatTabPolicy"],function(b){b.messageIsAllowed(d,f,function(){a(c,f)})},"FantaMercuryThreadEventsBootloaded")})}};for(var g=0;g<e.length;g++){var h=f(g);if(h==="continue")continue}};for(var e in d)c(e)}})}};e.exports=a}),null);
__d("FantaTabMainPlaceholder.react",["cx","ChatConfig","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("React").createElement("div",{className:"_59v1"},b("React").createElement("div",{className:"_5qi9 _5qib"},b("React").createElement("div",{className:"_3_9e _s0f _50mz _50m_ fbNub _50-v opened _27_3"},b("React").createElement("div",{className:"fbNubFlyout fbDockChatTabFlyout uiContextualLayerParent _6vu1"},b("React").createElement("div",{className:"fbNubFlyoutOuter"},b("React").createElement("div",{className:"fbNubFlyoutInner _6vu1"+(b("ChatConfig").get("chat_tab_m4_header")?" _6z9d":"")},b("React").createElement("div",{className:"_5-kq"},b("React").createElement(b("XUISpinner.react"),null))))))))};e.exports=a}),null);
__d("FantaTabViewportManager",["Arbiter","DockTabsViewportCalculator","DockTabsViewportFantaTabUtils","FantaTabActions","ifRequired","immutable","isWebMessengerURI","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=b("DockTabsViewportCalculator").getInstance(a);if(!c)return;c.registerFantaTabCallbacks({fantaTabModelStateGetter:function(){var a=b("immutable").Map({});b("ifRequired")("FantaAppStore",function(b){a=b.getState().tabGroup.tabs});return a},onAvailableWidthChanged:function(a){var c=b("DockTabsViewportFantaTabUtils").getTabCountToFitWidth(a),d=function(){b("FantaTabActions").setAllowedRaisedTabs(c)};b("ifRequired")("FantaAppStore",function(a){a=a.getState().tabGroup.allowedRaisedTabs;c!==a&&b("setImmediate")(d)},function(){b("setImmediate")(d)})}});b("Arbiter").subscribe("FantaReducersDockCalculator/shouldRecalculate",function(){c.forceRecalculateChatTabs()});c.forceRecalculateFBDockWidth();b("Arbiter").subscribe("page_transition",function(a,c){b("isWebMessengerURI")(c.uri)&&b("setImmediate")(function(){return b("FantaTabActions").minimizeAllTabs()})})}e.exports={init:a}}),null);
__d("ScriptPathState",["Arbiter"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i,j,k=100,l={setIsUIPageletRequest:function(a){i=a},setUserURISampleRate:function(a){j=a},reset:function(){g=null,h=!1,i=!1},_shouldUpdateScriptPath:function(){return h&&!i},_shouldSendURI:function(){return Math.random()<j},getParams:function(){var a={};l._shouldUpdateScriptPath()?l._shouldSendURI()&&g!==null&&(a.user_uri=g.substring(0,k)):a.no_script_path=1;return a}};b("Arbiter").subscribe("pre_page_transition",function(a,b){h=!0,g=b.to.getUnqualifiedURI().toString()});e.exports=a.ScriptPathState=l}),null);
__d("AjaxPipeRequest",["invariant","Arbiter","AsyncRequest","AsyncRequestConfig","BigPipe","ContextualComponent","CSS","DOM","Env","PageEvents","PageletGK","PageletSet","PageNavigationStageLogger","ScriptPathState","URI","containsNode","ge","goOrReplace","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("PageletGK").destroyDomAfterEventHandler,i,j=0;function k(a,c){__p&&__p();var d=b("ge")(a);if(!d)return;c||(d.style.minHeight="100px");c=b("PageletSet").getPageletIDs();for(var e=0;e<c.length;e++){var f=c[e];if(b("PageletSet").hasPagelet(f)){var g=b("PageletSet").getPagelet(f);b("containsNode")(d,g.getRoot())&&b("PageletSet").removePagelet(f)}}b("Arbiter").inform(b("PageEvents").AJAXPIPE_ONBEFORECLEARCANVAS,{canvasID:a});function i(a){var c=b("ContextualComponent").forNode(a);c&&c.unmount();b("DOM").empty(a)}h?(b("Arbiter").inform("pagelet/destroy",{id:null,root:d}),i(d)):(i(d),b("Arbiter").inform("pagelet/destroy",{id:null,root:d}))}function l(a,c){a=b("ge")(a);a&&!c&&(a.style.minHeight="100px")}function c(a,c,d){"use strict";__p&&__p();this._allowIrrelevantRequests=!1;this._canvas_id=a;this._uri=c;this._query_data=d;a=new(b("AsyncRequest"))();a.disableInteractionServerTracing();a.setReplaceTransportMarkers(!1);this._request=a;this._allow_cross_page_transition=!0;this._arbiter=new(b("Arbiter"))();this._requestID=j++}c.prototype.getArbiter=function(){"use strict";return this._arbiter};c.prototype.setData=function(a){"use strict";this._query_data=a;return this};c.prototype.getData=function(){"use strict";return this._query_data};c.prototype.setAllowCrossPageTransition=function(a){"use strict";this._allow_cross_page_transition=a;return this};c.prototype.setAppend=function(a){"use strict";this._append=a;return this};c.prototype._getAsyncRequestType=function(){"use strict";return b("AsyncRequestConfig").useFetchStreamAjaxPipeTransport?"useFetchWithIframeFallback":"useIframeTransport"};c.prototype.send=function(){"use strict";__p&&__p();this._arbiter.inform(b("PageEvents").AJAXPIPE_SEND,{rid:this._requestID,quickling:!!this._isQuickling,ts:b("performanceAbsoluteNow")()},"persistent");var a={ajaxpipe:1,ajaxpipe_token:b("Env").ajaxpipe_token};Object.assign(a,b("ScriptPathState").getParams());b("ScriptPathState").reset();var c=this._request;if(c==null)return this;c.setOption(this._getAsyncRequestType(),!0).delayPreDisplayJS().setURI(this._uri).setData(Object.assign(a,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(this._allow_cross_page_transition).setAllowIrrelevantRequests(this._allowIrrelevantRequests);this._automatic?this._relevantRequest=i:i=this._request;if(this._isQuickling){a=b("performance").clearResourceTimings||b("performance").webkitClearResourceTimings;a&&a.call(b("performance"))}c.send();return this};c.prototype._preBootloadFirstResponse=function(a){"use strict";return!1};c.prototype._fireDomContentCallback=function(){"use strict";var a=this._request;a&&a.cavalry&&a.cavalry.setTimeStamp("t_domcontent");this._arbiter.inform(b("PageEvents").AJAXPIPE_DOMREADY,!0,"state")};c.prototype._fireOnloadCallback=function(){"use strict";window.console&&console.timeStamp&&console.timeStamp('perf_trace {"name": "e2e", "parent": "PageEvents.AJAXPIPE_ONLOAD"}');var a=this._request;a!=null&&a.cavalry&&(a.cavalry.setTimeStamp("t_hooks"),a.cavalry.setTimeStamp("t_layout"),a.cavalry.setTimeStamp("t_onload"));this._arbiter.inform(b("PageEvents").AJAXPIPE_ONLOAD,{lid:this.pipe.lid,rid:this._requestID,ts:b("performanceAbsoluteNow")()},"state")};c.prototype._isRelevant=function(a){"use strict";return this._request===i||this._automatic&&this._relevantRequest===i||this._jsNonBlock||i!=null&&i.getAllowIrrelevantRequests()};c.prototype._preBootloadHandler=function(a){"use strict";var c=this._request,d=a.getPayload();if(!d||d.redirect||!this._isRelevant(a))return!1;var e=!1;a.is_first&&(!this._append&&!this._displayCallback&&k(this._canvas_id,this._constHeight),e=this._preBootloadFirstResponse(a),c!=null||g(0,36),this.pipe=new(b("BigPipe"))({config:d.bigPipeConfig,arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:c.lid,rid:this._requestID,isAjax:!0,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:b("PageEvents").AJAXPIPE_DOMREADY,onloadEvt:b("PageEvents").AJAXPIPE_ONLOAD,jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback,allowIrrelevantRequests:this._allowIrrelevantRequests}),this.pipe.setPageID(c.lid));return e};c.prototype._redirect=function(c){"use strict";__p&&__p();if(c.redirect){if(c.force||!this.isPageActive(c.redirect)){var d=["ajaxpipe","ajaxpipe_token"].concat(this.getSanitizedParameters());b("PageNavigationStageLogger").setCookieForNavigation(c.redirect);b("PageNavigationStageLogger").setNote("ajaxpipe_redirect");b("PageNavigationStageLogger").updateCookie();b("goOrReplace")(window.location,new(b("URI"))(c.redirect).removeQueryData(d),!0)}else{d=a.PageTransitions;d.go(c.redirect,!0)}return!0}else return!1};c.prototype.isPageActive=function(a){"use strict";return!0};c.prototype.getSanitizedParameters=function(){"use strict";return[]};c.prototype._versionCheck=function(a){"use strict";return!0};c.prototype._onInitialResponse=function(a){"use strict";var b=a.getPayload();if(!this._isRelevant(a))return!1;if(!b)return!0;return this._redirect(b)||!this._versionCheck(b)?!1:!0};c.prototype._processFirstResponse=function(a){"use strict";this._arbiter.inform(b("PageEvents").AJAXPIPE_FIRST_RESPONSE,{lid:this.pipe.lid,quickling:!!this._isQuickling});a=a.getPayload();var c=b("ge")(this._canvas_id);a=a.canvas_class;c!=null&&a!=null&&b("CSS").setClass(c,a)};c.prototype.setFirstResponseCallback=function(a){"use strict";this._firstResponseCallback=a;return this};c.prototype.setFirstResponseHandler=function(a){"use strict";this._processFirstResponse=a;return this};c.prototype._onResponse=function(a){"use strict";__p&&__p();var c=a.payload;if(!this._isRelevant(a))return b("AsyncRequest").suppressOnloadToken;a.is_first&&(this._processFirstResponse(a),this._firstResponseCallback&&this._firstResponseCallback(),c.provides=c.provides||[],c.provides.push("uipage_onload"));if(c){if("content"in c.content){this._append&&(c.append=this._canvas_id);var d=c.content.content;delete c.content.content;c.content[this._canvas_id]=d}this.pipe.onPageletArrive(c)}a.is_last&&l(this._canvas_id,this._constHeight);return b("AsyncRequest").suppressOnloadToken};c.prototype.setNectarModuleDataSafe=function(a){"use strict";this._request!=null&&this._request.setNectarModuleDataSafe(a);return this};c.prototype.setFinallyHandler=function(a){"use strict";this._request!=null&&this._request.setFinallyHandler(a);return this};c.prototype.setErrorHandler=function(a){"use strict";this._request!=null&&this._request.setErrorHandler(a);return this};c.prototype.setTransportErrorHandler=function(a){"use strict";this._request!=null&&this._request.setTransportErrorHandler(a);return this};c.prototype.setResetHandler=function(a){"use strict";this._resetHandler=a;return this};c.prototype.abort=function(){"use strict";this._request!=null&&this._request.abort();this._reset();return this};c.prototype.abandon=function(){"use strict";this._request!=null&&this._request.abandon();this._reset();return this};c.prototype._reset=function(){"use strict";i==this._request&&(i=null),this._request=null,this._resetHandler&&this._resetHandler()};c.prototype.setJSNonBlock=function(a){"use strict";this._jsNonBlock=a;return this};c.prototype.setAutomatic=function(a){"use strict";this._automatic=a;return this};c.prototype.setDisplayCallback=function(a){"use strict";this._displayCallback=a;return this};c.prototype.setConstHeight=function(a){"use strict";this._constHeight=a;return this};c.prototype.setAllowIrrelevantRequests=function(a){"use strict";this._allowIrrelevantRequests=a;return this};c.prototype.getAsyncRequest=function(){"use strict";return this._request};c.getCurrentRequest=function(){"use strict";return i};c.setCurrentRequest=function(a){"use strict";i=a};c.clearCanvas=k;e.exports=c}),null);
__d("UIPageletContentCache",[],(function(a,b,c,d,e,f){a={cache:{},getContent:function(a){return a in this.cache?this.cache[a]:null},setContent:function(a,b){this.cache[a]=b}};e.exports=a}),null);
__d("UIPagelet",["ActorURI","AjaxPipeRequest","AsyncRequest","DOM","HTML","ScriptPathState","UIPageletContentCache","URI","emptyFunction","ge","isElementNode"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c,d){"use strict";__p&&__p();var e=a&&b("isElementNode")(a)?a.id:a;this._id=e||null;this._element=b("ge")(a||b("DOM").create("div"));this._src=c||null;this._context_data=d||{};this._data={};this._handler=b("emptyFunction");this._request=null;this._use_ajaxpipe=!1;this._use_post_request=!1;this._is_bundle=!0;this._allow_cross_page_transition=!1;this._append=!1;this._cache_content=!1;this._content_cache_key=""}g.prototype.getElement=function(){"use strict";return this._element};g.prototype.setHandler=function(a){"use strict";this._handler=a;return this};g.prototype.go=function(a,b){"use strict";arguments.length>=2||typeof a==="string"?(this._src=a,this._data=b||{}):arguments.length==1&&(this._data=a);this.refresh();return this};g.prototype.setAllowCrossPageTransition=function(a){"use strict";this._allow_cross_page_transition=a;return this};g.prototype.setBundleOption=function(a){"use strict";this._is_bundle=a;return this};g.prototype.setErrorHandler=function(a){"use strict";this._errorHandler=a;return this};g.prototype.setTransportErrorHandler=function(a){"use strict";this.transportErrorHandler=a;return this};g.prototype.refresh=function(){"use strict";__p&&__p();if(this._use_ajaxpipe)b("ScriptPathState").setIsUIPageletRequest(!0),this._request=new(b("AjaxPipeRequest"))(this._id,this._src),this._request.setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler),this._errorHandler&&this._request.setErrorHandler(this._errorHandler),this.transportErrorHandler&&this._request.setTransportErrorHandler(this.transportErrorHandler),this._allowIrrelevantRequests!=null&&this._request.setAllowIrrelevantRequests(this._allowIrrelevantRequests);else{if(this._cache_content){var a=b("UIPageletContentCache").getContent(this._content_cache_key);if(a!==null){this.handleContent(a);return this}}var c=function(a){this._request=null;a=b("HTML")(a.getPayload());this.handleContent(a);this._cache_content&&b("UIPageletContentCache").setContent(this._content_cache_key,a)}.bind(this),d=this._displayCallback,e=this._finallyHandler;this._request=new(b("AsyncRequest"))(this._src).setMethod("GET").setReadOnly(!0).setOption("bundle",this._is_bundle).setHandler(function(a){d?d(c.bind(null,a)):c(a),e&&e(a)});this._errorHandler&&this._request.setErrorHandler(this._errorHandler);this.transportErrorHandler&&this._request.setTransportErrorHandler(this.transportErrorHandler);this._use_post_request&&this._request.setMethod("POST")}a=babelHelpers["extends"]({},this._context_data,this._data);this._actorID&&(a[b("ActorURI").PARAMETER_ACTOR]=this._actorID);this._request.setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(a)}).send();return this};g.prototype.handleContent=function(a){"use strict";this._append?b("DOM").appendContent(this._element,a):b("DOM").setContent(this._element,a),this._handler()};g.prototype.cancel=function(){"use strict";this._request&&this._request.abort()};g.prototype.abandon=function(){"use strict";this._request&&this._request.abandon()};g.prototype.setUseAjaxPipe=function(a){"use strict";this._use_ajaxpipe=!!a;return this};g.prototype.setUsePostRequest=function(a){"use strict";this._use_post_request=!!a;return this};g.prototype.setAppend=function(a){"use strict";this._append=!!a;return this};g.prototype.setJSNonBlock=function(a){"use strict";this._jsNonblock=!!a;return this};g.prototype.setAutomatic=function(a){"use strict";this._automatic=!!a;return this};g.prototype.setDisplayCallback=function(a){"use strict";this._displayCallback=a;return this};g.prototype.setConstHeight=function(a){"use strict";this._constHeight=!!a;return this};g.prototype.setFinallyHandler=function(a){"use strict";this._finallyHandler=a;return this};g.prototype.setAllowIrrelevantRequests=function(a){"use strict";this._allowIrrelevantRequests=a;return this};g.prototype.setActorID=function(a){"use strict";this._actorID=a;return this};g.prototype.setCacheContent=function(a){"use strict";this._cache_content=a;return this};g.prototype.setContentCacheKey=function(a){"use strict";this._content_cache_key=a;return this};g.appendToInline=function(a,c){"use strict";a=b("ge")(a);c=b("ge")(c);if(a&&c){while(c.firstChild)b("DOM").appendContent(a,c.firstChild);b("DOM").remove(c)}};g.loadFromEndpoint=function(a,c,d,e){"use strict";__p&&__p();e=e||{};var f="/ajax/pagelet/generic.php/"+a;e.intern&&(f="/intern"+f);e.query&&(f=f+"?"+e.query);f=new(b("URI"))(f.replace(/\/+/g,"/"));e.subdomain&&f.setSubdomain(e.subdomain);var h=!1,i="";e.contentCacheKey&&(h=!0,i=a+","+String(e.contentCacheKey));a=new g(c,f,d).setUseAjaxPipe(e.usePipe).setBundleOption(e.bundle!==!1).setAppend(e.append).setJSNonBlock(e.jsNonblock).setAutomatic(e.automatic).setDisplayCallback(e.displayCallback).setConstHeight(e.constHeight).setAllowCrossPageTransition(e.crossPage).setFinallyHandler(e.finallyHandler||b("emptyFunction")).setErrorHandler(e.errorHandler).setTransportErrorHandler(e.transportErrorHandler).setAllowIrrelevantRequests(e.allowIrrelevantRequests).setActorID(e.actorID).setCacheContent(h).setContentCacheKey(i).setUsePostRequest(e.usePostRequest);e.handler&&a.setHandler(e.handler);a.go();return a};g.loadFromEndpointBatched=function(a,c,d){"use strict";__p&&__p();var e=a.slice(0,d),f=a.slice(d);if(f.length>0){a=e[e.length-1];var h=b("emptyFunction");a.options&&a.options.finallyHandler&&(h=a.options.finallyHandler);a.options=babelHelpers["extends"]({},a.options,{finallyHandler:function(){h(),window.setTimeout(function(){g.loadFromEndpointBatched(f,c,d)},1)}})}e.forEach(function(a){g.loadFromEndpoint(a.controller,a.target_element,a.data,babelHelpers["extends"]({},a.options,c,{bundle:!0}))})};e.exports=g}),null);
__d("FantaTabsAppBase",["Bootloader","ChatAppActions","ChatAppStore","ChatPerfInstrumentation","CSS","JSLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.init=function(a,c,d){__p&&__p();if(this.isInitialized()){b("JSLogger").create("chat_app").error("repeated_init");return}this.$1=a;this.tabsElem=c;var e=b("ChatAppStore").addListener(function(){var a=b("ChatAppStore").getPreviousState(),c=b("ChatAppStore").getState();a.initialDisplayDone===!1&&c.initialDisplayDone===!0&&(b("ChatPerfInstrumentation").logDisplayDone(),e.remove())});b("ChatPerfInstrumentation").init();this.$2(d);this.initializeFantaData(d.interstitial_data);this.initializeFantaUI();this.$3();b("ChatAppActions").tti();b("ChatPerfInstrumentation").logTTI()};a.prototype.isInitialized=function(){return!!b("ChatAppStore").getState().isInitialized};a.prototype.isHidden=function(){var a=b("ChatAppStore").getState();return!!(!a.isInitialized||a.isHidden)};a.prototype.hide=function(){if(this.isHidden())return;b("CSS").hide(this.$1);b("ChatAppActions").hide()};a.prototype.unhide=function(){var a=b("ChatAppStore").getState();a.isInitialized?a.isHidden&&(b("CSS").show(this.$1),d(["Dock"],function(a){a.resizeAllFlyouts()}),b("ChatAppActions").unhide()):a.isLoaded||(d(["UIPagelet"],function(a){a.loadFromEndpoint("ChatTabsPagelet","ChatTabsPagelet"),a.loadFromEndpoint("BuddylistPagelet","BuddylistPagelet")}),b("ChatAppActions").load())};a.prototype.initializeFantaData=function(a){};a.prototype.initializeFantaUI=function(){};a.prototype.$2=function(a){d(["MercuryDeliveryState","MessengerParticipants.bs","MercuryServerPayloadPreprocessor","MessengerState.bs","MercurySyncEnvironment","P2PSendMoneyDialogStore"],function(c,d,e,f,g,h){c.get(),d,g.setUp(),b("ChatPerfInstrumentation").logInitStores(),a.graphql_payload?b("Bootloader").loadModules(["ChatInitialDataTransformer.bs"],function(b){var c=a.graphql_payload;b=b.transform(c);b.message_blocked_ids=c.message_blocked_ids;b.message_ignored_ids=c.message_ignored_ids;b.payload_source=c.payload_source;e.get().handleUpdate(b)},"FantaTabsAppBase"):e.get().handleUpdate(a.initial_data)})};a.prototype.$3=function(){d(["HotLikeSound","ChatOptions"],function(a,c){a.setCheckSoundEnabledFunc(function(){return c.getSetting("sound")}),b("ChatPerfInstrumentation").logInitSound()})};function a(){}e.exports=a}),null);
__d("FantaTabsEagerBootloader",["Bootloader","emptyFunction","ifRequired"],(function(a,b,c,d,e,f){"use strict";var g=function(a){b("ifRequired")("FantaAppStore",function(b){return b.addReducers(a)}),g=b("emptyFunction")};a={bootload:function(){b("ifRequired")("FantaTabsSlimApp",function(a){a.silentPumpUp()}),b("Bootloader").loadModules(["FantaReducersGetMessages","FantaTabsReactApp","MessengerGraphQLThreadFetcher.bs"],function(a){g(a)},"FantaTabsEagerBootloader")}};e.exports=a}),null);
__d("FantaTabsSlimApp",["BootloadOnRender.react","ChatPerfInstrumentation","FantaTabMainPlaceholder.react","FantaTabsAppBase","JSResource","LazyComponent.react","React","ReactDOM","UserActivity","emptyFunction","gkx","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=500;c=babelHelpers.inherits(a,b("FantaTabsAppBase"));g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$FantaTabsSlimApp1=!1,this.$FantaTabsSlimApp3=function(a,c){this.$FantaTabsSlimApp1?b("ifRequired")("FantaMessageActions",function(d){b("setImmediate")(function(){d.receivedNewMessage(a,c)})}):this.$FantaTabsSlimApp2(function(){b("ifRequired")("FantaMessageActions",function(d){b("setImmediate")(function(){d.receivedNewMessage(a,c)})})})}.bind(this),c}a.prototype.getPumpedUp=function(a){this.$FantaTabsSlimApp1?a():this.$FantaTabsSlimApp2(a)};a.prototype.silentPumpUp=function(){this.$FantaTabsSlimApp1||this.$FantaTabsSlimApp2(b("emptyFunction"),!0)};a.prototype.getViewComponent=function(a){a=a?b("React").createElement("div",null):b("React").createElement(b("FantaTabMainPlaceholder.react"),null);return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{loadDataOnMount:!1}),loader:b("JSResource")("FantaMercuryTabsWithMain.react").__setRef("FantaTabsSlimApp"),placeholder:a})};a.prototype.initializeFantaData=function(a){__p&&__p();d(["FantaCookieUtil","MercuryThreadInformer","PresenceState"],function(c,d,e){__p&&__p();e.registerStateLoader(function(d){if(this.$FantaTabsSlimApp1)b("ifRequired")("FantaTabActions",function(e){b("ifRequired")("FantaAppStore",function(b){e.loadFromData(c.convertCookieData(d,b.getState().tabGroup,a))})});else{var e=c.convertCookieData(d,null,a);e&&e.tabs.length>0&&this.$FantaTabsSlimApp2(function(){b("ifRequired")("FantaTabActions",function(a){a.loadFromData(e)})})}}.bind(this)),e.doSync(),d.get().subscribe("threads-updated",function(a,c){b("ifRequired")("FantaGetMessageActions",function(a){Object.keys(c).forEach(function(c){b("setImmediate")(function(){a.refreshThread(c)})})})}),b("ChatPerfInstrumentation").logInitData()}.bind(this))};a.prototype.$FantaTabsSlimApp2=function(a,c){__p&&__p();b("ifRequired")("FantaAppStore",function(b){a()},function(){__p&&__p();d(["FantaAppStore","FantaCookieUtil","FantaMessageActions","FantaTabActions","FantaTabViewportManager","PresenceState"],function(d,e,f,g,j,k){k.registerStateStorer(function(a){if(!b("UserActivity").isOnTab()&&!b("UserActivity").isActive(i)&&!b("gkx")("678595"))return a;var c=d.getState().tabGroup;if(!h||h&&!h.equals(c)){h=c;return e.createCookieData(c,a)}else return a}),b("ReactDOM").render(this.getViewComponent(c),this.tabsElem),j.init(this.tabsElem),this.$FantaTabsSlimApp1=!0,a()}.bind(this))}.bind(this))};a.prototype.initializeFantaUI=function(){d(["FantaMercuryThreadEventsBootloaded","FantaMessageActions","FantaTabActions","FantaTabViewportManager","FBRTCMessageHandler","MercuryBrowserAlerts"],function(a,c,d,e,f,g){f.init(),g.init(),a.onMessagesReceived(this.$FantaTabsSlimApp3),b("ChatPerfInstrumentation").logInitUI(),b("ChatPerfInstrumentation").logDisplayDone()}.bind(this))};e.exports=new a()}),null);
__d("M4ThreadFillDetect.bs",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a.style}function c(a,b){a.appendChild(b);return 0}try{d=document.createElement("div");e=document.createElement("div");var g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("div"),k=document.createElement("div"),l=document.createElement("table");d.appendChild(e);d.appendChild(k);e.appendChild(g);k.appendChild(l);g.appendChild(h);h.appendChild(i);h.appendChild(j);d.style.position="absolute";d.style.marginLeft="-999px";d.style.contain="layout";e.style.height="200px";e.style.display="flex";e.style.visibility="hidden";e.style.flexDirection="column";e.style.position="relative";g.style.flexBasis="0px";g.style.flexGrow="1";g.style.flexShrink="0";g.style.position="relative";h.style.display="flex";h.style.flexDirection="column";h.style.minHeight="100%";i.style.flexGrow="1";j.style.height="50px";k.style.height="200px";k.style.visibility="hidden";k.style.position="relative";l.style.minHeight="100%";e=document.body;e.appendChild(d);g=i.clientHeight===150;h=l.clientHeight===200;document.body.removeChild(d);j=g?0:h?1:2}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)j=3;else throw a}k=j===2||j===1?1:0;e=k?"TABLE":"FLEX";f.getStylesheet=a;f.appendChild=c;f.measuredTechnique=j;f.technique=k;f.forJS=e}),null);
__d("FantaThread.react",["cx","M4ThreadFillDetect.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("M4ThreadFillDetect.bs").forJS;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.setRef=function(a){this.$1=a,typeof this.props.scrollRef==="function"&&this.props.scrollRef(a)}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.children;a=a.spacerContent;return b("React").createElement("div",{className:"_1i6a",onClick:this.props.onClick},b("React").createElement("div",{className:"_4po3"+(i==="FLEX"?" _4poa":"")+(i==="TABLE"?" _4po4":""),ref:this.setRef},b("React").createElement("div",{className:"_4po5"},b("React").createElement("div",{className:"_4po6"},b("React").createElement("div",{className:"_4po7"},a)),b("React").createElement("div",{className:"_4po8"},b("React").createElement("div",{className:"_4po9"},c)))))};e.exports=a}),null);
__d("MercuryJewelBootloadModules",["BootloadOnInteraction","JSResource","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=[b("JSResource")("MercuryJewel").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryThreadInformer").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MessengerState.bs").__setRef("MercuryJewelBootloadModules"),b("JSResource")("Toggler").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MessengerGraphQLThreadlistFetcher.bs").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryServerRequests").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryJewelUnreadCount.bs").__setRef("MercuryJewelBootloadModules")];function i(a,b){g=g||new a(b,b.bootload_args)}function j(a,b){i(a,b),b.inform("opened")}a={mount:function(a,c){c===void 0&&(c=b("emptyFunction"));var d=a.getButton();b("BootloadOnInteraction").mount(d,h,function(b){j(b,a)},function(){c()})},load:function(a){b("JSResource").loadAll(h,function(b){j(b,a)})},loadModules:function(a){b("JSResource").loadAll(h,function(b){i(b,a)})}};e.exports=a}),null);
__d("SearchI18nArabic",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/[\u0600-\u06FF]/;function h(a){return g.test(a)}var i={1570:1575,1571:1575,1573:1575,1649:1575,1609:1610,1577:1607,1572:1569,1574:1569},j=[1600,1611,1612,1613,1614,1615,1616,1617,1618];function k(a){return Object.prototype.hasOwnProperty.call(i,a)?String.fromCharCode(i[a]):j.indexOf(a)!=-1?"":String.fromCharCode(a)}function a(a){if(!h(a))return a;var b=[];for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b.push(k(d))}return b.join("")}b={hasArabicCharacters:h,normalizeCharCode:k,arabicNormalization:a};e.exports=b}),null);
__d("UnicodeCJK",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();f="a-zA-Z";var g="\uff21-\uff3a\uff41-\uff5a",h=f+g;f="\u3040-\u309f";g="\u30a0-\u30ff";var i="\u31f0-\u31ff",j="\uff65-\uff9f";g=g+i+j;var k=f+g,l=[12352,12447];i=[12448,12543];var m=i[0]-l[0];j="\u4e00-\u9fcf";f="\u3400-\u4dbf";var n=j+f;g="\uac00-\ud7af";var o=n+k+g,p=null,q=null,r=null,s=null;function t(a){q=q||new RegExp("["+k+"]");return q.test(a)}function a(a){p=p||new RegExp("["+n+"]");return p.test(a)}function b(a){r=r||new RegExp("["+o+"]");return r.test(a)}function u(a){a=a.charCodeAt(0);return String.fromCharCode(a<l[0]||a>l[1]?a:a+m)}function c(a){return!t(a)?a:a.split("").map(u).join("")}function v(a){s=s||new RegExp("^["+k+"]+["+h+"]$");return s.test(a)}function d(a){return v(a)?a.substr(0,a.length-1):a}i={hasKana:t,hasIdeograph:a,hasIdeoOrSyll:b,hiraganaToKatakana:c,isKanaWithTrailingLatin:v,kanaRemoveTrailingLatin:d};e.exports=i}),null);
__d("UnicodeHangulKorean",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/[\u3130-\u318F\uAC00-\uD7AF]/;function h(a){return g.test(a)}var i=[4352,4353,4522,4354,4524,4525,4355,4356,4357,4528,4529,4530,4531,4532,4533,4378,4358,4359,4360,4385,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4448,4372,4373,4551,4552,4556,4558,4563,4567,4569,4380,4573,4575,4381,4382,4384,4386,4387,4391,4393,4395,4396,4397,4398,4399,4402,4406,4416,4423,4428,4593,4594,4439,4440,4441,4484,4485,4488,4497,4498,4500,4510,4513],j=12593;b=i.length;var k=j+b;function l(a){return String.fromCharCode(i[a-j])}var m=4352,n=4449,o=4519,p=44032;c=19;d=21;var q=28,r=d*q;f=c*r;var s=p+f;function t(a){a=a-p;var b=a%q;return String.fromCharCode(m+a/r)+String.fromCharCode(n+a%r/q)+(b>0?String.fromCharCode(o+b):"")}function a(a){if(!h(a))return a;var b=[];for(var c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b.push(j<=e&&e<k?l(e):p<=e&&e<s?t(e):d)}return b.join("")}b={toConjoiningJamo:a};e.exports=b}),null);
__d("SearchI18nMatch",["invariant","SearchI18nArabic","UnicodeCJK","UnicodeHangulKorean","createObjectFrom","mapObject"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["prefix_hangul_conjoining_jamo","prefix_kana_drop_trailing_latin","prefix_kana_hiragana_to_katakana","search_i18n_prefix_arabic_normalization"];function a(a){this.config=b("createObjectFrom")(h,!1),this.setConfigs(a||{})}a.prototype.setConfigs=function(a){b("mapObject")(a,function(a,b){return this.setConfig(b,a)}.bind(this),this)};a.prototype.setConfig=function(a,b){a in this.config||g(0,5344,a),this.config[a]=b};a.prototype.prefixMatchPrepare=function(a){a&&(this.config.prefix_hangul_conjoining_jamo&&(a=b("UnicodeHangulKorean").toConjoiningJamo(a)),this.config.prefix_kana_drop_trailing_latin&&(a=b("UnicodeCJK").kanaRemoveTrailingLatin(a)),this.config.prefix_kana_hiragana_to_katakana&&(a=b("UnicodeCJK").hiraganaToKatakana(a)),this.config.search_i18n_prefix_arabic_normalization&&(a=b("SearchI18nArabic").arabicNormalization(a)));return a};a.prototype.prefixMatch=function(a,b){a=this.prefixMatchPrepare(a);b=this.prefixMatchPrepare(b);return a.startsWith(b)};e.exports=a}),null);
__d("DataSource",["ArbiterMixin","AsyncRequest","SearchI18nMatch","TokenizeUtil","createArrayFromMixed","createObjectFrom","emptyFunction","mixin","str2rstr"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this._maxResults=a.maxResults||10,this.token=a.token,this.queryData=a.queryData||{},this.queryEndpoint=a.queryEndpoint||"",this.bootstrapData=a.bootstrapData||{},this.bootstrapEndpoint=a.bootstrapEndpoint||"",this.globalKeywordsEndpoint=a.globalKeywordsEndpoint||"",this._indexedFields=a.indexedFields||["text","tokens"],this._titleFields=a.titleFields||[],this._alwaysPrefixMatch=a.alwaysPrefixMatch||!1,this._deduplicationKey=a.deduplicationKey||null,this._enabledLocalCache=a.enabledLocalCache!=null?a.enabledLocalCache:!0,this._enabledQueryCache=a.enabledQueryCache!=null?a.enabledQueryCache:!0,this._disableAllCaches=a.disableAllCaches!=null?a.disableAllCaches:!1,this._enabledMergeUids=a.enabledMergeUids!=null?a.enabledMergeUids:!1,this._queryExactMatch=a.queryExactMatch||!1,this._acrossTransitions=a.acrossTransitions||!1,this._minQueryLength=a.minQueryLength||-1,this._enforceNewRequestIDUponFetch=a.enforceNewRequestIDUponFetch||!1,this._minExactMatchLength=4,this._filters=[],this._headerflags=a.headerflags||new Map(),this.transport=null,this.setExclusions(a.exclusions),this.backendUnicodeMatch=new(b("SearchI18nMatch"))({prefix_kana_hiragana_to_katakana:!!a.kanaNormalization}),this.cacheUnicodeMatch=new(b("SearchI18nMatch"))({prefix_kana_hiragana_to_katakana:!!a.kanaNormalization})}a.prototype.init=function(){"use strict";this.init=b("emptyFunction"),this._fields=b("createObjectFrom")(this._indexedFields),this._activeQueries=0,this.dirty()};a.prototype.dirty=function(){"use strict";__p&&__p();this.value="";this._bootstrapped=!1;this._bootstrapping=!1;this._data=Object.create(null);this.localCache={};this.queryCache={};this.queryIDs={};this.inform("dirty",{});return this};a.prototype.bootstrap=function(a){a===void 0&&(a=!1);if(this._bootstrapped&&!a)return;this.bootstrapWithoutToken();this._bootstrapped=!0;this._bootstrapping=!0;this.inform("bootstrap",{bootstrapping:!0})};a.prototype.bootstrapWithoutToken=function(){"use strict";this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:!0,token:this.token})};a.prototype.bootstrapWithToken=function(){"use strict";var a=babelHelpers["extends"]({},this.bootstrapData);a.token=this.token;this.fetch(this.bootstrapEndpoint,a,{bootstrap:!0,replaceCache:!0,value:""})};a.prototype.query=function(a,b,c,d,e){"use strict";__p&&__p();this.inform("beforeQuery",babelHelpers["extends"]({value:a,local_only:b,exclusions:c,time_waited:d},e));d=Date.now();if(this._disableAllCaches){this.dirty();if(!a){this.bootstrap();return!0}}else this._enabledQueryCache||(this.queryCache={},this.queryIDs={});var f=this.buildUids(a,[],c),g=this.respond(a,f);this.value=a;this.inform("query",babelHelpers["extends"]({value:a,results:g},e));var h=this.tokenizeBackend(a).flatValue;if(b||!h||this._isQueryTooShort(h)||!this.queryEndpoint||Object.prototype.hasOwnProperty.call(this.getQueryCache(),h)||!this.shouldFetchMoreResults(g)){this.inform("logPerformanceTiming",babelHelpers["extends"]({field:"cache_keypress_render",value:Date.now()-d},e));this.inform("completeCacheFetch");return!1}this.inform("queryEndpoint",babelHelpers["extends"]({value:a},e));this.fetch(this.queryEndpoint,this.getQueryData(a,f),babelHelpers["extends"]({value:a,exclusions:c},e));return!0};a.prototype._isQueryTooShort=function(a){"use strict";return a.length<this._minQueryLength};a.prototype._tokenize=function(a,c){"use strict";return b("TokenizeUtil").parse(a,c)};a.prototype.tokenizeBackend=function(a,b){"use strict";a=this.backendUnicodeMatch.prefixMatchPrepare(a);return this._tokenize(a,b)};a.prototype.tokenizeCache=function(a,b){"use strict";a=this.cacheUnicodeMatch.prefixMatchPrepare(a);return this._tokenize(a,b)};a.prototype.shouldFetchMoreResults=function(a){"use strict";return a.length<this._maxResults};a.prototype.getQueryData=function(a,b){"use strict";a=babelHelpers["extends"]({value:a},this.queryData);b=b||[];b.length&&(a.existing_ids=b.join(","));this._bootstrapping&&(a.bsp=!0);return a};a.prototype.setQueryData=function(a,b){"use strict";b&&(this.queryData={});Object.assign(this.queryData,a);return this};a.prototype.setBootstrapData=function(a,b){"use strict";b&&(this.bootstrapData={});Object.assign(this.bootstrapData,a);return this};a.prototype.getExclusions=function(){"use strict";return b("createArrayFromMixed")(this._exclusions)};a.prototype.setExclusions=function(a){"use strict";this._exclusions=a?a.map(String):[]};a.prototype.addFilter=function(a){"use strict";var b=this._filters;b.push(a);return{remove:function(){b.splice(b.indexOf(a),1)}}};a.prototype.clearFilters=function(){"use strict";this._filters=[]};a.prototype.notify=function(a,b,c,d){"use strict";b=this.buildData(b);this.inform("notify",{value:a,results:b,isAsync:!!c,rootid:d});return b};a.prototype.respond=function(a,b,c){"use strict";b=this.buildData(b);this.processResults(a,b,c);this.inform("respond",{value:a,results:b,isAsync:!!c});return b};a.prototype.respondWithResults=function(a,b,c){"use strict";this.processResults(a,b,c);this.inform("respond",{value:a,results:b,isAsync:!!c});return b};a.prototype.processResults=function(a,b,c){"use strict";__p&&__p();if(this.bootstrapData.alwaysShowEcho){c=-1;for(var d=0;d<b.length;++d)if(b[d].text.toLowerCase()===a.toLowerCase()){c=d;break}d={};c===-1?(d={bootstrapped:!1,index:0,query:a,render_type:"hashtag",text:a,type:"hashtag",uid:this.getUniqueID()},b.map(function(a){a.index+=1}),b.unshift(d)):c>0&&(d=b.splice(c,1)[0],b.unshift(d),b.map(function(a,b){a.index=b}))}};a.prototype.getUniqueID=function(){"use strict";var a="_"+Math.random().toString(36).substr(2,9);while(this._data[a]!==undefined)a="_"+Math.random().toString(36).substr(2,9);return a};a.prototype.fetch=function(a,c,d){"use strict";__p&&__p();if(!a)return;(this._enforceNewRequestIDUponFetch||c.request_id===undefined)&&(c.request_id=this._guid(),d.request_id=c.request_id);c=new(b("AsyncRequest"))().setURI(a).setData(c).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(a){this.fetchHandler(a,d||{})}.bind(this));if(a===this.queryEndpoint){for(var e=this._headerflags,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];c.setRequestHeader(i,h)}c.setFinallyHandler(function(){this._activeQueries--,this._activeQueries||this.inform("activity",{activity:!1})}.bind(this))}c.setErrorHandler(function(a){return this.asyncErrorHandler(a,d)}.bind(this));this.inform("beforeFetch",{request:c,fetch_context:d});c.send();this.transport=c.transport;a===this.queryEndpoint&&(this._activeQueries||this.inform("activity",{activity:!0}),this._activeQueries++)};a.prototype.fetchHandler=function(a,b){"use strict";__p&&__p();var c=b.value,d=b.exclusions;a.getPayload().requestID!==undefined&&(b.request_id=a.getPayload().requestID);var e=this.getQueryIDs(),f=this.tokenizeBackend(c||"").flatValue;e[f]=b.request_id;!c&&b.replaceCache&&(this.localCache={});this.inform("buildQueryCache",{});e=a.getPayload().entries;this.addEntries(e,c);this.inform("fetchComplete",{entries:e,response:a,value:c,fetch_context:b});f=!c&&this.value?this.value:c;this.respond(f,this.buildUids(f,[],d),!0);c||(this._bootstrapping&&(this._bootstrapping=!1,this.inform("bootstrap",{bootstrapping:!1})),b.token&&a.getPayload().token!==b.token&&this.bootstrapWithToken())};a.prototype.addEntries=function(a,c){"use strict";__p&&__p();a=this.processEntries(b("createArrayFromMixed")(a||[]),c);var d=a;this._enabledMergeUids&&(d=this.buildUids(c,a));if(c){var e=this.getQueryCache();c=this.tokenizeBackend(c).flatValue;e[c]=d}else this.fillCache(d);return a};a.prototype.processEntries=function(a,b){"use strict";return a.map(function(a,c){var d=a.uid=a.uid+"",e=this.getEntry(d);!e?(e=a,e.query=b,e.bootstrapped=!b,this.setEntry(d,e)):Object.assign(e,a);this.processEntry(e,b);e.index===undefined&&(e.index=c);return d},this)};a.prototype.processEntry=function(a,b){"use strict"};a.prototype.getAllEntries=function(){"use strict";return this._data||{}};a.prototype.getEntry=function(a){"use strict";return this._data[a]||null};a.prototype.setEntry=function(a,b){"use strict";this._data[a]=b};a.prototype.fillCache=function(a){"use strict";__p&&__p();if(!this._enabledLocalCache)return;var b=this.localCache;a.forEach(function(a){var c=this.getEntry(a);if(!c)return;c=this.tokenizeCache(this.getTextToIndex(c)).tokens;for(var d=0,e=c.length;d<e;++d){var f=c[d];Object.prototype.hasOwnProperty.call(b,f)||(b[f]={});b[f][a]=!0}},this)};a.prototype.getTextToIndex=function(a){"use strict";if(a.textToIndex&&!a.needs_update)return a.textToIndex;a.needs_update=!1;a.textToIndex=this.getTextToIndexFromFields(a,this._indexedFields);return a.textToIndex};a.prototype.getTextToIndexFromFields=function(a,b){"use strict";var c=[];for(var d=0;d<b.length;++d){var e=a[b[d]];e&&c.push(e.join?e.join(" "):e)}return c.join(" ")};a.prototype.mergeUids=function(a,b,c,d){"use strict";this.inform("mergeUids",{local_uids:a,query_uids:b,new_uids:c,value:d});this._checkExtendedMatch(d,a);return this.deduplicateByKey(a.sort(this.bootstrapSort.bind(this)).concat(b,c))};a.prototype.bootstrapSort=function(a,b){"use strict";__p&&__p();a=this.getEntry(a);b=this.getEntry(b);if(a.extended_match!==b.extended_match)return a.extended_match?1:-1;if(a.index!==b.index)return a.index-b.index;if(a.text.length!==b.text.length)return a.text.length-b.text.length;return a.text===b.text?a.uid<b.uid?-1:1:a.text<b.text?-1:1};a.prototype._checkExtendedMatch=function(a,c){"use strict";var d=this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch:b("TokenizeUtil").isQueryMatch;for(var e=0;e<c.length;++e){var f=this.getEntry(c[e]);f.extended_match=f.tokens?!d(a,f.text):!1}};a.prototype.buildUids=function(a,c,d){"use strict";__p&&__p();c||(c=[]);if(!a)return c;d||(d=[]);var e=this.buildCacheResults(a,this.localCache),f=this.buildQueryResults(a);e=this.mergeUids(e,f,c,a);var g=b("createObjectFrom")(d.concat(this._exclusions));f=e.filter(function(b){if(Object.prototype.hasOwnProperty.call(g,b)||!this.getEntry(b))return!1;for(var c=0;c<this._filters.length;++c)if(!this._filters[c](this.getEntry(b),a))return!1;return g[b]=!0},this);return this.uidsIncludingExact(a,f)};a.prototype.uidsIncludingExact=function(a,c){"use strict";__p&&__p();var d=c.length;if(d<=this._maxResults||b("str2rstr")(a).length<this._minExactMatchLength)return c;for(var e=0;e<d;++e){var f=this.getEntry(c[e]);f.text_lower||(f.text_lower=f.text.toLowerCase());if(f.text_lower===this.tokenizeCache(a).flatValue){if(e>=this._maxResults){f=c.splice(e,1)[0];c.splice(this._maxResults-1,0,f)}break}}return c};a.prototype.buildData=function(a){"use strict";var b=[],c=Math.min(a.length,this._maxResults);for(var d=0;d<c;++d)b.push(this.getEntry(a[d]));return b};a.prototype.findBestPreviousQuery=function(a,b){"use strict";var c=0,d=null;if(this._queryExactMatch)return Object.prototype.hasOwnProperty.call(b,a)?a:null;for(var e in b)a.indexOf(e)===0&&e.length>c&&(c=e.length,d=e);return d};a.prototype.findQueryCache=function(a){"use strict";a=this.findBestPreviousQuery(a,this.getQueryCache());return this.getQueryCache()[a]||[]};a.prototype.buildQueryResults=function(a){"use strict";a=this.tokenizeBackend(a).flatValue;var b=this.findQueryCache(a);if(Object.prototype.hasOwnProperty.call(this.getQueryCache(),a))return b;a=this.filterQueryResults(a,b);return a};a.prototype.filterQueryResults=function(a,c){"use strict";var d=this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch:b("TokenizeUtil").isQueryMatch;return c.filter(function(b){return d(a,this.getTextToIndex(this.getEntry(b)))},this)};a.prototype.buildCacheResults=function(a,b){"use strict";__p&&__p();var c=this.tokenizeCache(a,this._alwaysPrefixMatch),d=this._alwaysPrefixMatch?c.sortedTokens:c.tokens,e=d.length;c=c.isPrefixQuery?e-1:null;var f={},g={},h={},i=[],j=!1,k={},l=0;for(var m=0;m<e;++m){var n=d[m];if(!Object.prototype.hasOwnProperty.call(k,n))l++,k[n]=!0;else continue;for(var o in b)if(!Object.prototype.hasOwnProperty.call(f,o)&&o===n||(this._alwaysPrefixMatch||c===m)&&this.cacheUnicodeMatch.prefixMatch(o,n)){o===n?(Object.prototype.hasOwnProperty.call(g,o)&&(j=!0),f[o]=!0):((Object.prototype.hasOwnProperty.call(f,o)||Object.prototype.hasOwnProperty.call(g,o))&&(j=!0),g[o]=!0);for(var p in b[o])(m===0||Object.prototype.hasOwnProperty.call(h,p)&&h[p]==l-1)&&(h[p]=l)}}for(var q in h)h[q]==l&&i.push(q);(j||l<e)&&(i=this.filterQueryResults(a,i));this._titleFields&&this._titleFields.length>0&&(i=this.filterNonTitleMatchQueryResults(a,i));return i};a.prototype.filterNonTitleMatchQueryResults=function(a,c){"use strict";return c.filter(function(c){var d=this.tokenizeCache(a),e=d.tokens.length;if(e===0)return!0;c=this.getTitleTerms(this.getEntry(c));d=d.tokens[0];return e===1||this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch(d,c)||this.cacheUnicodeMatch.prefixMatch(c,d):b("TokenizeUtil").isQueryMatch(d,c)},this)};a.prototype.getTitleTerms=function(a){"use strict";a.titleToIndex||(a.titleToIndex=this.getTextToIndexFromFields(a,this._titleFields));return a.titleToIndex};a.prototype.deduplicateByKey=function(a){"use strict";if(!this._deduplicationKey)return a;var c=b("createObjectFrom")(a.map(this._getDeduplicationKey.bind(this)),a);return a.filter(function(a){return c[this._getDeduplicationKey(a)]==a}.bind(this))};a.prototype._getDeduplicationKey=function(a){"use strict";var b=this.getEntry(a);if(b[this._deduplicationKey])return b[this._deduplicationKey]+"";else return"__"+a+"__"};a.prototype.getQueryCache=function(){"use strict";return this.queryCache};a.prototype.getQueryIDs=function(){"use strict";return this.queryIDs};a.prototype.setMaxResults=function(a){"use strict";this._maxResults=a,this.value&&this.respond(this.value,this.buildUids(this.value))};a.prototype.getMaxResults=function(){"use strict";return this._maxResults};a.prototype.updateToken=function(a){"use strict";this.token=a;this.dirty();return this};a.prototype.getResponseHeaderValue=function(a){"use strict";var b="";this.transport&&(b=this.transport.getResponseHeader(a),b||(b=""));return b};a.prototype._guid=function(){"use strict";var a=Date.now(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=Math.floor((a+Math.random()*16)%16);a=Math.floor(a/16);b=(b=="x"?c:c&7|8).toString(16);return b});return b};Object.assign(a.prototype,{events:["bootstrap","query","respond"],asyncErrorHandler:b("emptyFunction")});e.exports=a}),null);
__d("MercuryAudienceRestrictedTypeaheadDataSource",["CurrentUser","DataSource","MercuryParticipantTypes","MercuryTypeaheadConstants","OrderedFriendsList","ShortProfiles"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("DataSource"));g=c&&c.prototype;function a(a){"use strict";a=a||{},a.kanaNormalization=!0,a.maxResults=b("MercuryTypeaheadConstants").COMPOSER_CHATTAB_MAX,a.minQueryLength=2,g.constructor.call(this,a),this.$MercuryAudienceRestrictedTypeaheadDataSource1=!1,this.$MercuryAudienceRestrictedTypeaheadDataSource2=!1,this.$MercuryAudienceRestrictedTypeaheadDataSource3={},this.$MercuryAudienceRestrictedTypeaheadDataSource4=!0,this.queryCache={},this.localCache={},this.queryIDs={}}a.prototype.dirty=function(){"use strict";return this};a.prototype.buildData=function(a){"use strict";return g.buildData.call(this,a)};a.prototype.query=function(a,b,c,d){"use strict";b=b||a.length===1;return g.query.call(this,a,b,c,d)};a.prototype.getQueryData=function(a,b){"use strict";return babelHelpers["extends"]({},g.getQueryData.call(this,a,b))};a.prototype.setEntry=function(a,b){"use strict";this.$MercuryAudienceRestrictedTypeaheadDataSource3[a]=b};a.prototype.getEntry=function(a){"use strict";return this.$MercuryAudienceRestrictedTypeaheadDataSource3[a]||null};a.prototype.getCachedShortProfileIDs=function(){"use strict";var a=b("ShortProfiles").getCachedProfileIDs();a=a.filter(function(a){var c=b("ShortProfiles").getNow(a);return a==b("CurrentUser").getID()||c&&(c.type===b("MercuryParticipantTypes").FRIEND||c.type===b("MercuryParticipantTypes").FB4C)});return a};a.prototype.isBootstrapped=function(){"use strict";return this.$MercuryAudienceRestrictedTypeaheadDataSource1};a.prototype.isBootstrapping=function(){"use strict";return this.$MercuryAudienceRestrictedTypeaheadDataSource2};a.prototype.processEntries=function(a,c){"use strict";a=a&&a.map(function(a){a.index==null&&(a.render_type===b("MercuryParticipantTypes").FRIEND||a.render_type===b("MercuryParticipantTypes").FB4C)&&(a.index=b("OrderedFriendsList").getActiveRank(a.uid));return a});return g.processEntries.call(this,a)};a.prototype.mergeUids=function(a,b,c,d){"use strict";b=b.sort(function(a,b){a=this.getEntry(a);b=this.getEntry(b);return a&&a.index&&b&&b.index?a.index-b.index:0}.bind(this));return g.mergeUids.call(this,a,b,c,d)};a.prototype.setQueryData=function(a,b){"use strict";return g.setQueryData.call(this,a)};a.prototype.respond=function(a,b,c){"use strict";return g.respond.call(this,a,b,c)};a.prototype.setShowThreads=function(a){"use strict";this.$MercuryAudienceRestrictedTypeaheadDataSource4=a};e.exports=a}),null);
__d("MNCommerceDialogContainerMount",["MNCommerceDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").createElement(b("MNCommerceDialogContainer.react"),null),a)}};e.exports=a}),null);
__d("MercuryTypeaheadDataSource",["CurrentUser","DataSource","MercuryParticipantTypes","MercuryTypeaheadConstants","OrderedFriendsList","ShortProfiles","WorkModeConfig"],(function(a,b,c,d,e,f){__p&&__p();var g,h=[],i={},j={},k={},l=[],m=[],n=[],o=!1,p=!1;c=babelHelpers.inherits(a,b("DataSource"));g=c&&c.prototype;function a(a){"use strict";a=a||{},a.kanaNormalization=!0,g.constructor.call(this,a),this.showDefaultList=a.showDefaultList||!1}a.prototype.dirty=function(){"use strict";this.$MercuryTypeaheadDataSource1=h;this.localCache=j;this.queryCache=i;this.queryIDs=k;this.defaultList=l;this.topEntryIDs=m;this.nullStateExclusions=n;return this};a.prototype.bootstrap=function(){"use strict";if(o||p)return!1;p=!0;b("ShortProfiles").fetchAll().then(function(){this.updateBootstrapData(),p=!1,o=!0,this.showDefaultList&&this.inform("show-default",{impressions:this.defaultList})}.bind(this),function(){}.bind(this));return!0};a.prototype.updateBootstrapData=function(){"use strict";__p&&__p();var a=this.getCachedShortProfileIDs(),c=b("WorkModeConfig").is_work_user?b("MercuryParticipantTypes").FB4C:b("MercuryParticipantTypes").FRIEND;a=a.map(function(a){var d=b("ShortProfiles").getNow(a),e=a==b("CurrentUser").getID()?c:d.type,f=[d.additionalName,d.alternateName].concat(d.searchTokens||[]).join(" "),g=d.name,h=null;return{uid:a,index:b("OrderedFriendsList").getActiveRank(a),text:g,subtext:h,tokens:f,localized_text:d.name,additional_text:d.additionalName,photo:d.thumbSrc,render_type:e,type:b("MercuryTypeaheadConstants").USER_TYPE}});a.length&&this.addEntries(a);if(!this.showDefaultList)return;m=a.sort(function(a,b){return a.index-b.index}).map(function(a){return a.uid});this.defaultList=this.buildData(m.slice(0,5));this.topEntryIDs=m};a.prototype.updateDefaultList=function(a){"use strict";if(!a)return;this.nullStateExclusions.includes(a)?this.nullStateExclusions=this.nullStateExclusions.filter(function(b){return b!==a}):this.nullStateExclusions.push(a);l=this.topEntryIDs.filter(function(a){return!this.nullStateExclusions.includes(a)}.bind(this));this.defaultList=this.buildData(l.slice(0,5))};a.prototype.query=function(a,b,c,d){"use strict";b=b||a.length===1;return g.query.call(this,a,b,c,d)};a.prototype.getQueryData=function(a,b){"use strict";return babelHelpers["extends"]({},g.getQueryData.call(this,a,b))};a.prototype.setEntry=function(a,b){"use strict";this.$MercuryTypeaheadDataSource1[a]=b};a.prototype.getEntry=function(a){"use strict";return this.$MercuryTypeaheadDataSource1[a]||null};a.prototype.getCachedShortProfileIDs=function(){"use strict";var a=b("ShortProfiles").getCachedProfileIDs();a=a.filter(function(a){var c=b("ShortProfiles").getNow(a);return a==b("CurrentUser").getID()||c.type===b("MercuryParticipantTypes").FRIEND||c.type===b("MercuryParticipantTypes").FB4C});return a};a.prototype.isBootstrapped=function(){"use strict";return o};a.prototype.isBootstrapping=function(){"use strict";return p};a.prototype.processEntries=function(a,c){"use strict";a=a.map(function(a){a.index==null&&(a.render_type===b("MercuryParticipantTypes").FRIEND||a.render_type===b("MercuryParticipantTypes").FB4C)&&(a.index=b("OrderedFriendsList").getActiveRank(a.uid));return a});return g.processEntries.call(this,a)};a.prototype.mergeUids=function(a,b,c,d){"use strict";b=b.sort(function(a,b){return this.getEntry(a).index-this.getEntry(b).index}.bind(this));return g.mergeUids.call(this,a,b,c,d)};a.prototype.setShowDefaultList=function(a){"use strict";this.showDefaultList=a};e.exports=a}),null);
__d("ChatTabTypeaheadDataSource",["MercuryConfig","MercuryTypeaheadConstants","MercuryTypeaheadDataSource"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("MercuryTypeaheadDataSource"));g=c&&c.prototype;function a(a){"use strict";a=a||{},a.maxResults=b("MercuryTypeaheadConstants").COMPOSER_CHATTAB_MAX,a.showDefaultList=b("MercuryConfig").ChatComposer,g.constructor.call(this,a),this.$ChatTabTypeaheadDataSource1=!0}a.prototype.buildData=function(a){"use strict";__p&&__p();var c=[],d=[],e=[],f=[],h=[],i=[],j=[],k=!this.$ChatTabTypeaheadDataSource1;a.forEach(function(a){__p&&__p();var i=g.getEntry.call(this,a);switch(i.render_type){case b("MercuryTypeaheadConstants").FRIEND_TYPE:c.push(a);break;case b("MercuryTypeaheadConstants").THREAD_TYPE:this.$ChatTabTypeaheadDataSource1&&d.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:f.push(a);break;case b("MercuryTypeaheadConstants").PAGE_TYPE:k||h.push(a);break;case b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:i=!k||i.can_add_to_group_chat;i&&j.push(a);break;default:break}}.bind(this),this);a=i.concat(c,f,d,h,e,j);return g.buildData.call(this,a)};a.prototype.query=function(a,b,c,d){"use strict";return g.query.call(this,a,b,c,d)};a.prototype.respond=function(a,b,c){"use strict";return g.respond.call(this,a,b,c)};a.prototype.setShowThreads=function(a){"use strict";this.$ChatTabTypeaheadDataSource1=a};e.exports=a}),null);
__d("NotificationJewelReminderLoader",["promiseDone"],(function(a,b,c,d,e,f){e.exports={init:function(a,c){b("promiseDone")(a.load(),function(a){a.init(c)})}}}),null);
__d("P2PDialogContainerMount",["P2PDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").createElement(b("P2PDialogContainer.react"),null),a)}};e.exports=a}),null);
__d("PagesPlatformDialogContainerMount",["PagesPlatformDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").createElement(b("PagesPlatformDialogContainer.react"),null),a)}};e.exports=a}),null);
__d("ViewasChromeBar",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","Focus","ModalMask","PageTransitionsRegistrar","Parent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="ViewasChromeBar/initialized",j=null,k=!1;function l(a){b("Arbiter").subscribe(i,a)}function m(a){b("CSS").addClass(a,"_7g7");a=b("DOM").find(a,"._7g0");b("Focus").set(b("DOM").find(a,".textInput"))}a={initChromeBar:function(a){if(k)return;j=a;k=!0;b("Arbiter").inform(i,null,"state")},update:function(a,c){l(function(){b("DOM").setContent(j,a),c&&new(b("AsyncRequest"))("/ajax/privacy/glasgow/viewas_bar_flyout_open").send()})},registerSpecificModeOnClick:function(a){b("Event").listen(a,"click",function(){var c=b("Parent").bySelector(a,"._7f-");c instanceof HTMLElement&&m(c)})},registerFlyoutModalMask:function(){b("ModalMask").show(),b("PageTransitionsRegistrar").registerHandler(b("ModalMask").hide,10)}};e.exports=a}),null);
__d("FacebarPlaceholderShortcut",["fbt","KeyboardShortcuts","translateKey"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this._input=a,this._listener=null}a.prototype.enable=function(){this._registerListener()};a.prototype._registerListener=function(){this._listener&&this._listener.remove(),this._listener=b("KeyboardShortcuts").register("SLASH",this._handleKeydown.bind(this),{filter:function(a,b){return!a.getModifiers().shift},persistOnTransition:!0,shortcutInfo:{displayKeys:[b("translateKey")("/")],description:g._("Search")}})};a.prototype.disable=function(){this._listener&&this._listener.remove(),this._listener=null};a.prototype._handleKeydown=function(a){this._input.focus();return!1};e.exports=a}),null);
__d("XFacebarBootloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/typeahead/search/facebar/bootload/",{placeholder_id:{type:"String"}})}),null);
__d("FacebarBootloader",["AsyncRequest","BanzaiODS","CSS","Event","FacebarPlaceholderShortcut","Run","SubscriptionsHandler","XFacebarBootloadController","getActiveElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="facebar_bootloader",h=g+"_";a={isRequested:!1,isFocused:!1,isInitialized:!1,init:function(a,c,d,e){this.reset(),this.subscriptions=new(b("SubscriptionsHandler"))(),this.placeholder=d,this.searchInput=a,this.shortcutHandler=new(b("FacebarPlaceholderShortcut"))(a),this.loadingIndicator=c,this.shortcutHandler.enable(),this.subscriptions.addSubscriptions(b("Event").listen(a,"focus",function(){this.requestSearch(),this.showLoadingIndicator()}.bind(this)),b("Event").listen(d,"mouseover",this.requestSearch.bind(this)),b("Event").listen(a,"invalid",function(event){return event.preventDefault()})),e&&this.subscriptions.addSubscriptions(b("Event").listen(window,"load",this.requestSearch.bind(this))),b("Run").onUnload(this.reset.bind(this)),this.isInitialized=!0,(a.value||b("getActiveElement")()==a)&&(this.requestSearch(),this.showLoadingIndicator())},showLoadingIndicator:function(){this.loadingIndicator&&b("CSS").show(this.loadingIndicator)},reset:function(){this.subscriptions&&this.subscriptions.release(),this.shortcutHandler&&this.shortcutHandler.disable(),this.searchInput=this.subscriptions=this.shortcutHandler=null,this.loadingIndicator=null,this.isRequested=!1,this.isFocused=!1,this.isInitialized=!1},requestSearch:function(){b("getActiveElement")()==this.searchInput&&!this.isFocused&&(this.isFocused=!0,this.focusTime=Date.now());if(this.isRequested||!this.isInitialized)return;this.isRequested=!0;var a=b("XFacebarBootloadController").getURIBuilder().setString("placeholder_id",this.placeholder.getAttribute("id")).getURI(),c=new(b("AsyncRequest"))();c.setURI(a).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0).setErrorHandler(function(a){b("BanzaiODS").bumpEntityKey(g,h+"request_failed"),a&&a.errorSummary?b("BanzaiODS").bumpEntityKey(g,h+"request_failed_"+a.errorSummary):b("BanzaiODS").bumpEntityKey(g,h+"request_failed_no_error_summary"),this.isRequested=!1}).send()},setFocus:function(a,c,d){if(!this.searchInput)return;b("BanzaiODS").bumpEntityKey(g,h+"response_arrived");(this.searchInput.value||this.isFocused)&&(a.getCore().isFocused=!0,a.getCore().input.setValue(d.fromString(this.searchInput.value),!0),a.getCore().setStartTime(this.focusTime),c.focus(),c.setSelection({length:this.searchInput.selectionEnd-this.searchInput.selectionStart,offset:this.searchInput.selectionStart}),c.togglePlaceHolder&&c.togglePlaceholder());this.reset()}};e.exports=a}),null);
__d("PopoverLoadingMenu",["cx","BehaviorsMixin","DOM","PopoverMenuInterface","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("PopoverMenuInterface"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this),this._config=a||{},this._theme=a.theme||{}}a.prototype.getRoot=function(){"use strict";this._root||(this._root=b("DOM").create("div",{className:b("joinClasses")("_54nq",this._config.className,this._theme.className)},b("DOM").create("div",{className:"_54ng"},b("DOM").create("div",{className:"_54nf _54af"},b("DOM").create("span",{className:"_54ag"})))),this._config.behaviors&&this.enableBehaviors(this._config.behaviors));return this._root};Object.assign(a.prototype,b("BehaviorsMixin"),{_root:null});e.exports=a}),null);
__d("createEmojiElement",["cx","JSXDOM","gkx"],(function(a,b,c,d,e,f,g){function a(a,c,d){d=d||16;if(b("gkx")("676851")){var e={height:d,width:d,fontSize:d,backgroundImage:"url('"+c+"')"};return b("JSXDOM").span({className:"_5mfr"},[b("JSXDOM").span({className:"_6qdm",style:e},a)])}return b("JSXDOM").span({className:"_5mfr _47e3"},[b("JSXDOM").img({"aria-hidden":!0,className:"img",height:d,src:c,width:d}),b("JSXDOM").span({className:"_7oe"},a)])}e.exports=a}),null);
__d("DOMEmoji",["cx","EmojiImageURL","EmojiRenderer","FBEmojiUtils","JSXDOM","createEmojiElement","flattenArray","gkx","isElementNode"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={MAX_ITEMS:40,transform:function(a,c){c=c||{};var d=c.size||16;return b("flattenArray")(a.map(function(a){if(!b("isElementNode")(a))return b("EmojiRenderer").render(a,function(a){var c=b("FBEmojiUtils").getSupportedKey(a);return c?b("createEmojiElement")(a.join(""),b("EmojiImageURL").getFBEmojiURL(c,d),d):b("JSXDOM").span({className:"_4ay8"+(d===16?" _3kkw":"")},a.join(""))},this.MAX_ITEMS);else return a}.bind(this)))},params:function(a){if(!a)return this;var b=this;return{__params:!0,obj:b,params:a}}};e.exports=a}),null);
__d("TransformTextToDOMMixin",["flattenArray","isElementNode"],(function(a,b,c,d,e,f){__p&&__p();var g=3;a={transform:function(a,c){__p&&__p();return b("flattenArray")(a.map(function(a){__p&&__p();if(!b("isElementNode")(a)){var d=a,e=[],f=this.MAX_ITEMS||g;while(f--){var h=c?[d].concat(c):[d];h=this.match.apply(this,h);if(!h)break;e.push(d.substring(0,h.startIndex));e.push(h.element);d=d.substring(h.endIndex)}d&&e.push(d);return e}return a}.bind(this)))},params:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=this;return{__params:!0,obj:d,params:b}}};e.exports=a}),null);
__d("DOMEmote",["cx","fbt","EmojiImageURL","EmoticonEmojiList","EmoticonsList","JSXDOM","SupportedFBEmoji","TransformTextToDOMMixin","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={MAX_ITEMS:40,match:function(a,c){var d=c&&c.getMessengerEmote;a=d?b("EmoticonEmojiList").regexp.exec(a):b("EmoticonsList").regexp.exec(a);if(!a||!a.length)return!1;var e=a[2];a=a.index+a[1].length;d=d?b("EmoticonEmojiList").names[e]:b("EmoticonsList").emotes[e];return{startIndex:a,endIndex:a+e.length,element:this._element(e,d,c)}},_element:function(a,c,d){d=b("EmoticonsList").emoji[c];var e=null;d?e=b("JSXDOM").img({"aria-hidden":!0,className:"img",height:16,src:b("SupportedFBEmoji")[d]?b("EmojiImageURL").getFBEmojiURL(d):b("EmojiImageURL").getFBEmojiExtendedURL(d),width:16}):e=b("JSXDOM").span({"aria-hidden":!0,className:"emoticon emoticon_"+c});d=h._("{emoticonName} emoticon",[h._param("emoticonName",c)]);return b("JSXDOM").span({className:"_47e3 _5mfr",title:d},[e,b("JSXDOM").span({"aria-hidden":!0,className:"_7oe"},a)])}};e.exports=Object.assign(a,b("TransformTextToDOMMixin"))}),null);
__d("transformTextToDOM",["createArrayFromMixed"],(function(a,b,c,d,e,f){function a(a,c){var d=[a];c=b("createArrayFromMixed")(c);c.forEach(function(a){var b,c=a;a.__params&&(b=a.params,c=a.obj);d=c.transform(d,b)});return d}e.exports=a}),null);
__d("emojiAndEmote",["DOMEmoji","DOMEmote","FbtResultBase","transformTextToDOM"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){if(a instanceof b("FbtResultBase"))return[a];var d=c?{isSupportedEmoji:c.isSupportedEmoji}:null;c=c?{getMessengerEmote:c.getMessengerEmote}:null;d=[b("DOMEmoji").params(d),b("DOMEmote").params(c)];return b("transformTextToDOM")(a,d)};e.exports=a}),null);
__d("CompactTypeaheadRenderer",["BadgeHelper","DOM","TypeaheadFacepile","emojiAndEmote","isSocialPlugin"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){__p&&__p();c=[];if(a.xhp)return b("DOM").create("li",{className:"raw"},a.xhp);var d=a.photos||a.photo;d&&(d instanceof Array?d=b("TypeaheadFacepile").render(d):d=b("DOM").create("img",{alt:"",src:d}),c.push(d));d=a.iconClass;if(d){d=b("DOM").create("span",{className:d});c.push(d)}d=a.debug_info;d&&c.push(b("DOM").create("span",{className:"debugInfo"},d));if(a.text){d=[a.text];b("isSocialPlugin")()||(d=b("emojiAndEmote")(a.text));a.is_verified?d.push(b("BadgeHelper").renderBadge("xsmall","verified")):a.is_trending_hashtag&&d.push(b("BadgeHelper").renderBadge("xsmall","trending"));c.push(b("DOM").create("span",{className:"text"},d))}d=a.subtext;var e=a.category;if(d||e){var f=[];d&&f.push(d);d&&e&&f.push(" \xb7 ");e&&f.push(e);c.push(b("DOM").create("span",{className:"subtext"},f))}d=b("DOM").create("li",{className:a.type||""},c);a.text&&(d.setAttribute("title",a.text),d.setAttribute("aria-label",a.text));return d}a.className="compact";e.exports=a}),null);
__d("legacy:CompactTypeaheadRenderer",["CompactTypeaheadRenderer"],(function(a,b,c,d,e,f){a.TypeaheadRenderers||(a.TypeaheadRenderers={}),a.TypeaheadRenderers.compact=b("CompactTypeaheadRenderer")}),3);
__d("isCanvasAppURI",["isFacebookURI"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("isFacebookURI")(a)&&a.getSubdomain()==="apps"}e.exports=a}),null);
__d("filterSet",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();var c=new Set();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b(f)&&c.add(f)}return c}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/2v2plzJQoTQ/
 */
__d("IntersectionObserverFallback",["FBLogger","TimeSlice","containsNode","getElementRect","performanceNow","setInterval","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=document.documentElement,h=[];function i(a,b){var c=Math.max(a.top,b.top),d=Math.min(a.bottom,b.bottom),e=Math.max(a.left,b.left);a=Math.min(a.right,b.right);b=a-e;var f=d-c;return b>=0&&f>=0?{top:c,bottom:d,left:e,right:a,width:b,height:f}:undefined}function j(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function k(a){__p&&__p();this.time=a.time;this.target=a.target;this.rootBounds=a.rootBounds;this.boundingClientRect=a.boundingClientRect;this.intersectionRect=a.intersectionRect||j();this.isIntersecting=!!a.intersectionRect;a=this.boundingClientRect;a=a.width*a.height;var b=this.intersectionRect.width*this.intersectionRect.height;a?this.intersectionRatio=b/a:this.intersectionRatio=this.isIntersecting?1:0}function a(a,c){__p&&__p();this.THROTTLE_TIMEOUT=100;this.POLL_INTERVAL=null;this.$12=b("TimeSlice").guard(b("throttle")(function(){var a=this.$14(),c=a?this.$15():j();this.$6.forEach(function(d){var e=d.element,f=b("getElementRect")(e),g=this.$16(e),h=d.entry,i=a&&g&&!this.$2&&this.$17(e,c);d=d.entry=new k({time:b("performanceNow")(),target:e,boundingClientRect:f,rootBounds:c,intersectionRect:i});!h?this.$7.push(d):a&&g?this.$18(h,d)&&this.$7.push(d):h&&h.isIntersecting&&this.$7.push(d)}.bind(this));this.$7.length&&this.$1(this.takeRecords(),this)}.bind(this),this.THROTTLE_TIMEOUT),"IntersectionObserverFallback: checkForIntersections");this.$2=!1;try{window.top.document}catch(a){this.$2=!0}c=c||{};this.$1=a;this.$4=!1;this.$6=[];this.$7=[];this.$8=this.$9(c.rootMargin);this.thresholds=this.$10(c.threshold);this.root=c.root||null;this.rootMargin=this.$8.map(function(a){return a.value+a.unit}).join(" ")}a.prototype.$10=function(a){a=a||[0];Array.isArray(a)||(a=[a]);return a.sort().filter(function(a,b,c){return a!==c[b-1]})};a.prototype.$9=function(a){a=a||"0px";a=a.split(/\s+/).map(function(a){a=/^(-?\d*\.?\d+)(px|%)$/.exec(a);return{value:parseFloat(a[1]),unit:a[2]}});a[1]=a[1]||a[0];a[2]=a[2]||a[0];a[3]=a[3]||a[1];return a};a.prototype.$11=function(){this.$4||(this.$4=!0,this.$12(),this.POLL_INTERVAL?this.$5=b("setInterval")(this.$12,this.POLL_INTERVAL):(window.addEventListener("resize",this.$12),document.addEventListener("scroll",this.$12),"MutationObserver"in window&&(this.$3=new MutationObserver(this.$12),this.$3.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};a.prototype.$13=function(){this.$4&&(this.$4=!1,this.$5&&(clearInterval(this.$5),this.$5=undefined),window.removeEventListener("resize",this.$12),document.removeEventListener("scroll",this.$12),this.$3&&(this.$3.disconnect(),this.$3=undefined))};a.prototype.$17=function(a,c){__p&&__p();var d=window.getComputedStyle(a);if(!d||d.display=="none")return undefined;d=b("getElementRect")(a);d=d;a=a.parentElement;var e=!1;while(!e){var f=null;a==this.root||a&&a.nodeType!=1?(e=!0,f=c):a&&window.getComputedStyle(a).overflow!="visible"&&(f=b("getElementRect")(a));if(f){d=i(f,d);if(!d)break}a=a&&a.parentElement}return d};a.prototype.$15=function(){var a;if(this.root)a=b("getElementRect")(this.root);else{var c=document.documentElement,d=document.body,e=c&&c.clientWidth||d&&d.clientWidth;c=c&&c.clientHeight||d&&d.clientHeight;a={top:0,left:0,right:e,width:e,bottom:c,height:c}}return this.$19(a)};a.prototype.$19=function(a){var b=this.$8.map(function(b,c){return b.unit=="px"?b.value:b.value*(c%2?a.width:a.height)/100});b={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3],width:0,height:0};b.width=b.right-b.left;b.height=b.bottom-b.top;return b};a.prototype.$18=function(a,b){__p&&__p();a=a&&a.isIntersecting?a.intersectionRatio||0:-1;b=b.isIntersecting?b.intersectionRatio||0:-1;if(a===b)return!1;for(var c=0;c<this.thresholds.length;c++){var d=this.thresholds[c];if(d==a||d==b||d<a!==d<b)return!0}return!1};a.prototype.$14=function(){return!this.root||b("containsNode")(g,this.root)};a.prototype.$16=function(a){var c=this.root||g;return b("containsNode")(c,a)};a.prototype.$20=function(){h.indexOf(this)<0&&h.push(this)};a.prototype.$21=function(){var a=h.indexOf(this);a!=-1&&h.splice(a,1)};a.prototype.observe=function(a){__p&&__p();if(!a){b("FBLogger")("io").warn("IntersectionObserverFallback target does not exist");return}if(this.$6.some(function(b){return b.element==a}))return;this.$20();this.$6.push({element:a,entry:null});this.$11();this.$12()};a.prototype.unobserve=function(a){this.$6=this.$6.filter(function(b){return b.element!=a}),this.$6.length||(this.$13(),this.$21())};a.prototype.disconnect=function(){this.$6=[],this.$13(),this.$21()};a.prototype.takeRecords=function(){var a=this.$7.slice();this.$7=[];return a};e.exports=a}),null);
__d("IntersectionObserver",["IntersectionObserverFallback"],(function(a,b,c,d,e,f){"use strict";a="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;e.exports=a?window.IntersectionObserver:b("IntersectionObserverFallback")}),null);